"use strict";(self.webpackChunkGallery=self.webpackChunkGallery||[]).push([[179],{914:()=>{function zt(i){return"function"==typeof i}function gd(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const tp=gd(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ec(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class Ut{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(zt(n))try{n()}catch(s){t=s instanceof tp?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{RS(s)}catch(o){t=t??[],o instanceof tp?t=[...t,...o.errors]:t.push(o)}}if(t)throw new tp(t)}}add(t){var e;if(t&&t!==this)if(this.closed)RS(t);else{if(t instanceof Ut){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ec(e,t)}remove(t){const{_finalizers:e}=this;e&&ec(e,t),t instanceof Ut&&t._removeParent(this)}}Ut.EMPTY=(()=>{const i=new Ut;return i.closed=!0,i})();const IS=Ut.EMPTY;function OS(i){return i instanceof Ut||i&&"closed"in i&&zt(i.remove)&&zt(i.add)&&zt(i.unsubscribe)}function RS(i){zt(i)?i():i.unsubscribe()}const La={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},np={setTimeout(i,t,...e){const{delegate:n}=np;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=np;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function NS(i){np.setTimeout(()=>{const{onUnhandledError:t}=La;if(!t)throw i;t(i)})}function tc(){}const L5=Ly("C",void 0,void 0);function Ly(i,t,e){return{kind:i,value:t,error:e}}let Ba=null;function ip(i){if(La.useDeprecatedSynchronousErrorHandling){const t=!Ba;if(t&&(Ba={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=Ba;if(Ba=null,e)throw n}}else i()}class By extends Ut{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,OS(t)&&t.add(this)):this.destination=j5}static create(t,e,n){return new _d(t,e,n)}next(t){this.isStopped?zy(function V5(i){return Ly("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?zy(function B5(i){return Ly("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?zy(L5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H5=Function.prototype.bind;function Vy(i,t){return H5.call(i,t)}class U5{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){rp(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){rp(n)}else rp(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){rp(e)}}}class _d extends By{constructor(t,e,n){let r;if(super(),zt(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let s;this&&La.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Vy(t.next,s),error:t.error&&Vy(t.error,s),complete:t.complete&&Vy(t.complete,s)}):r=t}this.destination=new U5(r)}}function rp(i){La.useDeprecatedSynchronousErrorHandling?function z5(i){La.useDeprecatedSynchronousErrorHandling&&Ba&&(Ba.errorThrown=!0,Ba.error=i)}(i):NS(i)}function zy(i,t){const{onStoppedNotification:e}=La;e&&np.setTimeout(()=>e(i,t))}const j5={closed:!0,next:tc,error:function G5(i){throw i},complete:tc},Hy="function"==typeof Symbol&&Symbol.observable||"@@observable";function xs(i){return i}function Uy(...i){return kS(i)}function kS(i){return 0===i.length?xs:1===i.length?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}let cn=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){const s=function $5(i){return i&&i instanceof By||function W5(i){return i&&zt(i.next)&&zt(i.error)&&zt(i.complete)}(i)&&OS(i)}(e)?e:new _d(e,n,r);return ip(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=FS(n))((r,s)=>{const o=new _d({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[Hy](){return this}pipe(...e){return kS(e)(this)}toPromise(e){return new(e=FS(e))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=t=>new i(t),i})();function FS(i){var t;return null!==(t=i??La.Promise)&&void 0!==t?t:Promise}const q5=gd(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Be=(()=>{class i extends cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new LS(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new q5}next(e){ip(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){ip(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){ip(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:s}=this;return n||r?IS:(this.currentObservers=null,s.push(e),new Ut(()=>{this.currentObservers=null,ec(s,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:s}=this;n?e.error(r):s&&e.complete()}asObservable(){const e=new cn;return e.source=this,e}}return i.create=(t,e)=>new LS(t,e),i})();class LS extends Be{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:IS}}function BS(i){return zt(i?.lift)}function bn(i){return t=>{if(BS(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function sn(i,t,e,n,r){return new Y5(i,t,e,n,r)}class Y5 extends By{constructor(t,e,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Je(i,t){return bn((e,n)=>{let r=0;e.subscribe(sn(n,s=>{n.next(i.call(t,s,r++))}))})}function zS(i,t,e,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}function Va(i){return this instanceof Va?(this.v=i,this):new Va(i)}function Z5(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e.apply(i,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){n[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Va?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(n[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Q5(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=function US(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=i[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=i[s](o)).done,o.value)})}}}function Zn(i,t,e,n){if("a"===e&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?i!==t||!n:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?n:"a"===e?n.call(i):n?n.value:t.get(i)}const jy=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function GS(i){return zt(i?.then)}function jS(i){return zt(i[Hy])}function WS(i){return Symbol.asyncIterator&&zt(i?.[Symbol.asyncIterator])}function $S(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qS=function tB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function YS(i){return zt(i?.[qS])}function XS(i){return Z5(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:r}=yield Va(e.read());if(r)return yield Va(void 0);yield yield Va(n)}}finally{e.releaseLock()}})}function KS(i){return zt(i?.getReader)}function Ti(i){if(i instanceof cn)return i;if(null!=i){if(jS(i))return function nB(i){return new cn(t=>{const e=i[Hy]();if(zt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(jy(i))return function iB(i){return new cn(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(GS(i))return function rB(i){return new cn(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,NS)})}(i);if(WS(i))return ZS(i);if(YS(i))return function sB(i){return new cn(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(KS(i))return function oB(i){return ZS(XS(i))}(i)}throw $S(i)}function ZS(i){return new cn(t=>{(function aB(i,t){var e,n,r,s;return function X5(i,t,e,n){return new(e||(e=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((n=n.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Q5(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function oo(i,t,e,n=0,r=!1){const s=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(s),!r)return s}function ui(i,t,e=1/0){return zt(t)?ui((n,r)=>Je((s,o)=>t(n,s,r,o))(Ti(i(n,r))),e):("number"==typeof t&&(e=t),bn((n,r)=>function lB(i,t,e,n,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<n?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Ti(e(m,u++)).subscribe(sn(t,_=>{r?.(_),s?f(_):t.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<n;){const _=l.shift();o?oo(t,o,()=>p(_)):p(_)}h()}catch(_){t.error(_)}}))};return i.subscribe(sn(t,f,()=>{d=!0,h()})),()=>{a?.()}}(n,r,i,e)))}function nc(i=1/0){return ui(xs,i)}const ao=new cn(i=>i.complete());function QS(i){return i&&zt(i.schedule)}function Wy(i){return i[i.length-1]}function $y(i){return zt(Wy(i))?i.pop():void 0}function yd(i){return QS(Wy(i))?i.pop():void 0}function JS(i,t=0){return bn((e,n)=>{e.subscribe(sn(n,r=>oo(n,i,()=>n.next(r),t),()=>oo(n,i,()=>n.complete(),t),r=>oo(n,i,()=>n.error(r),t)))})}function e1(i,t=0){return bn((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function t1(i,t){if(!i)throw new Error("Iterable cannot be null");return new cn(e=>{oo(e,t,()=>{const n=i[Symbol.asyncIterator]();oo(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function n1(i,t){if(null!=i){if(jS(i))return function dB(i,t){return Ti(i).pipe(e1(t),JS(t))}(i,t);if(jy(i))return function fB(i,t){return new cn(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(GS(i))return function hB(i,t){return Ti(i).pipe(e1(t),JS(t))}(i,t);if(WS(i))return t1(i,t);if(YS(i))return function pB(i,t){return new cn(e=>{let n;return oo(e,t,()=>{n=i[qS](),oo(e,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>zt(n?.return)&&n.return()})}(i,t);if(KS(i))return function mB(i,t){return t1(XS(i),t)}(i,t)}throw $S(i)}function jn(i,t){return t?n1(i,t):Ti(i)}function di(...i){const t=yd(i),e=function uB(i,t){return"number"==typeof Wy(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?Ti(n[0]):nc(e)(jn(n,t)):ao}function ic(i={}){const{connector:t=(()=>new Be),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return bn((m,g)=>{c++,!d&&!u&&h();const _=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=qy(p,r))}),_.subscribe(g),!o&&c>0&&(o=new _d({next:y=>_.next(y),error:y=>{d=!0,h(),a=qy(f,e,y),_.error(y)},complete:()=>{u=!0,h(),a=qy(f,n),_.complete()}}),Ti(m).subscribe(o))})(s)}}function qy(i,t,...e){if(!0===t)return void i();if(!1===t)return;const n=new _d({next:()=>{n.unsubscribe(),i()}});return t(...e).subscribe(n)}function _n(i){for(let t in i)if(i[t]===_n)return t;throw Error("Could not find renamed property on target object.")}function Yy(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function yn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(yn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Xy(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const gB=_n({__forward_ref__:_n});function $t(i){return i.__forward_ref__=$t,i.toString=function(){return yn(this())},i}function pt(i){return Ky(i)?i():i}function Ky(i){return"function"==typeof i&&i.hasOwnProperty(gB)&&i.__forward_ref__===$t}class le extends Error{constructor(t,e){super(function sp(i,t){return`NG0${Math.abs(i)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function bt(i){return"string"==typeof i?i:null==i?"":String(i)}function op(i,t){throw new le(-201,!1)}function mr(i,t){null==i&&function on(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function _e(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xe(i){return{providers:i.providers||[],imports:i.imports||[]}}function Zy(i){return r1(i,ap)||r1(i,o1)}function r1(i,t){return i.hasOwnProperty(t)?i[t]:null}function s1(i){return i&&(i.hasOwnProperty(Qy)||i.hasOwnProperty(CB))?i[Qy]:null}const ap=_n({\u0275prov:_n}),Qy=_n({\u0275inj:_n}),o1=_n({ngInjectableDef:_n}),CB=_n({ngInjectorDef:_n});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Jy;function Ir(i){const t=Jy;return Jy=i,t}function a1(i,t,e){const n=Zy(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&lt.Optional?null:void 0!==t?t:void op(yn(i))}function Ko(i){return{toString:i}.toString()}var Kr=(()=>((Kr=Kr||{})[Kr.OnPush=0]="OnPush",Kr[Kr.Default=1]="Default",Kr))(),Zr=(()=>{return(i=Zr||(Zr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Zr;var i})();const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rc={},Jt=[],lp=_n({\u0275cmp:_n}),ev=_n({\u0275dir:_n}),tv=_n({\u0275pipe:_n}),l1=_n({\u0275mod:_n}),co=_n({\u0275fac:_n}),vd=_n({__NG_ELEMENT_ID__:_n});let DB=0;function Ge(i){return Ko(()=>{const e=!0===i.standalone,n={},r={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Kr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Jt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Zr.Emulated,id:"c"+DB++,styles:i.styles||Jt,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.dependencies,o=i.features;return r.inputs=d1(i.inputs,n),r.outputs=d1(i.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(c1).filter(u1):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(zi).filter(u1):null,r})}function c1(i){return un(i)||Vi(i)}function u1(i){return null!==i}const TB={};function Ke(i){return Ko(()=>{const t={type:i.type,bootstrap:i.bootstrap||Jt,declarations:i.declarations||Jt,imports:i.imports||Jt,exports:i.exports||Jt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(TB[i.id]=i.type),t})}function d1(i,t){if(null==i)return rc;const e={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=n,t&&(t[r]=s)}return e}const ue=Ge;function rr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function un(i){return i[lp]||null}function Vi(i){return i[ev]||null}function zi(i){return i[tv]||null}function gr(i,t){const e=i[l1]||null;if(!e&&!0===t)throw new Error(`Type ${yn(i)} does not have '\u0275mod' property.`);return e}function sr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Jr(i){return Array.isArray(i)&&!0===i[1]}function rv(i){return 0!=(8&i.flags)}function hp(i){return 2==(2&i.flags)}function fp(i){return 1==(1&i.flags)}function es(i){return null!==i.template}function RB(i){return 0!=(256&i[2])}function ja(i,t){return i.hasOwnProperty(co)?i[co]:null}class FB{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Wn(){return p1}function p1(i){return i.type.prototype.ngOnChanges&&(i.setInput=BB),LB}function LB(){const i=g1(this),t=i?.current;if(t){const e=i.previous;if(e===rc)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function BB(i,t,e,n){const r=g1(i)||function VB(i,t){return i[m1]=t}(i,{previous:rc,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],l=o[a];s[a]=new FB(l&&l.currentValue,t,o===rc),i[n]=t}Wn.ngInherit=!0;const m1="__ngSimpleChanges__";function g1(i){return i[m1]||null}function Qn(i){for(;Array.isArray(i);)i=i[0];return i}function pp(i,t){return Qn(t[i])}function Nr(i,t){return Qn(t[i.index])}function cv(i,t){return i.data[t]}function cc(i,t){return i[t]}function yr(i,t){const e=t[i];return sr(e)?e:e[0]}function _1(i){return 4==(4&i[2])}function uv(i){return 64==(64&i[2])}function Zo(i,t){return null==t?null:i[t]}function y1(i){i[18]=0}function dv(i,t){i[5]+=t;let e=i,n=i[3];for(;null!==n&&(1===t&&1===e[5]||-1===t&&0===e[5]);)n[5]+=t,e=n,n=n[3]}const yt={lFrame:E1(null),bindingsEnabled:!0};function b1(){return yt.bindingsEnabled}function pe(){return yt.lFrame.lView}function Gt(){return yt.lFrame.tView}function qt(i){return yt.lFrame.contextLView=i,i[8]}function Yt(i){return yt.lFrame.contextLView=null,i}function hi(){let i=M1();for(;null!==i&&64===i.type;)i=i.parent;return i}function M1(){return yt.lFrame.currentTNode}function ws(i,t){const e=yt.lFrame;e.currentTNode=i,e.isParent=t}function hv(){return yt.lFrame.isParent}function fv(){yt.lFrame.isParent=!1}function Hi(){const i=yt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function uc(){return yt.lFrame.bindingIndex++}function ho(i){const t=yt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function JB(i,t){const e=yt.lFrame;e.bindingIndex=e.bindingRootIndex=i,pv(t)}function pv(i){yt.lFrame.currentDirectiveIndex=i}function mv(i){const t=yt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}function C1(){return yt.lFrame.currentQueryIndex}function gv(i){yt.lFrame.currentQueryIndex=i}function t4(i){const t=i[1];return 2===t.type?t.declTNode:1===t.type?i[6]:null}function S1(i,t,e){if(e&lt.SkipSelf){let r=t,s=i;for(;!(r=r.parent,null!==r||e&lt.Host||(r=t4(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,i=s}const n=yt.lFrame=D1();return n.currentTNode=t,n.lView=i,!0}function _v(i){const t=D1(),e=i[1];yt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function D1(){const i=yt.lFrame,t=null===i?null:i.child;return null===t?E1(i):t}function E1(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function T1(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const P1=T1;function yv(){const i=T1();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ui(){return yt.lFrame.selectedIndex}function Qo(i){yt.lFrame.selectedIndex=i}function kn(){const i=yt.lFrame;return cv(i.tView,i.selectedIndex)}function Cd(){yt.lFrame.currentNamespace="svg"}function vv(){!function s4(){yt.lFrame.currentNamespace=null}()}function gp(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const s=i.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(i.contentHooks||(i.contentHooks=[])).push(-e,o),a&&((i.contentHooks||(i.contentHooks=[])).push(e,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-e,l),c&&((i.viewHooks||(i.viewHooks=[])).push(e,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,c)),null!=u&&(i.destroyHooks||(i.destroyHooks=[])).push(e,u)}}function _p(i,t,e){A1(i,t,3,e)}function yp(i,t,e,n){(3&i[2])===e&&A1(i,t,e,n)}function bv(i,t){let e=i[2];(3&e)===t&&(e&=2047,e+=1,i[2]=e)}function A1(i,t,e,n){const s=n??-1,o=t.length-1;let a=0;for(let l=void 0!==n?65535&i[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(i[18]+=65536),(a<s||-1==s)&&(l4(i,e,t,l),i[18]=(4294901760&i[18])+l+2),l++}function l4(i,t,e,n){const r=e[n]<0,s=e[n+1],a=i[r?-e[n]:e[n]];if(r){if(i[2]>>11<i[18]>>16&&(3&i[2])===t){i[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Sd{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function vp(i,t,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const s=e[n++],o=e[n++],a=e[n++];i.setAttribute(t,o,a,s)}else{const s=r,o=e[++n];O1(s)?i.setProperty(t,s,o):i.setAttribute(t,s,o),n++}}return n}function I1(i){return 3===i||4===i||6===i}function O1(i){return 64===i.charCodeAt(0)}function bp(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?e=r:0===e||R1(i,e,r,null,-1===e||2===e?t[++n]:null)}}return i}function R1(i,t,e,n,r){let s=0,o=i.length;if(-1===t)o=-1;else for(;s<i.length;){const a=i[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<i.length;){const a=i[s];if("number"==typeof a)break;if(a===e){if(null===n)return void(null!==r&&(i[s+1]=r));if(n===i[s+1])return void(i[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(i.splice(o,0,t),s=o+1),i.splice(s++,0,e),null!==n&&i.splice(s++,0,n),null!==r&&i.splice(s++,0,r)}function N1(i){return-1!==i}function dc(i){return 32767&i}function hc(i,t){let e=function f4(i){return i>>16}(i),n=t;for(;e>0;)n=n[15],e--;return n}let xv=!0;function Mp(i){const t=xv;return xv=i,t}let p4=0;const Cs={};function Ed(i,t){const e=Cv(i,t);if(-1!==e)return e;const n=t[1];n.firstCreatePass&&(i.injectorIndex=t.length,wv(n.data,i),wv(t,null),wv(n.blueprint,null));const r=xp(i,t),s=i.injectorIndex;if(N1(r)){const o=dc(r),a=hc(r,t),l=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function wv(i,t){i.push(0,0,0,0,0,0,0,0,t)}function Cv(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function xp(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;null!==r;){if(n=G1(r),null===n)return-1;if(e++,r=r[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function wp(i,t,e){!function m4(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(vd)&&(n=e[vd]),null==n&&(n=e[vd]=p4++);const r=255&n;t.data[i+(r>>5)]|=1<<r}(i,t,e)}function L1(i,t,e){if(e&lt.Optional)return i;op()}function B1(i,t,e,n){if(e&lt.Optional&&void 0===n&&(n=null),0==(e&(lt.Self|lt.Host))){const r=i[9],s=Ir(void 0);try{return r?r.get(t,n,e&lt.Optional):a1(t,n,e&lt.Optional)}finally{Ir(s)}}return L1(n,0,e)}function V1(i,t,e,n=lt.Default,r){if(null!==i){if(1024&t[2]){const o=function b4(i,t,e,n,r){let s=i,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=z1(s,o,e,n|lt.Self,Cs);if(a!==Cs)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(e,Cs,n);if(u!==Cs)return u}l=G1(o),o=o[15]}s=l}return r}(i,t,e,n,Cs);if(o!==Cs)return o}const s=z1(i,t,e,n,Cs);if(s!==Cs)return s}return B1(t,e,n,r)}function z1(i,t,e,n,r){const s=function y4(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(vd)?i[vd]:void 0;return"number"==typeof t?t>=0?255&t:v4:t}(e);if("function"==typeof s){if(!S1(t,i,n))return n&lt.Host?L1(r,0,n):B1(t,e,n,r);try{const o=s(n);if(null!=o||n&lt.Optional)return o;op()}finally{P1()}}else if("number"==typeof s){let o=null,a=Cv(i,t),l=-1,c=n&lt.Host?t[16][6]:null;for((-1===a||n&lt.SkipSelf)&&(l=-1===a?xp(i,t):t[a+8],-1!==l&&U1(n,!1)?(o=t[1],a=dc(l),t=hc(l,t)):a=-1);-1!==a;){const u=t[1];if(H1(s,a,u.data)){const d=_4(a,t,e,o,n,c);if(d!==Cs)return d}l=t[a+8],-1!==l&&U1(n,t[1].data[a+8]===c)&&H1(s,a,t)?(o=u,a=dc(l),t=hc(l,t)):a=-1}}return r}function _4(i,t,e,n,r,s){const o=t[1],a=o.data[i+8],u=Cp(a,o,e,null==n?hp(a)&&xv:n!=o&&0!=(3&a.type),r&lt.Host&&s===a);return null!==u?Td(t,o,u,a):Cs}function Cp(i,t,e,n,r){const s=i.providerIndexes,o=t.data,a=1048575&s,l=i.directiveStart,u=s>>20,h=r?a+u:i.directiveEnd;for(let f=n?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&es(f)&&f.type===e)return l}return null}function Td(i,t,e,n){let r=i[e];const s=t.data;if(function c4(i){return i instanceof Sd}(r)){const o=r;o.resolving&&function _B(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new le(-200,`Circular dependency in DI detected for ${i}${e}`)}(function Qt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():bt(i)}(s[e]));const a=Mp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ir(o.injectImpl):null;S1(i,n,lt.Default);try{r=i[e]=o.factory(void 0,s,i,n),t.firstCreatePass&&e>=n.directiveStart&&function a4(i,t,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){const o=p1(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,s))}(e,s[e],t)}finally{null!==l&&Ir(l),Mp(a),o.resolving=!1,P1()}}return r}function H1(i,t,e){return!!(e[t+(i>>5)]&1<<i)}function U1(i,t){return!(i&lt.Self||i&lt.Host&&t)}class fc{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return V1(this._tNode,this._lView,t,n,e)}}function v4(){return new fc(hi(),pe())}function it(i){return Ko(()=>{const t=i.prototype.constructor,e=t[co]||Sv(t),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const s=r[co]||Sv(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Sv(i){return Ky(i)?()=>{const t=Sv(pt(i));return t&&t()}:ja(i)}function G1(i){const t=i[1],e=t.type;return 2===e?t.declTNode:1===e?i[6]:null}function Ss(i){return function g4(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const s=e[r];if(I1(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(hi(),i)}const pc="__annotations__",mc="__parameters__",gc="__prop__metadata__";function j1(i,t,e,n,r){return Ko(()=>{const s=Dv(t);function o(...a){if(this instanceof o)return s.call(this,...a),this;const l=new o(...a);return function(u){return r&&r(u,...a),(u.hasOwnProperty(pc)?u[pc]:Object.defineProperty(u,pc,{value:[]})[pc]).push(l),n&&n(u),u}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=i,o.annotationCls=o,o})}function Dv(i){return function(...e){if(i){const n=i(...e);for(const r in n)this[r]=n[r]}}}function _c(i,t,e){return Ko(()=>{const n=Dv(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(mc)?l[mc]:Object.defineProperty(l,mc,{value:[]})[mc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}const M4=_c("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>Ss(i)}));class he{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_e({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const x4=new he("AnalyzeForEntryComponents");function fi(i){const t=pn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Ev=Function;function Ad(i){return"function"==typeof i}function vr(i,t){void 0===t&&(t=i);for(let e=0;e<i.length;e++){let n=i[e];Array.isArray(n)?(t===i&&(t=i.slice(0,e)),vr(n,t)):t!==i&&t.push(n)}return t}function fo(i,t){i.forEach(e=>Array.isArray(e)?fo(e,t):t(e))}function W1(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Sp(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Id(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function br(i,t,e){let n=yc(i,t);return n>=0?i[1|n]=e:(n=~n,function S4(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(1===r)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;)i[r]=i[r-2],r--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function Tv(i,t){const e=yc(i,t);if(e>=0)return i[1|e]}function yc(i,t){return function Y1(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){const s=n+(r-n>>1),o=i[s<<e];if(t===o)return s<<e;o>t?r=s:n=s+1}return~(r<<e)}(i,t,1)}const D4=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,E4=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,T4=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,P4=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class I4{constructor(t){this._reflect=t||pn.Reflect}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Id(typeof t>"u"?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=typeof t>"u"?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(function A4(i){return D4.test(i)||P4.test(i)||E4.test(i)&&!T4.test(i)}(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const a="function"==typeof r?r():r,l=a.map(u=>u&&u.type),c=a.map(u=>u&&Pv(u.decorators));return this._zipTypesAndAnnotations(l,c)}const s=t.hasOwnProperty(mc)&&t[mc],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||s?this._zipTypesAndAnnotations(o,s):Id(t.length)}parameters(t){if(!Ad(t))return[];const e=Dp(t);let n=this._ownParameters(t,e);return!n&&e!==Object&&(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Pv(t.decorators):t.hasOwnProperty(pc)?t[pc]:null}annotations(t){if(!Ad(t))return[];const e=Dp(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const n=t.propDecorators,r={};return Object.keys(n).forEach(s=>{r[s]=Pv(n[s])}),r}return t.hasOwnProperty(gc)?t[gc]:null}propMetadata(t){if(!Ad(t))return{};const e=Dp(t),n={};if(e!==Object){const s=this.propMetadata(e);Object.keys(s).forEach(o=>{n[o]=s[o]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(s=>{const o=[];n.hasOwnProperty(s)&&o.push(...n[s]),o.push(...r[s]),n[s]=o}),n}ownPropMetadata(t){return Ad(t)&&this._ownPropMetadata(t,Dp(t))||{}}hasLifecycleHook(t,e){return t instanceof Ev&&e in t.prototype}}function Pv(i){return i?i.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Dp(i){const t=i.prototype?Object.getPrototypeOf(i.prototype):null;return(t?t.constructor:null)||Object}const Od={},Av="__NG_DI_FLAG__",Ep="ngTempTokenPath",R4=/\n/gm,X1="__source";let Rd;function vc(i){const t=Rd;return Rd=i,t}function k4(i,t=lt.Default){if(void 0===Rd)throw new le(-203,!1);return null===Rd?a1(i,void 0,t):Rd.get(i,t&lt.Optional?null:void 0,t)}function z(i,t=lt.Default){return(function SB(){return Jy}()||k4)(pt(i),t)}function Sn(i,t=lt.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),z(i,t)}function Iv(i){const t=[];for(let e=0;e<i.length;e++){const n=pt(i[e]);if(Array.isArray(n)){if(0===n.length)throw new le(900,!1);let r,s=lt.Default;for(let o=0;o<n.length;o++){const a=n[o],l=F4(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(z(r,s))}else t.push(z(n))}return t}function Nd(i,t){return i[Av]=t,i.prototype[Av]=t,i}function F4(i){return i[Av]}const Ov=Nd(_c("Inject",i=>({token:i})),-1),ts=Nd(_c("Optional"),8),Z1=Nd(_c("Self"),2),Wa=Nd(_c("SkipSelf"),4),V4=Nd(_c("Host"),1);let Rv,Ap,Q1=null;function Tp(i){return J1(function kd(){return Q1=Q1||new I4}().parameters(i))}function J1(i){return i.map(t=>function z4(i){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let e=0;e<i.length;e++){const n=i[e];if(void 0===n)continue;const r=Object.getPrototypeOf(n);if(n instanceof ts||"Optional"===r.ngMetadataName)t.optional=!0;else if(n instanceof Wa||"SkipSelf"===r.ngMetadataName)t.skipSelf=!0;else if(n instanceof Z1||"Self"===r.ngMetadataName)t.self=!0;else if(n instanceof V4||"Host"===r.ngMetadataName)t.host=!0;else if(n instanceof Ov)t.token=n.token;else if(n instanceof M4){if(void 0===n.attributeName)throw new le(204,!1);t.attribute=n.attributeName}else t.token=n}else t.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return t}(t))}function Mc(i){return function Nv(){if(void 0===Ap&&(Ap=null,pn.trustedTypes))try{Ap=pn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ap}()?.createHTML(i)||i}class $a{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Z4 extends $a{getTypeName(){return"HTML"}}class Q4 extends $a{getTypeName(){return"Style"}}class J4 extends $a{getTypeName(){return"Script"}}class eV extends $a{getTypeName(){return"URL"}}class tV extends $a{getTypeName(){return"ResourceURL"}}function Mr(i){return i instanceof $a?i.changingThisBreaksApplicationSecurity:i}function Ds(i,t){const e=function nV(i){return i instanceof $a&&i.getTypeName()||null}(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class lV{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class cV{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const n=this.inertDocument.createElement("body");e.appendChild(n)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mc(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mc(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const dV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ld(i){return(i=String(i)).match(dV)||i.match(hV)?i:"unsafe:"+i}function Es(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function Bd(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const uD=Es("area,br,col,hr,img,wbr"),dD=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hD=Es("rp,rt"),Fv=Bd(uD,Bd(dD,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bd(hD,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bd(hD,dD)),Lv=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bv=Es("srcset"),fD=Bd(Lv,Bv,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fV=Es("script,style,template");class pV{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Fv.hasOwnProperty(e))return this.sanitizedSomething=!0,!fV.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,a=o.toLowerCase();if(!fD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Lv[a]&&(l=Ld(l)),Bv[a]&&(i=l,l=(i=String(i)).split(",").map(t=>Ld(t.trim())).join(", ")),this.buf.push(" ",o,'="',pD(l),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Fv.hasOwnProperty(e)&&!uD.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pD(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gV=/([^\#-~ |!])/g;function pD(i){return i.replace(/&/g,"&amp;").replace(mV,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gV,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Op;function mD(i,t){let e=null;try{Op=Op||function lD(i){const t=new cV(i);return function uV(){try{return!!(new window.DOMParser).parseFromString(Mc(""),"text/html")}catch{return!1}}()?new lV(t):t}(i);let n=t?String(t):"";e=Op.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=e.innerHTML,e=Op.getInertBodyElement(n)}while(n!==s);return Mc((new pV).sanitizeChildren(Vv(e)||e))}finally{if(e){const n=Vv(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Vv(i){return"content"in i&&function _V(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function xc(i){const t=function Vd(){const i=pe();return i&&i[12]}();return t?t.sanitize(en.URL,i)||"":Ds(i,"URL")?Mr(i):Ld(bt(i))}const zv=new he("ENVIRONMENT_INITIALIZER"),_D=new he("INJECTOR",-1),yD=new he("INJECTOR_DEF_TYPES");class vD{get(t,e=Od){if(e===Od){const n=new Error(`NullInjectorError: No provider for ${yn(t)}!`);throw n.name="NullInjectorError",n}return e}}function SV(...i){return{\u0275providers:bD(0,i)}}function bD(i,...t){const e=[],n=new Set;let r;return fo(t,s=>{const o=s;Hv(o,e,[],n)&&(r||(r=[]),r.push(o))}),void 0!==r&&MD(r,e),e}function MD(i,t){for(let e=0;e<i.length;e++){const{providers:r}=i[e];fo(r,s=>{t.push(s)})}}function Hv(i,t,e,n){if(!(i=pt(i)))return!1;let r=null,s=s1(i);const o=!s&&un(i);if(s||o){if(o&&!o.standalone)return!1;r=i}else{const l=i.ngModule;if(s=s1(l),!s)return!1;r=l}const a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Hv(c,t,e,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;n.add(r);try{fo(s.imports,u=>{Hv(u,t,e,n)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&MD(c,t)}if(!a){const c=ja(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:Jt},{provide:yD,useValue:r,multi:!0},{provide:zv,useValue:()=>z(r),multi:!0})}const l=s.providers;null==l||a||fo(l,u=>{t.push(u)})}}return r!==i&&void 0!==i.providers}const DV=_n({provide:String,useValue:_n});function Uv(i){return null!==i&&"object"==typeof i&&DV in i}function qa(i){return"function"==typeof i}const Gv=new he("Set Injector scope."),Rp={},TV={};let jv;function Np(){return void 0===jv&&(jv=new vD),jv}class ea{}class CD extends ea{constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$v(t,o=>this.processProvider(o)),this.records.set(_D,wc(void 0,this)),r.has("environment")&&this.records.set(ea,wc(void 0,this));const s=this.records.get(Gv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yD.multi,Jt,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=vc(this),n=Ir(void 0);try{return t()}finally{vc(e),Ir(n)}}get(t,e=Od,n=lt.Default){this.assertNotDestroyed();const r=vc(this),s=Ir(void 0);try{if(!(n&lt.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function RV(i){return"function"==typeof i||"object"==typeof i&&i instanceof he}(t)&&Zy(t);a=l&&this.injectableDefInScope(l)?wc(Wv(t),Rp):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(n&lt.Self?Np():this.parent).get(t,e=n&lt.Optional&&e===Od?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Ep]=o[Ep]||[]).unshift(yn(t)),r)throw o;return function L4(i,t,e,n){const r=i[Ep];throw t[X1]&&r.unshift(t[X1]),i.message=function B4(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=yn(t);if(Array.isArray(t))r=t.map(yn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):yn(a)))}r=`{${s.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(R4,"\n  ")}`}("\n"+i.message,r,e,n),i.ngTokenPath=r,i[Ep]=null,i}(o,t,"R3InjectorError",this.source)}throw o}finally{Ir(s),vc(r)}}resolveInjectorInitializers(){const t=vc(this),e=Ir(void 0);try{const n=this.get(zv.multi,Jt,lt.Self);for(const r of n)r()}finally{vc(t),Ir(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(yn(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(t){let e=qa(t=pt(t))?t:pt(t&&t.provide);const n=function AV(i){return Uv(i)?wc(void 0,i.useValue):wc(SD(i),Rp)}(t);if(qa(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=wc(void 0,Rp,!0),r.factory=()=>Iv(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===Rp&&(e.value=TV,e.value=e.factory()),"object"==typeof e.value&&e.value&&function OV(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=pt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Wv(i){const t=Zy(i),e=null!==t?t.factory:ja(i);if(null!==e)return e;if(i instanceof he)throw new le(204,!1);if(i instanceof Function)return function PV(i){const t=i.length;if(t>0)throw Id(t,"?"),new le(204,!1);const e=function xB(i){const t=i&&(i[ap]||i[o1]);if(t){const e=function wB(i){if(i.hasOwnProperty("name"))return i.name;const t=(""+i).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new le(204,!1)}function SD(i,t,e){let n;if(qa(i)){const r=pt(i);return ja(r)||Wv(r)}if(Uv(i))n=()=>pt(i.useValue);else if(function wD(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...Iv(i.deps||[]));else if(function xD(i){return!(!i||!i.useExisting)}(i))n=()=>z(pt(i.useExisting));else{const r=pt(i&&(i.useClass||i.provide));if(!function IV(i){return!!i.deps}(i))return ja(r)||Wv(r);n=()=>new r(...Iv(i.deps))}return n}function wc(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function NV(i){return!!i.\u0275providers}function $v(i,t){for(const e of i)Array.isArray(e)?$v(e,t):NV(e)?$v(e.\u0275providers,t):t(e)}class DD{}class LV{resolveComponentFactory(t){throw function FV(i){const t=Error(`No component factory found for ${yn(i)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=i,t}(t)}}let Ya=(()=>{class i{}return i.NULL=new LV,i})();function BV(){return Cc(hi(),pe())}function Cc(i,t){return new mt(Nr(i,t))}let mt=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=BV,i})();function VV(i){return i instanceof mt?i.nativeElement:i}class zd{}let po=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function zV(){const i=pe(),e=yr(hi().index,i);return(sr(e)?e:i)[11]}(),i})(),HV=(()=>{class i{}return i.\u0275prov=_e({token:i,providedIn:"root",factory:()=>null}),i})();class Xa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const UV=new Xa("14.1.0"),qv={};function Qv(i){return i.ngOriginalError}class mo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Qv(t);for(;e&&Qv(e);)e=Qv(e);return e||null}}const Jv=new Map;let tz=0;const tb="__ngContext__";function Ii(i,t){sr(t)?(i[tb]=t[20],function iz(i){Jv.set(i[20],i)}(t)):i[tb]=t}function Hd(i){const t=i[tb];return"number"==typeof t?function OD(i){return Jv.get(i)||null}(t):t||null}function nb(i){const t=Hd(i);return t?sr(t)?t:t.lView:null}const hz=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(pn))();function ib(i){return i.ownerDocument.defaultView}function go(i){return i instanceof Function?i():i}var or=(()=>((or=or||{})[or.Important=1]="Important",or[or.DashCase=2]="DashCase",or))();function sb(i,t){return undefined(i,t)}function Ud(i){const t=i[3];return Jr(t)?t[3]:t}function ob(i){return zD(i[13])}function ab(i){return zD(i[4])}function zD(i){for(;null!==i&&!Jr(i);)i=i[4];return i}function Dc(i,t,e,n,r){if(null!=n){let s,o=!1;Jr(n)?s=n:sr(n)&&(o=!0,n=n[0]);const a=Qn(n);0===i&&null!==e?null==r?$D(t,e,a):Ka(t,e,a,r||null,!0):1===i&&null!==e?Ka(t,e,a,r||null,!0):2===i?function JD(i,t,e){const n=kp(i,t);n&&function Pz(i,t,e,n){i.removeChild(t,e,n)}(i,n,t,e)}(t,a,o):3===i&&t.destroyNode(a),null!=s&&function Oz(i,t,e,n,r){const s=e[7];s!==Qn(e)&&Dc(t,i,n,s,r);for(let a=10;a<e.length;a++){const l=e[a];Gd(l[1],l,i,t,n,s)}}(t,i,s,e,r)}}function cb(i,t,e){return i.createElement(t,e)}function UD(i,t){const e=i[9],n=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,dv(r,-1)),e.splice(n,1)}function ub(i,t){if(i.length<=10)return;const e=10+t,n=i[e];if(n){const r=n[17];null!==r&&r!==i&&UD(r,n),t>0&&(i[e-1][4]=n[4]);const s=Sp(i,10+t);!function Mz(i,t){Gd(i,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const o=s[19];null!==o&&o.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-65}return n}function GD(i,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Gd(i,t,e,3,null,null),function Cz(i){let t=i[13];if(!t)return db(i[1],i);for(;t;){let e=null;if(sr(t))e=t[13];else{const n=t[10];n&&(e=n)}if(!e){for(;t&&!t[4]&&t!==i;)sr(t)&&db(t[1],t),t=t[3];null===t&&(t=i),sr(t)&&db(t[1],t),e=t&&t[4]}t=e}}(t)}}function db(i,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Tz(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const r=t[e[n]];if(!(r instanceof Sd)){const s=e[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(i,t),function Ez(i,t){const e=i.cleanup,n=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):Qn(t[o]),l=n[r=e[s+2]],c=e[s+3];"boolean"==typeof c?a.removeEventListener(e[s],l,c):c>=0?n[r=c]():n[r=-c].unsubscribe(),s+=2}else{const o=n[r=e[s+1]];e[s].call(o)}if(null!==n){for(let s=r+1;s<n.length;s++)(0,n[s])();t[7]=null}}(i,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Jr(t[3])){e!==t[3]&&UD(e,t);const n=t[19];null!==n&&n.detachView(i)}!function rz(i){Jv.delete(i[20])}(t)}}function jD(i,t,e){return function WD(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[0];if(2&n.flags){const r=i.data[n.directiveStart].encapsulation;if(r===Zr.None||r===Zr.Emulated)return null}return Nr(n,e)}(i,t.parent,e)}function Ka(i,t,e,n,r){i.insertBefore(t,e,n,r)}function $D(i,t,e){i.appendChild(t,e)}function qD(i,t,e,n,r){null!==n?Ka(i,t,e,n,r):$D(i,t,e)}function kp(i,t){return i.parentNode(t)}function YD(i,t,e){return KD(i,t,e)}let KD=function XD(i,t,e){return 40&i.type?Nr(i,e):null};function Fp(i,t,e,n){const r=jD(i,n,t),s=t[11],a=YD(n.parent||t[6],n,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)qD(s,r,e[l],a,!1);else qD(s,r,e,a,!1)}function Lp(i,t){if(null!==t){const e=t.type;if(3&e)return Nr(t,i);if(4&e)return fb(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return Lp(i,n);{const r=i[t.index];return Jr(r)?fb(-1,r):Qn(r)}}if(32&e)return sb(t,i)()||Qn(i[t.index]);{const n=QD(i,t);return null!==n?Array.isArray(n)?n[0]:Lp(Ud(i[16]),n):Lp(i,t.next)}}return null}function QD(i,t){return null!==t?i[16][6].projection[t.projection]:null}function fb(i,t){const e=10+i+1;if(e<t.length){const n=t[e],r=n[1].firstChild;if(null!==r)return Lp(n,r)}return t[7]}function pb(i,t,e,n,r,s,o){for(;null!=e;){const a=n[e.index],l=e.type;if(o&&0===t&&(a&&Ii(Qn(a),n),e.flags|=4),64!=(64&e.flags))if(8&l)pb(i,t,e.child,n,r,s,!1),Dc(t,i,r,a,s);else if(32&l){const c=sb(e,n);let u;for(;u=c();)Dc(t,i,r,u,s);Dc(t,i,r,a,s)}else 16&l?eE(i,t,n,e,r,s):Dc(t,i,r,a,s);e=o?e.projectionNext:e.next}}function Gd(i,t,e,n,r,s){pb(e,n,i.firstChild,t,r,s,!1)}function eE(i,t,e,n,r,s){const o=e[16],l=o[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Dc(t,i,r,l[c],s);else pb(i,t,l,o[3],r,s,!0)}function tE(i,t,e){i.setAttribute(t,"style",e)}function mb(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function nE(i,t,e){let n=i.length;for(;;){const r=i.indexOf(t,e);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const s=t.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}e=r+1}}const iE="ng-template";function Nz(i,t,e){let n=0;for(;n<i.length;){let r=i[n++];if(e&&"class"===r){if(r=i[n],-1!==nE(r.toLowerCase(),t,0))return!0}else if(1===r){for(;n<i.length&&"string"==typeof(r=i[n++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function rE(i){return 4===i.type&&i.value!==iE}function kz(i,t,e){return t===(4!==i.type||e?i.value:iE)}function Fz(i,t,e){let n=4;const r=i.attrs||[],s=function Vz(i){for(let t=0;t<i.length;t++)if(I1(i[t]))return t;return i.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!kz(i,l,e)||""===l&&1===t.length){if(ns(n))return!1;o=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==i.attrs){if(!Nz(i.attrs,c,e)){if(ns(n))return!1;o=!0}continue}const d=Lz(8&n?"class":l,r,rE(i),e);if(-1===d){if(ns(n))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&n?h:null;if(f&&-1!==nE(f,c,0)||2&n&&c!==h){if(ns(n))return!1;o=!0}}}}else{if(!o&&!ns(n)&&!ns(l))return!1;if(o&&ns(l))continue;o=!1,n=l|1&n}}return ns(n)||o}function ns(i){return 0==(1&i)}function Lz(i,t,e,n){if(null===t)return-1;let r=0;if(n||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===i)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function zz(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function sE(i,t,e=!1){for(let n=0;n<t.length;n++)if(Fz(i,t[n],e))return!0;return!1}function Hz(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function oE(i,t){return i?":not("+t.trim()+")":t}function Uz(i){let t=i[0],e=1,n=2,r="",s=!1;for(;e<i.length;){let o=i[e];if("string"==typeof o)if(2&n){const a=i[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!ns(o)&&(t+=oE(s,r),r=""),n=o,s=s||!ns(n);e++}return""!==r&&(t+=oE(s,r)),t}const Mt={};function W(i){aE(Gt(),pe(),Ui()+i,!1)}function aE(i,t,e,n){if(!n)if(3==(3&t[2])){const s=i.preOrderCheckHooks;null!==s&&_p(t,s,e)}else{const s=i.preOrderHooks;null!==s&&yp(t,s,0,e)}Qo(e)}const lE={\u0275\u0275defineInjectable:_e,\u0275\u0275defineInjector:Xe,\u0275\u0275inject:z,\u0275\u0275invalidFactoryDep:function K1(i){throw new le(202,!1)},resolveForwardRef:pt};const $z=_n({provide:String,useValue:_n});function cE(i){return void 0!==i.useClass}function uE(i){return void 0!==i.useFactory}const dE=j1("Injectable",void 0,void 0,void 0,(i,t)=>function Wz(i,t){let e=null,n=null;i.hasOwnProperty(ap)||Object.defineProperty(i,ap,{get:()=>(null===e&&(e=fi().compileInjectable(lE,`ng:///${i.name}/\u0275prov.js`,function Xz(i,t){const e=t||{providedIn:null},n={name:i.name,type:i,typeArgumentCount:0,providedIn:e.providedIn};return(cE(e)||uE(e))&&void 0!==e.deps&&(n.deps=J1(e.deps)),cE(e)?n.useClass=e.useClass:function qz(i){return $z in i}(e)?n.useValue=e.useValue:uE(e)?n.useFactory=e.useFactory:function Yz(i){return void 0!==i.useExisting}(e)&&(n.useExisting=e.useExisting),n}(i,t))),e)}),i.hasOwnProperty(co)||Object.defineProperty(i,co,{get:()=>{if(null===n){const r=fi();n=r.compileFactory(lE,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:Tp(i),target:r.FactoryTarget.Injectable})}return n},configurable:!0})}(i,t));function hE(i,t=null,e=null,n){const r=fE(i,t,e,n);return r.resolveInjectorInitializers(),r}function fE(i,t=null,e=null,n,r=new Set){const s=[e||Jt,SV(i)];return n=n||("object"==typeof i?void 0:yn(i)),new CD(s,t||Np(),n||null,r)}let Jn=(()=>{class i{static create(e,n){if(Array.isArray(e))return hE({name:""},n,e,"");{const r=e.name??"";return hE({name:r},e.parent,e.providers,r)}}}return i.THROW_IF_NOT_FOUND=Od,i.NULL=new vD,i.\u0275prov=_e({token:i,providedIn:"any",factory:()=>z(_D)}),i.__NG_ELEMENT_ID__=-1,i})();function D(i,t=lt.Default){const e=pe();return null===e?z(i,t):V1(hi(),e,pt(i),t)}function Tc(){throw new Error("invalid")}function Vp(i,t){return i<<17|t<<2}function rs(i){return i>>17&32767}function bb(i){return 2|i}function _o(i){return(131068&i)>>2}function Mb(i,t){return-131069&i|t<<2}function xb(i){return 1|i}function AE(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const r=e[n],s=e[n+1];if(-1!==s){const o=i.data[s];gv(r),o.contentQueries(2,t[s],s)}}}function Up(i,t,e,n,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[0]=r,d[2]=76|n,(null!==u||i&&1024&i[2])&&(d[2]|=1024),y1(d),d[3]=d[15]=i,d[8]=e,d[10]=o||i&&i[10],d[11]=a||i&&i[11],d[12]=l||i&&i[12]||null,d[9]=c||i&&i[9]||null,d[6]=s,d[20]=function nz(){return tz++}(),d[21]=u,d[16]=2==t.type?i[16]:d,d}function Pc(i,t,e,n,r){let s=i.data[t];if(null===s)s=function Ib(i,t,e,n,r){const s=M1(),o=hv(),l=i.data[t]=function S6(i,t,e,n,r,s){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,n,r);return null===i.firstChild&&(i.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(i,t,e,n,r),function QB(){return yt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=n,s.attrs=r;const o=function wd(){const i=yt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ws(s,!0),s}function Ac(i,t,e,n){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function Gp(i,t,e){_v(t);try{const n=i.viewQuery;null!==n&&zb(1,n,e);const r=i.template;null!==r&&IE(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&AE(i,t),i.staticViewQueries&&zb(2,i.viewQuery,e);const s=i.components;null!==s&&function M6(i,t){for(let e=0;e<t.length;e++)H6(i,t[e])}(t,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[2]&=-5,yv()}}function jd(i,t,e,n){const r=t[2];if(128!=(128&r)){_v(t);try{y1(t),function x1(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&IE(i,t,e,2,n);const o=3==(3&r);if(o){const c=i.preOrderCheckHooks;null!==c&&_p(t,c,null)}else{const c=i.preOrderHooks;null!==c&&yp(t,c,0,null),bv(t,0)}if(function V6(i){for(let t=ob(i);null!==t;t=ab(t)){if(!t[2])continue;const e=t[9];for(let n=0;n<e.length;n++){const r=e[n],s=r[3];0==(512&r[2])&&dv(s,1),r[2]|=512}}}(t),function B6(i){for(let t=ob(i);null!==t;t=ab(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];uv(n)&&jd(r,n,r.template,n[8])}}(t),null!==i.contentQueries&&AE(i,t),o){const c=i.contentCheckHooks;null!==c&&_p(t,c)}else{const c=i.contentHooks;null!==c&&yp(t,c,1),bv(t,1)}!function v6(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const r=e[n];if(r<0)Qo(~r);else{const s=r,o=e[++n],a=e[++n];JB(o,s),a(2,t[s])}}}finally{Qo(-1)}}(i,t);const a=i.components;null!==a&&function b6(i,t){for(let e=0;e<t.length;e++)z6(i,t[e])}(t,a);const l=i.viewQuery;if(null!==l&&zb(2,l,n),o){const c=i.viewCheckHooks;null!==c&&_p(t,c)}else{const c=i.viewHooks;null!==c&&yp(t,c,2),bv(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,dv(t[3],-1))}finally{yv()}}}function x6(i,t,e,n){const r=t[10],o=_1(t);try{!o&&r.begin&&r.begin(),o&&Gp(i,t,n),jd(i,t,e,n)}finally{!o&&r.end&&r.end()}}function IE(i,t,e,n,r){const s=Ui(),o=2&n;try{Qo(-1),o&&t.length>22&&aE(i,t,22,!1),e(n,r)}finally{Qo(s)}}function OE(i,t,e){if(rv(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=i.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Ob(i,t,e){!b1()||(function A6(i,t,e,n){const r=e.directiveStart,s=e.directiveEnd;i.firstCreatePass||Ed(e,t),Ii(n,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=i.data[a],c=es(l);c&&k6(t,e,l);const u=Td(t,i,a,e);Ii(u,t),null!==o&&F6(0,a-r,u,l,0,o),c&&(yr(e.index,t)[8]=u)}}(i,t,e,Nr(e,t)),128==(128&e.flags)&&function I6(i,t,e){const n=e.directiveStart,r=e.directiveEnd,s=e.index,o=function e4(){return yt.lFrame.currentDirectiveIndex}();try{Qo(s);for(let a=n;a<r;a++){const l=i.data[a],c=t[a];pv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&VE(l,c)}}finally{Qo(-1),pv(o)}}(i,t,e))}function Rb(i,t,e=Nr){const n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?e(t,i):i[o];i[r++]=a}}}function RE(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=Nb(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):t}function Nb(i,t,e,n,r,s,o,a,l,c){const u=22+n,d=u+r,h=function w6(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:Mt);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:i,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function NE(i,t,e,n){const r=$E(t);null===e?r.push(n):(r.push(e),i.firstCreatePass&&qE(i).push(n,r.length-1))}function kE(i,t,e){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}return e}function FE(i,t){const n=t.directiveEnd,r=i.data,s=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<n;c++){const u=r[c],d=u.inputs,h=null===s||rE(t)?null:L6(d,s);o.push(h),a=kE(d,c,a),l=kE(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}function xr(i,t,e,n,r,s,o,a){const l=Nr(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[n])?(Hb(i,e,u,n,r),hp(t)&&LE(e,t.index)):3&t.type&&(n=function D6(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(l,n,r))}function LE(i,t){const e=yr(t,i);16&e[2]||(e[2]|=32)}function kb(i,t,e,n){let r=!1;if(b1()){const s=function O6(i,t,e){const n=i.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];sE(e,o.selectors,!1)&&(r||(r=[]),wp(Ed(e,t),i,o.type),es(o)?(zE(i,e),r.unshift(o)):r.push(o))}return r}(i,t,e),o=null===n?null:{"":-1};if(null!==s){r=!0,HE(e,i.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ac(i,t,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];e.mergedAttrs=bp(e.mergedAttrs,d.hostAttrs),UE(i,e,t,c,d),N6(c,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),l=!0),c++}FE(i,e)}o&&function R6(i,t,e){if(t){const n=i.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new le(-301,!1);n.push(t[r],s)}}}(e,n,o)}return e.mergedAttrs=bp(e.mergedAttrs,e.attrs),r}function BE(i,t,e,n,r,s){const o=s.hostBindings;if(o){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~t.index;(function P6(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(n,r,o)}}function VE(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function zE(i,t){t.flags|=2,(i.components||(i.components=[])).push(t.index)}function N6(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;es(t)&&(e[""]=i)}}function HE(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function UE(i,t,e,n,r){i.data[n]=r;const s=r.factory||(r.factory=ja(r.type)),o=new Sd(s,es(r),D);i.blueprint[n]=o,e[n]=o,BE(i,t,0,n,Ac(i,e,r.hostVars,Mt),r)}function k6(i,t,e){const n=Nr(t,i),r=RE(e),s=i[10],o=jp(i,Up(i,r,null,e.onPush?32:16,n,t,s,s.createRenderer(n,e),null,null,null));i[t.index]=o}function Ts(i,t,e,n,r,s){const o=Nr(i,t);!function Fb(i,t,e,n,r,s,o){if(null==s)i.removeAttribute(t,r,e);else{const a=null==o?bt(s):o(s,n||"",r);i.setAttribute(t,r,a,e)}}(t[11],o,s,i.value,e,n,r)}function F6(i,t,e,n,r,s){const o=s[t];if(null!==o){const a=n.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?n.setInput(e,d,c,u):e[u]=d}}}function L6(i,t){let e=null,n=0;for(;n<t.length;){const r=t[n];if(0!==r)if(5!==r){if("number"==typeof r)break;i.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,i[r],t[n+1])),n+=2}else n+=2;else n+=4}return e}function GE(i,t,e,n){return new Array(i,!0,!1,t,null,0,n,e,null,null)}function z6(i,t){const e=yr(t,i);if(uv(e)){const n=e[1];48&e[2]?jd(n,e,n.template,e[8]):e[5]>0&&Lb(e)}}function Lb(i){for(let n=ob(i);null!==n;n=ab(n))for(let r=10;r<n.length;r++){const s=n[r];if(512&s[2]){const o=s[1];jd(o,s,o.template,s[8])}else s[5]>0&&Lb(s)}const e=i[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=yr(e[n],i);uv(r)&&r[5]>0&&Lb(r)}}function H6(i,t){const e=yr(t,i),n=e[1];(function U6(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])})(n,e),Gp(n,e,e[8])}function jp(i,t){return i[13]?i[14][4]=t:i[13]=t,i[14]=t,t}function Bb(i){for(;i;){i[2]|=32;const t=Ud(i);if(RB(i)&&!t)return i;i=t}return null}function WE(i){!function jE(i){for(let t=0;t<i.components.length;t++){const e=i.components[t],n=nb(e);if(null!==n){const r=n[1];x6(r,n,r.template,e)}}}(i[8])}function zb(i,t,e){gv(0),t(i,e)}const j6=(()=>Promise.resolve(null))();function $E(i){return i[7]||(i[7]=[])}function qE(i){return i.cleanup||(i.cleanup=[])}function YE(i,t,e){return(null===i||es(i))&&(e=function GB(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(e[t.index])),e[11]}function XE(i,t){const e=i[9],n=e?e.get(mo,null):null;n&&n.handleError(t)}function Hb(i,t,e,n,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],c=i.data[o];null!==c.setInput?c.setInput(l,r,n,a):l[a]=r}}function Wp(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Xy(r,a):2==s&&(n=Xy(n,a+": "+t[++o]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}function $p(i,t,e,n,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&n.push(Qn(s)),Jr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&$p(l[1],l,c,n)}const o=e.type;if(8&o)$p(i,t,e.child,n);else if(32&o){const a=sb(e,t);let l;for(;l=a();)n.push(l)}else if(16&o){const a=QD(t,e);if(Array.isArray(a))n.push(...a);else{const l=Ud(t[16]);$p(l[1],l,a,n,!0)}}e=r?e.projectionNext:e.next}return n}class Wd{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return $p(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Jr(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ub(t,n),Sp(e,n))}this._attachedToViewContainer=!1}GD(this._lView[1],this._lView)}onDestroy(t){NE(this._lView[1],this._lView,null,t)}markForCheck(){Bb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Vb(i,t,e){const n=t[10];n.begin&&n.begin();try{jd(i,t,i.template,e)}catch(r){throw XE(t,r),r}finally{n.end&&n.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wz(i,t){Gd(i,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=t}}class W6 extends Wd{constructor(t){super(t),this._view=t}detectChanges(){WE(this._view)}checkNoChanges(){}get context(){return null}}class Ub extends Ya{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=un(t);return new $d(e,this.ngModule)}}function KE(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class q6{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){const r=this.injector.get(t,qv,n);return r!==qv||e===qv?r:this.parentInjector.get(t,e,n)}}class $d extends DD{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Gz(i){return i.map(Uz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return KE(this.componentDef.inputs)}get outputs(){return KE(this.componentDef.outputs)}create(t,e,n,r){let s=(r=r||this.ngModule)instanceof ea?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new q6(t,s):t,a=o.get(zd,null);if(null===a)throw new le(407,!1);const l=o.get(HV,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=n?function C6(i,t,e){return i.selectRootElement(t,e===Zr.ShadowDom)}(c,n,this.componentDef.encapsulation):cb(a.createRenderer(null,this.componentDef),u,function $6(i){const t=i.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=function Q6(i,t){return{components:[],scheduler:i||hz,clean:j6,playerHandler:t||null,flags:0}}(),p=Nb(0,null,null,1,0,null,null,null,null,null),m=Up(null,p,f,h,null,null,a,c,l,o,null);let g,_;_v(m);try{const y=function K6(i,t,e,n,r,s){const o=e[1];e[22]=i;const l=Pc(o,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Wp(l,c,!0),null!==i&&(vp(r,i,c),null!==l.classes&&mb(r,i,l.classes),null!==l.styles&&tE(r,i,l.styles)));const u=n.createRenderer(i,t),d=Up(e,RE(t),null,t.onPush?32:16,e[22],l,n,u,s||null,null,null);return o.firstCreatePass&&(wp(Ed(l,e),o,t.type),zE(o,l),HE(l,e.length,1)),jp(e,d),e[22]=d}(d,this.componentDef,m,a,c);if(d)if(n)vp(c,d,["ng-version",UV.full]);else{const{attrs:v,classes:b}=function jz(i){const t=[],e=[];let n=1,r=2;for(;n<i.length;){let s=i[n];if("string"==typeof s)2===r?""!==s&&t.push(s,i[++n]):8===r&&e.push(s);else{if(!ns(r))break;r=s}n++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);v&&vp(c,d,v),b&&b.length>0&&mb(c,d,b.join(" "))}if(_=cv(p,22),void 0!==e){const v=_.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const x=e[b];v.push(null!=x?Array.from(x):null)}}g=function Z6(i,t,e,n,r){const s=e[1],o=function T6(i,t,e){const n=hi();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),UE(i,n,t,Ac(i,t,1,null),e),FE(i,n));const r=Td(t,i,n.directiveStart,n);Ii(r,t);const s=Nr(n,t);return s&&Ii(s,t),r}(s,e,t);if(n.components.push(o),i[8]=o,null!==r)for(const l of r)l(o,t);if(t.contentQueries){const l=hi();t.contentQueries(1,o,l.directiveStart)}const a=hi();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Qo(a.index),BE(e[1],a,0,a.directiveStart,a.directiveEnd,t),VE(t,o)),o}(y,this.componentDef,m,f,[J6]),Gp(p,m,null)}finally{yv()}return new X6(this.componentType,g,Cc(_,m),m,_)}}class X6 extends class kV{}{constructor(t,e,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new W6(r),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){const s=this._rootLView;Hb(s[1],s,r,t,e),LE(s,this._tNode.index)}}get injector(){return new fc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function J6(){const i=hi();gp(pe()[1],i)}function ye(i){let t=function ZE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let r;if(es(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new le(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);const o=i;o.inputs=Gb(i.inputs),o.declaredInputs=Gb(i.declaredInputs),o.outputs=Gb(i.outputs);const a=r.hostBindings;a&&iH(i,a);const l=r.viewQuery,c=r.contentQueries;if(l&&tH(i,l),c&&nH(i,c),Yy(i.inputs,r.inputs),Yy(i.declaredInputs,r.declaredInputs),Yy(i.outputs,r.outputs),es(r)&&r.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(i),a===ye&&(e=!1)}}t=Object.getPrototypeOf(t)}!function eH(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=bp(r.hostAttrs,e=bp(e,r.hostAttrs))}}(n)}function Gb(i){return i===rc?{}:i===Jt?[]:i}function tH(i,t){const e=i.viewQuery;i.viewQuery=e?(n,r)=>{t(n,r),e(n,r)}:t}function nH(i,t){const e=i.contentQueries;i.contentQueries=e?(n,r,s)=>{t(n,r,s),e(n,r,s)}:t}function iH(i,t){const e=i.hostBindings;i.hostBindings=e?(n,r)=>{t(n,r),e(n,r)}:t}let qp=null;function Za(){if(!qp){const i=pn.Symbol;if(i&&i.iterator)qp=i.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qp=n)}}}return qp}function qd(i){return!!jb(i)&&(Array.isArray(i)||!(i instanceof Map)&&Za()in i)}function jb(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ps(i,t,e){return i[t]=e}function Oi(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function At(i,t,e,n){const r=pe();return Oi(r,uc(),t)&&(Gt(),Ts(kn(),r,i,t,e,n)),At}function Oc(i,t,e,n){return Oi(i,uc(),e)?t+bt(e)+n:Mt}function be(i,t,e,n,r,s,o,a){const l=pe(),c=Gt(),u=i+22,d=c.firstCreatePass?function hH(i,t,e,n,r,s,o,a,l){const c=t.consts,u=Pc(t,i,4,o||null,Zo(c,a));kb(t,e,u,Zo(c,l)),gp(t,u);const d=u.tViews=Nb(2,u,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,n,r,s,o):c.data[u];ws(d,!1);const h=l[11].createComment("");Fp(c,l,h,d),Ii(h,l),jp(l,l[u]=GE(h,l,h,d)),fp(d)&&Ob(c,l,d),null!=o&&Rb(l,d,a)}function Tn(i){return cc(function ZB(){return yt.lFrame.contextLView}(),22+i)}function Y(i,t,e){const n=pe();return Oi(n,uc(),t)&&xr(Gt(),kn(),n,i,t,n[11],e,!1),Y}function Wb(i,t,e,n,r){const o=r?"class":"style";Hb(i,e,t.inputs[o],o,n)}function N(i,t,e,n){const r=pe(),s=Gt(),o=22+i,a=r[11],l=r[o]=cb(a,t,function o4(){return yt.lFrame.currentNamespace}()),c=s.firstCreatePass?function pH(i,t,e,n,r,s,o){const a=t.consts,c=Pc(t,i,2,r,Zo(a,s));return kb(t,e,c,Zo(a,o)),null!==c.attrs&&Wp(c,c.attrs,!1),null!==c.mergedAttrs&&Wp(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,0,t,e,n):s.data[o];ws(c,!0);const u=c.mergedAttrs;null!==u&&vp(a,l,u);const d=c.classes;null!==d&&mb(a,l,d);const h=c.styles;return null!==h&&tE(a,l,h),64!=(64&c.flags)&&Fp(s,r,l,c),0===function $B(){return yt.lFrame.elementDepthCount}()&&Ii(l,r),function qB(){yt.lFrame.elementDepthCount++}(),fp(c)&&(Ob(s,r,c),OE(s,c,r)),null!==n&&Rb(r,c),N}function k(){let i=hi();hv()?fv():(i=i.parent,ws(i,!1));const t=i;!function YB(){yt.lFrame.elementDepthCount--}();const e=Gt();return e.firstCreatePass&&(gp(e,i),rv(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function d4(i){return 0!=(16&i.flags)}(t)&&Wb(e,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function h4(i){return 0!=(32&i.flags)}(t)&&Wb(e,t,pe(),t.stylesWithoutHost,!1),k}function qe(i,t,e,n){return N(i,t,e,n),k(),qe}function bi(i,t,e){const n=pe(),r=Gt(),s=i+22,o=r.firstCreatePass?function mH(i,t,e,n,r){const s=t.consts,o=Zo(s,n),a=Pc(t,i,8,"ng-container",o);return null!==o&&Wp(a,o,!0),kb(t,e,a,Zo(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,e):r.data[s];ws(o,!0);const a=n[s]=n[11].createComment("");return Fp(r,n,a,o),Ii(a,n),fp(o)&&(Ob(r,n,o),OE(r,o,n)),null!=e&&Rb(n,o),bi}function Mi(){let i=hi();const t=Gt();return hv()?fv():(i=i.parent,ws(i,!1)),t.firstCreatePass&&(gp(t,i),rv(i)&&t.queries.elementEnd(i)),Mi}function vo(i,t,e){return bi(i,t,e),Mi(),vo}function Fn(){return pe()}function Xd(i){return!!i&&"function"==typeof i.then}function aT(i){return!!i&&"function"==typeof i.subscribe}const $b=aT;function ke(i,t,e,n){const r=pe(),s=Gt(),o=hi();return lT(s,r,r[11],o,i,t,0,n),ke}function qb(i,t){const e=hi(),n=pe(),r=Gt();return lT(r,n,YE(mv(r.data),e,n),e,i,t),qb}function lT(i,t,e,n,r,s,o,a){const l=fp(n),u=i.firstCreatePass&&qE(i),d=t[8],h=$E(t);let f=!0;if(3&n.type||a){const g=Nr(n,t),_=a?a(g):g,y=h.length,v=a?x=>a(Qn(x[n.index])):n.index;let b=null;if(!a&&l&&(b=function gH(i,t,e,n){const r=i.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===n){const a=t[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(i,t,r,n.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,f=!1;else{s=uT(n,t,d,s,!1);const x=e.listen(_,r,s);h.push(s,x),u&&u.push(r,v,y,y+1)}}else s=uT(n,t,d,s,!1);const p=n.outputs;let m;if(f&&null!==p&&(m=p[r])){const g=m.length;if(g)for(let _=0;_<g;_+=2){const w=t[m[_]][m[_+1]].subscribe(s),A=h.length;h.push(s,w),u&&u.push(r,n.index,A,-(A+1))}}}function cT(i,t,e,n){try{return!1!==e(n)}catch(r){return XE(i,r),!1}}function uT(i,t,e,n,r){return function s(o){if(o===Function)return n;Bb(2&i.flags?yr(i.index,t):t);let l=cT(t,0,n,o),c=s.__ngNextListenerFn__;for(;c;)l=cT(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ae(i=1){return function n4(i){return(yt.lFrame.contextLView=function i4(i,t){for(;i>0;)t=t[15],i--;return t}(i,yt.lFrame.contextLView))[8]}(i)}function _H(i,t){let e=null;const n=function Bz(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(i);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===n?sE(i,s,!0):Hz(n,s))return r}else e=r}return e}function jt(i){const t=pe()[16][6];if(!t.projection){const n=t.projection=Id(i?i.length:1,null),r=n.slice();let s=t.child;for(;null!==s;){const o=i?_H(s,i):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function xt(i,t=0,e){const n=pe(),r=Gt(),s=Pc(r,22+i,16,null,e||null);null===s.projection&&(s.projection=t),fv(),64!=(64&s.flags)&&function Iz(i,t,e){eE(t[11],0,t,e,jD(i,e,t),YD(e.parent||t[6],e,t))}(r,n,s)}function zc(i,t,e){return Yb(i,"",t,"",e),zc}function Yb(i,t,e,n,r){const s=pe(),o=Oc(s,t,e,n);return o!==Mt&&xr(Gt(),kn(),s,i,o,s[11],r,!1),Yb}function vT(i,t,e,n,r){const s=i[e+1],o=null===t;let a=n?rs(s):_o(s),l=!1;for(;0!==a&&(!1===l||o);){const u=i[a+1];bH(i[a],t)&&(l=!0,i[a+1]=n?xb(u):bb(u)),a=n?rs(u):_o(u)}l&&(i[e+1]=n?bb(s):xb(s))}function bH(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&yc(i,t)>=0}const pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bT(i){return i.substring(pi.key,pi.keyEnd)}function MT(i,t){const e=pi.textEnd;return e===t?-1:(t=pi.keyEnd=function CH(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}(i,pi.key=t,e),Hc(i,t,e))}function Hc(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function Ja(i,t,e){return ss(i,t,e,!1),Ja}function vn(i,t){return ss(i,t,null,!0),vn}function Kd(i){os(br,Is,i,!0)}function Is(i,t){for(let e=function xH(i){return function wT(i){pi.key=0,pi.keyEnd=0,pi.value=0,pi.valueEnd=0,pi.textEnd=i.length}(i),MT(i,Hc(i,0,pi.textEnd))}(t);e>=0;e=MT(t,e))br(i,bT(t),!0)}function ss(i,t,e,n){const r=pe(),s=Gt(),o=ho(2);s.firstUpdatePass&&ET(s,i,o,n),t!==Mt&&Oi(r,o,t)&&PT(s,s.data[Ui()],r,r[11],i,r[o+1]=function NH(i,t){return null==i||("string"==typeof t?i+=t:"object"==typeof i&&(i=yn(Mr(i)))),i}(t,e),n,o)}function os(i,t,e,n){const r=Gt(),s=ho(2);r.firstUpdatePass&&ET(r,null,s,n);const o=pe();if(e!==Mt&&Oi(o,s,e)){const a=r.data[Ui()];if(IT(a,n)&&!DT(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Xy(l,e||"")),Wb(r,a,o,e,n)}else!function RH(i,t,e,n,r,s,o,a){r===Mt&&(r=Jt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&PT(i,t,e,n,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function OH(i,t,e){if(null==e||""===e)return Jt;const n=[],r=Mr(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)i(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&i(n,s,r[s]);else"string"==typeof r&&t(n,r);return n}(i,t,e),n,s)}}function DT(i,t){return t>=i.expandoStartIndex}function ET(i,t,e,n){const r=i.data;if(null===r[e+1]){const s=r[Ui()],o=DT(i,e);IT(s,n)&&null===t&&!o&&(t=!1),t=function TH(i,t,e,n){const r=mv(i);let s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(e=Zd(e=Xb(null,i,t,e,n),t.attrs,n),s=null);else{const o=t.directiveStylingLast;if(-1===o||i[o]!==r)if(e=Xb(r,i,t,e,n),null===s){let l=function PH(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==_o(n))return i[rs(n)]}(i,t,n);void 0!==l&&Array.isArray(l)&&(l=Xb(null,i,t,l[1],n),l=Zd(l,t.attrs,n),function AH(i,t,e,n){i[rs(e?t.classBindings:t.styleBindings)]=n}(i,t,n,l))}else s=function IH(i,t,e){let n;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=Zd(n,i[s].hostAttrs,e);return Zd(n,t.attrs,e)}(i,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,n),function yH(i,t,e,n,r,s){let o=s?t.classBindings:t.styleBindings,a=rs(o),l=_o(o);i[n]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||yc(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=rs(i[a+1]);i[n+1]=Vp(h,a),0!==h&&(i[h+1]=Mb(i[h+1],n)),i[a+1]=function c6(i,t){return 131071&i|t<<17}(i[a+1],n)}else i[n+1]=Vp(a,0),0!==a&&(i[a+1]=Mb(i[a+1],n)),a=n;else i[n+1]=Vp(l,0),0===a?a=n:i[l+1]=Mb(i[l+1],n),l=n;c&&(i[n+1]=bb(i[n+1])),vT(i,u,n,!0),vT(i,u,n,!1),function vH(i,t,e,n,r){const s=r?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof t&&yc(s,t)>=0&&(e[n+1]=xb(e[n+1]))}(t,u,i,n,s),o=Vp(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,n)}}function Xb(i,t,e,n,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],n=Zd(n,s.hostAttrs,r),s!==i);)a++;return null!==i&&(e.directiveStylingLast=a),n}function Zd(i,t,e){const n=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),br(i,o,!!e||t[++s]))}return void 0===i?null:i}function PT(i,t,e,n,r,s,o,a){if(!(3&t.type))return;const l=i.data,c=l[a+1];Xp(function xE(i){return 1==(1&i)}(c)?AT(l,t,e,r,_o(c),o):void 0)||(Xp(s)||function ME(i){return 2==(2&i)}(c)&&(s=AT(l,null,e,r,a,o)),function Rz(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let s=-1===n.indexOf("-")?void 0:or.DashCase;null==r?i.removeStyle(e,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=or.Important),i.setStyle(e,n,r,s))}}(n,o,pp(Ui(),e),r,s))}function AT(i,t,e,n,r,s){const o=null===t;let a;for(;r>0;){const l=i[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Mt&&(h=d?Jt:void 0);let f=d?Tv(h,n):u===n?h:void 0;if(c&&!Xp(f)&&(f=Tv(l,n)),Xp(f)&&(a=f,o))return a;const p=i[r+1];r=o?rs(p):_o(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Tv(l,n))}return a}function Xp(i){return void 0!==i}function IT(i,t){return 0!=(i.flags&(t?16:32))}function Q(i,t=""){const e=pe(),n=Gt(),r=i+22,s=n.firstCreatePass?Pc(n,r,1,t,null):n.data[r],o=e[r]=function lb(i,t){return i.createText(t)}(e[11],t);Fp(n,e,o,s),ws(s,!1)}function Pn(i){return wr("",i,""),Pn}function wr(i,t,e){const n=pe(),r=Oc(n,i,t,e);return r!==Mt&&function yo(i,t,e){const n=pp(t,i);!function HD(i,t,e){i.setValue(t,e)}(i[11],n,e)}(n,Ui(),r),wr}function Kb(i,t,e){os(br,Is,Oc(pe(),i,t,e),!0)}function as(i,t,e){const n=pe();return Oi(n,uc(),t)&&xr(Gt(),kn(),n,i,t,n[11],e,!0),as}function Zb(i,t,e){const n=pe();if(Oi(n,uc(),t)){const s=Gt(),o=kn();xr(s,o,n,i,t,YE(mv(s.data),o,n),e,!0)}return Zb}const Gc="en-US";let ZT=Gc;function e0(i,t,e,n,r){if(i=pt(i),Array.isArray(i))for(let s=0;s<i.length;s++)e0(i[s],t,e,n,r);else{const s=Gt(),o=pe();let a=qa(i)?i:pt(i.provide),l=SD(i);const c=hi(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(qa(i)||!i.multi){const f=new Sd(l,r,D),p=n0(a,t,r?u:u+h,d);-1===p?(wp(Ed(c,o),s,a),t0(s,i,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=n0(a,t,u+h,d),p=n0(a,t,u,u+h),m=f>=0&&e[f],g=p>=0&&e[p];if(r&&!g||!r&&!m){wp(Ed(c,o),s,a);const _=function ZU(i,t,e,n,r){const s=new Sd(i,e,D);return s.multi=[],s.index=t,s.componentProviders=0,xP(s,r,n&&!e),s}(r?KU:XU,e.length,r,n,l);!r&&g&&(e[p].providerFactory=_),t0(s,i,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(_),o.push(_)}else t0(s,i,f>-1?f:p,xP(e[r?p:f],l,!r&&n));!r&&n&&g&&e[p].componentProviders++}}}function t0(i,t,e,n){const r=qa(t),s=function EV(i){return!!i.useClass}(t);if(r||s){const l=(s?pt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[n,l]):c[u+1].push(n,l)}else c.push(e,l)}}}function xP(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function n0(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function XU(i,t,e,n){return r0(this.multi,[])}function KU(i,t,e,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Td(e,e[1],this.providerFactory.index,n);s=a.slice(0,o),r0(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],r0(r,s);return s}function r0(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function nt(i,t=[]){return e=>{e.providersResolver=(n,r)=>function YU(i,t,e){const n=Gt();if(n.firstCreatePass){const r=es(i);e0(e,n.data,n.blueprint,r,!0),e0(t,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,t)}}class tl{}class wP{}class CP extends tl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ub(this);const n=gr(t);this._bootstrapComponents=go(n.bootstrap),this._r3Injector=fE(t,e,[{provide:tl,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],yn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class s0 extends wP{constructor(t){super(),this.moduleType=t}create(t){return new CP(this.moduleType,t)}}class JU extends tl{constructor(t,e,n){super(),this.componentFactoryResolver=new Ub(this),this.instance=null;const r=new CD([...t,{provide:tl,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],e||Np(),n,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function em(i,t,e=null){return new JU(i,t,e).injector}let e8=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const n=bD(0,e.type),r=n.length>0?em([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=_e({token:i,providedIn:"environment",factory:()=>new i(z(ea))}),i})();function wi(i){i.getStandaloneInjector=t=>t.get(e8).getOrCreateStandaloneInjector(i)}function Ri(i,t,e,n){return IP(pe(),Hi(),i,t,e,n)}function Wc(i,t,e,n,r){return function OP(i,t,e,n,r,s,o){const a=t+e;return function Qa(i,t,e,n){const r=Oi(i,t,e);return Oi(i,t+1,n)||r}(i,a,r,s)?Ps(i,a+2,o?n.call(o,r,s):n(r,s)):nh(i,a+2)}(pe(),Hi(),i,t,e,n,r)}function nh(i,t){const e=i[t];return e===Mt?void 0:e}function IP(i,t,e,n,r,s){const o=t+e;return Oi(i,o,r)?Ps(i,o+1,s?n.call(s,r):n(r)):nh(i,o+1)}function a0(i,t){const e=Gt();let n;const r=i+22;e.firstCreatePass?(n=function _8(i,t){if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];if(i===n.name)return n}}(t,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,n.onDestroy)):n=e.data[r];const s=n.factory||(n.factory=ja(n.type)),o=Ir(D);try{const a=Mp(!1),l=s();return Mp(a),function fH(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}(e,pe(),r,l),l}finally{Ir(o)}}function l0(i,t,e){const n=i+22,r=pe(),s=cc(r,n);return function ih(i,t){return i[1].data[t].pure}(r,n)?IP(r,Hi(),t,s.transform,e,s):s.transform(e)}function c0(i){return t=>{setTimeout(i,void 0,t)}}const we=class x8 extends Be{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,s=e||(()=>null),o=n;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=c0(s),r&&(r=c0(r)),o&&(o=c0(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Ut&&t.add(a),a}};function w8(){return this._results[Za()]()}class bo{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Za(),n=bo.prototype;n[e]||(n[e]=w8)}get changes(){return this._changes||(this._changes=new we)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=vr(t);(this._changesDetected=!function w4(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=t[n];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ci=(()=>{class i{}return i.__NG_ELEMENT_ID__=D8,i})();const C8=Ci,S8=class extends C8{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t,e){const n=this._declarationTContainer.tViews,r=Up(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),Gp(n,r,t),new Wd(r)}};function D8(){return tm(hi(),pe())}function tm(i,t){return 4&i.type?new S8(t,i,Cc(i,t)):null}let Ni=(()=>{class i{}return i.__NG_ELEMENT_ID__=E8,i})();function E8(){return BP(hi(),pe())}const T8=Ni,FP=class extends T8{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new fc(this._hostTNode,this._hostLView)}get parentInjector(){const t=xp(this._hostTNode,this._hostLView);if(N1(t)){const e=hc(t,this._hostLView),n=dc(t);return new fc(e[1].data[n+8],e)}return new fc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=LP(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,n,r,s){const o=t&&!Ad(t);let a;if(o)a=e;else{const d=e||{};a=d.index,n=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?t:new $d(un(t)),c=n||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(ea,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(t,e){const n=t._lView,r=n[1];if(function WB(i){return Jr(i[3])}(n)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=n[3],h=new FP(d,d[6],d[3]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function Sz(i,t,e,n){const r=10+n,s=e.length;n>0&&(e[r-1][4]=t),n<s-10?(t[4]=e[r],W1(e,10+n,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function Dz(i,t){const e=i[9];t[16]!==t[3][3][16]&&(i[2]=!0),null===e?i[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(i),t[2]|=64}(r,n,o,s);const a=fb(s,o),l=n[11],c=kp(l,o[7]);return null!==c&&function xz(i,t,e,n,r,s){n[0]=r,n[6]=t,Gd(i,n,e,1,r,s)}(r,o[6],l,n,c,a),t.attachToViewContainerRef(),W1(u0(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=LP(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=ub(this._lContainer,e);n&&(Sp(u0(this._lContainer),e),GD(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=ub(this._lContainer,e);return n&&null!=Sp(u0(this._lContainer),e)?new Wd(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function LP(i){return i[8]}function u0(i){return i[8]||(i[8]=[])}function BP(i,t){let e;const n=t[i.index];if(Jr(n))e=n;else{let r;if(8&i.type)r=Qn(n);else{const s=t[11];r=s.createComment("");const o=Nr(i,t);Ka(s,kp(s,o),r,function Az(i,t){return i.nextSibling(t)}(s,o),!1)}t[i.index]=e=GE(n,t,r,i),jp(t,e)}return new FP(e,i,t)}class d0{constructor(t){this.queryList=t,this.matches=null}clone(){return new d0(this.queryList)}setDirty(){this.queryList.setDirty()}}class h0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<n;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new h0(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==GP(t,e).matches&&this.queries[e].setDirty()}}class VP{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class f0{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,null!==e?e.push(s):e=[s])}return null!==e?new f0(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class p0{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new p0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(t,e,I8(e,s)),this.matchTNodeWithReadOption(t,e,Cp(e,t,s,!1,!1))}else n===Ci?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Cp(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===mt||r===Ni||r===Ci&&4&e.type)this.addMatch(e.index,-2);else{const s=Cp(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function I8(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function R8(i,t,e,n){return-1===e?function O8(i,t){return 11&i.type?Cc(i,t):4&i.type?tm(i,t):null}(t,i):-2===e?function N8(i,t,e){return e===mt?Cc(t,i):e===Ci?tm(t,i):e===Ni?BP(t,i):void 0}(i,t,n):Td(i,i[1],e,t)}function zP(i,t,e,n){const r=t[19].queries[n];if(null===r.matches){const s=i.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:R8(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function m0(i,t,e,n){const r=i.queries.getByIndex(e),s=r.matches;if(null!==s){const o=zP(i,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&m0(h[1],h,c,n)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];m0(f[1],f,c,n)}}}}}return n}function We(i){const t=pe(),e=Gt(),n=C1();gv(n+1);const r=GP(e,n);if(i.dirty&&_1(t)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const s=r.crossesNgTemplate?m0(e,t,n,[]):zP(e,t,r,n);i.reset(s,VV),i.notifyOnChanges()}return!0}return!1}function mn(i,t,e){const n=Gt();n.firstCreatePass&&(UP(n,new VP(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),HP(n,pe(),t)}function Ht(i,t,e,n){const r=Gt();if(r.firstCreatePass){const s=hi();UP(r,new VP(t,e,n),s.index),function F8(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(r,i),2==(2&e)&&(r.staticContentQueries=!0)}HP(r,pe(),e)}function $e(){return function k8(i,t){return i[19].queries[t].queryList}(pe(),C1())}function HP(i,t,e){const n=new bo(4==(4&e));NE(i,t,n,n.destroy),null===t[19]&&(t[19]=new h0),t[19].queries.push(new d0(n))}function UP(i,t,e){null===i.queries&&(i.queries=new f0),i.queries.track(new p0(t,e))}function GP(i,t){return i.queries.getByIndex(t)}function ia(i,t){return tm(i,t)}function im(...i){}const rm=new he("Application Initializer");let sm=(()=>{class i{constructor(e){this.appInits=e,this.resolve=im,this.reject=im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Xd(s))e.push(s);else if($b(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(z(rm,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sh=new he("AppId",{providedIn:"root",factory:function lA(){return`${b0()}${b0()}${b0()}`}});function b0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cA=new he("Platform Initializer"),om=new he("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uA=new he("appBootstrapListener"),Os=new he("AnimationModuleType");let nG=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Rs=new he("LocaleId",{providedIn:"root",factory:()=>Sn(Rs,lt.Optional|lt.SkipSelf)||function iG(){return typeof $localize<"u"&&$localize.locale||Gc}()});class sG{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let M0=(()=>{class i{compileModuleSync(e){return new s0(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),s=go(gr(e).declarations).reduce((o,a)=>{const l=un(a);return l&&o.push(new $d(l)),o},[]);return new sG(n,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lG=(()=>Promise.resolve(0))();function x0(i){typeof Zone>"u"?lG.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ot{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function cG(){let i=pn.requestAnimationFrame,t=pn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&t){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function hG(i){const t=()=>{!function dG(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(pn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,C0(i),i.isCheckStableRunning=!0,w0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),C0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,s,o,a)=>{try{return fA(i),e.invokeTask(r,s,o,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&t(),pA(i)}},onInvoke:(e,n,r,s,o,a,l)=>{try{return fA(i),e.invoke(r,s,o,a,l)}finally{i.shouldCoalesceRunChangeDetection&&t(),pA(i)}},onHasTask:(e,n,r,s)=>{e.hasTask(r,s),n===r&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,C0(i),w0(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,r,s)=>(e.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ot.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new le(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,uG,im,im);try{return s.runTask(o,e,n)}finally{s.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const uG={};function w0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function C0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function fA(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function pA(i){i._nesting--,w0(i)}class fG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new we,this.onMicrotaskEmpty=new we,this.onStable=new we,this.onError=new we}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}const mA=new he(""),am=new he("");let E0,S0=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,E0||(function pG(i){E0=i}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),x0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())x0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}}return i.\u0275fac=function(e){return new(e||i)(z(ot),z(D0),z(am))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),D0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return E0?.findTestabilityInTree(this,e,n)??null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),ra=null;const gA=new he("AllowMultipleToken"),T0=new he("PlatformDestroyListeners");class _A{constructor(t,e){this.name=t,this.token=e}}function vA(i,t,e=[]){const n=`Platform: ${t}`,r=new he(n);return(s=[])=>{let o=P0();if(!o||o.injector.get(gA,!1)){const a=[...e,...s,{provide:r,useValue:!0}];i?i(a):function _G(i){if(ra&&!ra.get(gA,!1))throw new le(400,!1);ra=i;const t=i.get(MA);(function yA(i){const t=i.get(cA,null);t&&t.forEach(e=>e())})(i)}(function bA(i=[],t){return Jn.create({name:t,providers:[{provide:Gv,useValue:"platform"},{provide:T0,useValue:new Set([()=>ra=null])},...i]})}(a,n))}return function vG(i){const t=P0();if(!t)throw new le(401,!1);return t}()}}function P0(){return ra?.get(MA)??null}let MA=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function bG(i,t){let e;return e="noop"===i?new fG:("zone.js"===i?void 0:i)||new ot(t),e}(n?.ngZone,function xA(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(n)),s=[{provide:ot,useValue:r}];return r.run(()=>{const o=Jn.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),l=a.injector.get(mo,null);if(!l)throw new le(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{lm(this._modules,a),c.unsubscribe()})}),function wA(i,t,e){try{const n=e();return Xd(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(l,r,()=>{const c=a.injector.get(sm);return c.runInitializers(),c.donePromise.then(()=>(function QT(i){mr(i,"Expected localeId to be defined"),"string"==typeof i&&(ZT=i.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Rs,Gc)||Gc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,n=[]){const r=CA({},n);return function mG(i,t,e){const n=new s0(e);return Promise.resolve(n)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const n=e.injector.get(Xc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new le(403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(T0,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(z(Jn))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function CA(i,t){return Array.isArray(t)?t.reduce(CA,i):{...i,...t}}let Xc=(()=>{class i{constructor(e,n,r){this._zone=e,this._injector=n,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new cn(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new cn(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),x0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=di(s,o.pipe(ic()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof DD;if(!this._injector.get(sm).done)throw!r&&function qc(i){const t=un(i)||Vi(i)||zi(i);return null!==t&&t.standalone}(e),new le(405,false);let o;o=r?e:this._injector.get(Ya).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function gG(i){return i.isBoundToModule}(o)?void 0:this._injector.get(tl),c=o.create(Jn.NULL,[],n||o.selector,a),u=c.location.nativeElement,d=c.injector.get(mA,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),lm(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;lm(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uA,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>lm(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new le(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(e){return new(e||i)(z(ot),z(ea),z(mo))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function lm(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}let DA=!0,$n=(()=>{class i{}return i.__NG_ELEMENT_ID__=wG,i})();function wG(i){return function CG(i,t,e){if(hp(i)&&!e){const n=yr(i.index,t);return new Wd(n,n)}return 47&i.type?new Wd(t[16],t):null}(hi(),pe(),16==(16&i))}class IA{constructor(){}supports(t){return qd(t)}create(t){return new AG(t)}}const PG=(i,t)=>t;class AG{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||PG}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,s=null;for(;e||n;){const o=!n||e&&e.currentIndex<RA(n,r,s)?e:n,a=RA(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!qd(t))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(n&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),n=!0),e=e._next}else r=0,function lH(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Za()]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(n&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new IG(e,n),s,r),t}_verifyReinsertion(t,e,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new OA),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class IG{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class OA{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new OG,this.map.set(e,n)),n.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RA(i,t,e){const n=i.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}class NA{constructor(){}supports(t){return t instanceof Map||jb(t)}create(){return new RG}}class RG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||jb(t)))throw new le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new NG(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class NG{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new dm([new IA])}let dm=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||kA()),deps:[[i,new Wa,new ts]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new le(901,!1)}}return i.\u0275prov=_e({token:i,providedIn:"root",factory:kA}),i})();function FA(){return new oh([new NA])}let oh=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||FA()),deps:[[i,new Wa,new ts]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new le(901,!1)}}return i.\u0275prov=_e({token:i,providedIn:"root",factory:FA}),i})();const LG=vA(null,"core",[]);let BG=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(z(Xc))},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})();function xo(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let hm=null;function Ns(){return hm}const ut=new he("DocumentToken");let fm=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:function(){return function UG(){return z(LA)}()},providedIn:"platform"}),i})();const GG=new he("Location Initialized");let LA=(()=>{class i extends fm{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ns().getBaseHref(this._doc)}onPopState(e){const n=Ns().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Ns().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,r){BA()?this._history.pushState(e,n,r):this.location.hash=r}replaceState(e,n,r){BA()?this._history.replaceState(e,n,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:function(){return function jG(){return new LA(z(ut))}()},providedIn:"platform"}),i})();function BA(){return!!window.history.pushState}function N0(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function VA(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function wo(i){return i&&"?"!==i[0]?"?"+i:i}let il=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:function(){return function WG(){const i=z(ut).location;return new HA(z(fm),i&&i.origin||"")}()},providedIn:"root"}),i})();const zA=new he("appBaseHref");let HA=(()=>{class i extends il{constructor(e,n){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return N0(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+wo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,s){const o=this.prepareExternalUrl(r+wo(s));this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,s){const o=this.prepareExternalUrl(r+wo(s));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(z(fm),z(zA,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),$G=(()=>{class i extends il{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=N0(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,s){let o=this.prepareExternalUrl(r+wo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,s){let o=this.prepareExternalUrl(r+wo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(z(fm),z(zA,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),ah=(()=>{class i{constructor(e){this._subject=new we,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._baseHref=VA(UA(n)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+wo(n))}normalize(e){return i.stripTrailingSlash(function YG(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,UA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wo(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wo(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}}return i.normalizeQueryParams=wo,i.joinWithSlash=N0,i.stripTrailingSlash=VA,i.\u0275fac=function(e){return new(e||i)(z(il))},i.\u0275prov=_e({token:i,factory:function(){return function qG(){return new ah(z(il))}()},providedIn:"root"}),i})();function UA(i){return i.replace(/\/index.html$/,"")}function ZA(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,s]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let ks=(()=>{class i{constructor(e,n,r,s){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(qd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${yn(n.item)}`);this._toggleClass(n.item,!0)}),e.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!0)):Object.keys(e).forEach(n=>this._toggleClass(n,!!e[n])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!1)):Object.keys(e).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(e,n){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return i.\u0275fac=function(e){return new(e||i)(D(dm),D(oh),D(mt),D(po))},i.\u0275dir=ue({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class Oj{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class i{constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Oj(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),eI(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{eI(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(D(Ni),D(Ci),D(dm))},i.\u0275dir=ue({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function eI(i,t){i.context.$implicit=t.item}let Bn=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new Nj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tI("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tI("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(D(Ni),D(Ci))},i.\u0275dir=ue({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class Nj{constructor(){this.$implicit=null,this.ngIf=null}}function tI(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${yn(t)}'.`)}class j0{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let rl=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),uh=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new j0(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(D(Ni),D(Ci),D(rl,9))},i.\u0275dir=ue({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),W0=(()=>{class i{constructor(e,n,r){r._addDefault(new j0(e,n))}}return i.\u0275fac=function(e){return new(e||i)(D(Ni),D(Ci),D(rl,9))},i.\u0275dir=ue({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0}),i})(),wm=(()=>{class i{constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:or.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(oh),D(po))},i.\u0275dir=ue({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),i})(),Cm=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=n.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(D(Ni))},i.\u0275dir=ue({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Wn]}),i})();class Fj{createSubscription(t,e){return t.subscribe({next:e,error:n=>{throw n}})}dispose(t){t.unsubscribe()}}class Lj{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}}const Bj=new Lj,Vj=new Fj;let $0=(()=>{class i{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(Xd(e))return Bj;if(aT(e))return Vj;throw function us(i,t){return new le(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(D($n,16))},i.\u0275pipe=rr({name:"async",type:i,pure:!1,standalone:!0}),i})(),So=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})();const rI="browser";let o9=(()=>{class i{}return i.\u0275prov=_e({token:i,providedIn:"root",factory:()=>new a9(z(ut),window)}),i})();class a9{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function l9(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=sI(this.window.history)||sI(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sI(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class oI{}class X0 extends class c9 extends class HG{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function zG(i){hm||(hm=i)}(new X0)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function u9(){return dh=dh||document.querySelector("base"),dh?dh.getAttribute("href"):null}();return null==e?null:function d9(i){Sm=Sm||document.createElement("a"),Sm.setAttribute("href",i);const t=Sm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){dh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ZA(document.cookie,t)}}let Sm,dh=null;const aI=new he("TRANSITION_ID"),f9=[{provide:rm,useFactory:function h9(i,t,e){return()=>{e.get(sm).donePromise.then(()=>{const n=Ns(),r=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<r.length;s++)n.remove(r[s])})}},deps:[aI,ut,Jn],multi:!0}];let m9=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const Dm=new he("EventManagerPlugins");let Em=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}addGlobalEventListener(e,n,r){return this._findPluginFor(n).addGlobalEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(z(Dm),z(ot))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();class lI{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ns().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let cI=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),n.add(r))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),hh=(()=>{class i extends cI{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,n,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(n.appendChild(o))})}addHost(e){const n=[];this._addStylesToHost(this._stylesSet,e,n),this._hostNodes.set(e,n)}removeHost(e){const n=this._hostNodes.get(e);n&&n.forEach(uI),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((n,r)=>{this._addStylesToHost(e,r,n)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(uI))}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();function uI(i){Ns().remove(i)}const K0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Z0=/%COMP%/g;function Tm(i,t,e){for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?Tm(i,r,e):(r=r.replace(Z0,i),e.push(r))}return e}function fI(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Pm=(()=>{class i{constructor(e,n,r){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Q0(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case Zr.Emulated:{let r=this.rendererByCompId.get(n.id);return r||(r=new M9(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,r)),r.applyToHost(e),r}case 1:case Zr.ShadowDom:return new x9(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const r=Tm(n.id,n.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(z(Em),z(hh),z(sh))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();class Q0{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(K0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(mI(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(mI(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const s=K0[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=K0[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(or.DashCase|or.Important)?t.style.setProperty(e,n,r&or.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&or.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fI(n)):this.eventManager.addEventListener(t,e,fI(n))}}function mI(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class M9 extends Q0{constructor(t,e,n,r){super(t),this.component=n;const s=Tm(r+"-"+n.id,n.styles,[]);e.addStyles(s),this.contentAttr=function y9(i){return"_ngcontent-%COMP%".replace(Z0,i)}(r+"-"+n.id),this.hostAttr=function v9(i){return"_nghost-%COMP%".replace(Z0,i)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class x9 extends Q0{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Tm(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let w9=(()=>{class i extends lI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const gI=["alt","control","meta","shift"],S9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_I={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},D9={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let E9=(()=>{class i extends lI{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ns().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let o="";if(gI.forEach(l=>{const c=n.indexOf(l);c>-1&&(n.splice(c,1),o+=l+".")}),o+=s,0!=n.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let n="",r=function T9(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&_I.hasOwnProperty(t)&&(t=_I[t]))}return S9[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gI.forEach(s=>{s!=r&&(0,D9[s])(e)&&(n+=s+".")}),n+=r,n}static eventCallback(e,n,r){return s=>{i.getEventFullKey(s)===e&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const O9=vA(LG,"browser",[{provide:om,useValue:rI},{provide:cA,useValue:function P9(){X0.makeCurrent()},multi:!0},{provide:ut,useFactory:function I9(){return function Y4(i){Rv=i}(document),document},deps:[]}]),vI=new he(""),bI=[{provide:am,useClass:class p9{addToWindow(t){pn.getAngularTestability=(n,r=!0)=>{const s=t.findTestabilityInTree(n,r);if(null==s)throw new Error("Could not find testability for element.");return s},pn.getAllAngularTestabilities=()=>t.getAllTestabilities(),pn.getAllAngularRootElements=()=>t.getAllRootElements(),pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(n=>{const r=pn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?Ns().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:mA,useClass:S0,deps:[ot,D0,am]},{provide:S0,useClass:S0,deps:[ot,D0,am]}],MI=[{provide:Gv,useValue:"root"},{provide:mo,useFactory:function A9(){return new mo},deps:[]},{provide:Dm,useClass:w9,multi:!0,deps:[ut,ot,om]},{provide:Dm,useClass:E9,multi:!0,deps:[ut]},{provide:Pm,useClass:Pm,deps:[Em,hh,sh]},{provide:zd,useExisting:Pm},{provide:cI,useExisting:hh},{provide:hh,useClass:hh,deps:[ut]},{provide:Em,useClass:Em,deps:[Dm,ot]},{provide:oI,useClass:m9,deps:[]},[]];let xI=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:sh,useValue:e.appId},{provide:aI,useExisting:sh},f9]}}}return i.\u0275fac=function(e){return new(e||i)(z(vI,12))},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[...MI,...bI],imports:[So,BG]}),i})(),wI=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:function(e){let n=null;return n=e?new e:function N9(){return new wI(z(ut))}(),n},providedIn:"root"}),i})();typeof window<"u"&&window;let tM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:function(e){let n=null;return n=e?new(e||i):z(DI),n},providedIn:"root"}),i})(),DI=(()=>{class i extends tM{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case en.NONE:return n;case en.HTML:return Ds(n,"HTML")?Mr(n):mD(this._doc,String(n)).toString();case en.STYLE:return Ds(n,"Style")?Mr(n):n;case en.SCRIPT:if(Ds(n,"Script"))return Mr(n);throw new Error("unsafe value used in a script context");case en.URL:return Ds(n,"URL")?Mr(n):Ld(String(n));case en.RESOURCE_URL:if(Ds(n,"ResourceURL"))return Mr(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function iV(i){return new Z4(i)}(e)}bypassSecurityTrustStyle(e){return function rV(i){return new Q4(i)}(e)}bypassSecurityTrustScript(e){return function sV(i){return new J4(i)}(e)}bypassSecurityTrustUrl(e){return function oV(i){return new eV(i)}(e)}bypassSecurityTrustResourceUrl(e){return function aV(i){return new tV(i)}(e)}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:function(e){let n=null;return n=e?new e:function U9(i){return new DI(i.get(ut))}(z(Jn)),n},providedIn:"root"}),i})();function Ve(...i){return jn(i,yd(i))}class lr extends Be{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const{isArray:G9}=Array,{getPrototypeOf:j9,prototype:W9,keys:$9}=Object;function EI(i){if(1===i.length){const t=i[0];if(G9(t))return{args:t,keys:null};if(function q9(i){return i&&"object"==typeof i&&j9(i)===W9}(t)){const e=$9(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:Y9}=Array;function nM(i){return Je(t=>function X9(i,t){return Y9(t)?i(...t):i(t)}(i,t))}function TI(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function Am(...i){const t=yd(i),e=$y(i),{args:n,keys:r}=EI(i);if(0===n.length)return jn([],t);const s=new cn(function K9(i,t,e=xs){return n=>{PI(t,()=>{const{length:r}=i,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)PI(t,()=>{const c=jn(i[l],t);let u=!1;c.subscribe(sn(n,d=>{s[l]=d,u||(u=!0,a--),a||n.next(e(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,t,r?o=>TI(r,o):xs));return e?s.pipe(nM(e)):s}function PI(i,t,e){i?oo(e,i,t):t()}function fh(...i){return function Z9(){return nc(1)}()(jn(i,yd(i)))}function Kc(i){return new cn(t=>{Ti(i()).subscribe(t)})}function Zc(i,t){const e=zt(i)?i:()=>i,n=r=>r.error(e());return new cn(t?r=>t.schedule(n,0,r):n)}const Qc=gd(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function iM(){return bn((i,t)=>{let e=null;i._refCount++;const n=sn(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class AI extends cn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,BS(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ut;const e=this.getSubject();t.add(this.source.subscribe(sn(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ut.EMPTY)}return t}refCount(){return iM()(this)}}function ni(i,t){return bn((e,n)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&n.complete();e.subscribe(sn(n,l=>{r?.unsubscribe();let c=0;const u=s++;Ti(i(l,u)).subscribe(r=sn(n,d=>n.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function wn(i){return i<=0?()=>ao:bn((t,e)=>{let n=0;t.subscribe(sn(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function In(...i){const t=yd(i);return bn((e,n)=>{(t?fh(i,e,t):fh(i,e)).subscribe(n)})}function an(i,t){return bn((e,n)=>{let r=0;e.subscribe(sn(n,s=>i.call(t,s,r++)&&n.next(s)))})}function Im(i){return bn((t,e)=>{let n=!1;t.subscribe(sn(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function II(i=Q9){return bn((t,e)=>{let n=!1;t.subscribe(sn(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function Q9(){return new Qc}function oa(i,t){const e=arguments.length>=2;return n=>n.pipe(i?an((r,s)=>i(r,s,n)):xs,wn(1),e?Im(t):II(()=>new Qc))}function Do(i,t){return zt(t)?ui(i,t,1):ui(i,1)}function Wt(i,t,e){const n=zt(i)||t||e?{next:i,error:t,complete:e}:i;return n?bn((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;r.subscribe(sn(s,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),s.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),s.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),s.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):xs}function Ls(i){return bn((t,e)=>{let s,n=null,r=!1;n=t.subscribe(sn(e,void 0,void 0,o=>{s=Ti(i(o,Ls(i)(t))),n?(n.unsubscribe(),n=null,s.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(e))})}function J9(i,t,e,n,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(sn(o,u=>{const d=c++;l=a?i(l,u,d):(a=!0,u),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function OI(i,t){return bn(J9(i,t,arguments.length>=2,!0))}function rM(i){return i<=0?()=>ao:bn((t,e)=>{let n=[];t.subscribe(sn(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function RI(i,t){const e=arguments.length>=2;return n=>n.pipe(i?an((r,s)=>i(r,s,n)):xs,rM(1),e?Im(t):II(()=>new Qc))}function NI(i,t=!1){return bn((e,n)=>{let r=0;e.subscribe(sn(n,s=>{const o=i(s,r++);(o||t)&&n.next(s),!o&&n.complete()}))})}function kI(i){return Je(()=>i)}function Om(i){return bn((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}const It="primary";class eW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jc(i){return new eW(i)}function tW(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=i[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Bs(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!FI(i[r],t[r]))return!1;return!0}function FI(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}return i===t}function LI(i){return Array.prototype.concat.apply([],i)}function BI(i){return i.length>0?i[i.length-1]:null}function Si(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Eo(i){return $b(i)?i:Xd(i)?jn(Promise.resolve(i)):Ve(i)}const rW={exact:function HI(i,t,e){if(!ol(i.segments,t.segments)||!Rm(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!HI(i.children[n],t.children[n],e))return!1;return!0},subset:UI},VI={exact:function sW(i,t){return Bs(i,t)},subset:function oW(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>FI(i[e],t[e]))},ignored:()=>!0};function zI(i,t,e){return rW[e.paths](i.root,t.root,e.matrixParams)&&VI[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function UI(i,t,e){return GI(i,t,t.segments,e)}function GI(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!ol(r,e)||t.hasChildren()||!Rm(r,e,n))}if(i.segments.length===e.length){if(!ol(i.segments,e)||!Rm(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!UI(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(ol(i.segments,r)&&Rm(i.segments,r,n)&&i.children[It])&&GI(i.children[It],t,s,n)}}function Rm(i,t,e){return t.every((n,r)=>VI[e](i[r].parameters,n.parameters))}class sl{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jc(this.queryParams)),this._queryParamMap}toString(){return cW.serialize(this)}}class Nt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Si(e,(n,r)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nm(this)}}class ph{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jc(this.parameters)),this._parameterMap}toString(){return YI(this)}}function ol(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}class jI{}class WI{parse(t){const e=new yW(t);return new sl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${mh(t.root,!0)}`,n=function hW(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${km(e)}=${km(r)}`).join("&"):`${km(e)}=${km(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function uW(i){return encodeURI(i)}(t.fragment)}`:""}`}}const cW=new WI;function Nm(i){return i.segments.map(t=>YI(t)).join("/")}function mh(i,t){if(!i.hasChildren())return Nm(i);if(t){const e=i.children[It]?mh(i.children[It],!1):"",n=[];return Si(i.children,(r,s)=>{s!==It&&n.push(`${s}:${mh(r,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function lW(i,t){let e=[];return Si(i.children,(n,r)=>{r===It&&(e=e.concat(t(n,r)))}),Si(i.children,(n,r)=>{r!==It&&(e=e.concat(t(n,r)))}),e}(i,(n,r)=>r===It?[mh(i.children[It],!1)]:[`${r}:${mh(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[It]?`${Nm(i)}/${e[0]}`:`${Nm(i)}/(${e.join("//")})`}}function $I(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function km(i){return $I(i).replace(/%3B/gi,";")}function oM(i){return $I(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fm(i){return decodeURIComponent(i)}function qI(i){return Fm(i.replace(/\+/g,"%20"))}function YI(i){return`${oM(i.path)}${function dW(i){return Object.keys(i).map(t=>`;${oM(t)}=${oM(i[t])}`).join("")}(i.parameters)}`}const fW=/^[^\/()?;=#]+/;function Lm(i){const t=i.match(fW);return t?t[0]:""}const pW=/^[^=?&#]+/,gW=/^[^&#]+/;class yW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[It]=new Nt(t,e)),n}parseSegment(){const t=Lm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(t),new ph(Fm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Lm(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=Lm(this.remaining);r&&(n=r,this.capture(n))}t[Fm(e)]=Fm(n)}parseQueryParam(t){const e=function mW(i){const t=i.match(pW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const o=function _W(i){const t=i.match(gW);return t?t[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=qI(e),s=qI(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Lm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new le(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=It);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[It]:new Nt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new le(4011,!1)}}function aM(i){return i.segments.length>0?new Nt([],{[It]:i}):i}function Bm(i){const t={};for(const n of Object.keys(i.children)){const s=Bm(i.children[n]);(s.segments.length>0||s.hasChildren())&&(t[n]=s)}return function vW(i){if(1===i.numberOfChildren&&i.children[It]){const t=i.children[It];return new Nt(i.segments.concat(t.segments),t.children)}return i}(new Nt(i.segments,t))}function al(i){return i instanceof sl}function xW(i,t,e,n,r){if(0===e.length)return eu(t.root,t.root,t.root,n,r);const s=function ZI(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new KI(!0,0,i);let t=0,e=!1;const n=i.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Si(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new KI(e,t,n)}(e);return s.toRoot()?eu(t.root,t.root,new Nt([],{}),n,r):function o(l){const c=function CW(i,t,e,n){if(i.isAbsolute)return new tu(t.root,!0,0);if(-1===n)return new tu(e,e===t.root,0);return function QI(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new le(4005,!1);r=n.segments.length}return new tu(n,!1,r-s)}(e,n+(gh(i.commands[0])?0:1),i.numberOfDoubleDots)}(s,t,i.snapshot?._urlSegment,l),u=c.processChildren?yh(c.segmentGroup,c.index,s.commands):cM(c.segmentGroup,c.index,s.commands);return eu(t.root,c.segmentGroup,u,n,r)}(i.snapshot?._lastPathIndex)}function gh(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function _h(i){return"object"==typeof i&&null!=i&&i.outlets}function eu(i,t,e,n,r){let o,s={};n&&Si(n,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=i===t?e:XI(i,t,e);const a=aM(Bm(o));return new sl(a,s,r)}function XI(i,t,e){const n={};return Si(i.children,(r,s)=>{n[s]=r===t?e:XI(r,t,e)}),new Nt(i.segments,n)}class KI{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&gh(n[0]))throw new le(4003,!1);const r=n.find(_h);if(r&&r!==BI(n))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tu{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function cM(i,t,e){if(i||(i=new Nt([],{})),0===i.segments.length&&i.hasChildren())return yh(i,t,e);const n=function DW(i,t,e){let n=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;const o=i.segments[r],a=e[n];if(_h(a))break;const l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!eO(l,c,o))return s;n+=2}else{if(!eO(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new Nt(i.segments.slice(0,n.pathIndex),{});return s.children[It]=new Nt(i.segments.slice(n.pathIndex),i.children),yh(s,0,r)}return n.match&&0===r.length?new Nt(i.segments,{}):n.match&&!i.hasChildren()?uM(i,t,e):n.match?yh(i,0,r):uM(i,t,e)}function yh(i,t,e){if(0===e.length)return new Nt(i.segments,{});{const n=function SW(i){return _h(i[0])?i[0].outlets:{[It]:i}}(e),r={};return Si(n,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=cM(i.children[o],t,s))}),Si(i.children,(s,o)=>{void 0===n[o]&&(r[o]=s)}),new Nt(i.segments,r)}}function uM(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(_h(s)){const l=EW(s.outlets);return new Nt(n,l)}if(0===r&&gh(e[0])){n.push(new ph(i.segments[t].path,JI(e[0]))),r++;continue}const o=_h(s)?s.outlets[It]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&gh(a)?(n.push(new ph(o,JI(a))),r+=2):(n.push(new ph(o,{})),r++)}return new Nt(n,{})}function EW(i){const t={};return Si(i,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=uM(new Nt([],{}),0,e))}),t}function JI(i){const t={};return Si(i,(e,n)=>t[n]=`${e}`),t}function eO(i,t,e){return i==e.path&&Bs(t,e.parameters)}class To{constructor(t,e){this.id=t,this.url=e}}class dM extends To{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends To{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vm extends To{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tO extends To{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TW extends To{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PW extends To{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AW extends To{constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class IW extends To{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OW extends To{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NW{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kW{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FW{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LW{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BW{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nO{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=hM(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=hM(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fM(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return fM(t,this._root).map(e=>e.value)}}function hM(i,t){if(i===t.value)return t;for(const e of t.children){const n=hM(i,e);if(n)return n}return null}function fM(i,t){if(i===t.value)return[t];for(const e of t.children){const n=fM(i,e);if(n.length)return n.unshift(t),n}return[]}class Po{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function nu(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class rO extends iO{constructor(t,e){super(t),this.snapshot=e,pM(this,t)}toString(){return this.snapshot.toString()}}function sO(i,t){const e=function zW(i,t){const o=new zm([],{},{},"",{},It,t,null,i.root,-1,{});return new aO("",new Po(o,[]))}(i,t),n=new lr([new ph("",{})]),r=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),l=new iu(n,r,o,a,s,It,t,e.root);return l.snapshot=e.root,new rO(new Po(l,[]),e)}class iu{constructor(t,e,n,r,s,o,a,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(t=>Jc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(t=>Jc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oO(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],s=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function HW(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class zm{constructor(t,e,n,r,s,o,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aO extends iO{constructor(t,e){super(e),this.url=t,pM(this,e)}toString(){return lO(this._root)}}function pM(i,t){t.value._routerState=i,t.children.forEach(e=>pM(i,e))}function lO(i){const t=i.children.length>0?` { ${i.children.map(lO).join(", ")} } `:"";return`${i.value}${t}`}function mM(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Bs(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Bs(t.params,e.params)||i.params.next(e.params),function nW(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Bs(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Bs(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function gM(i,t){const e=Bs(i.params,t.params)&&function aW(i,t){return ol(i,t)&&i.every((e,n)=>Bs(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||gM(i.parent,t.parent))}function vh(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function GW(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return vh(i,n,r);return vh(i,n)})}(i,t,e);return new Po(n,r)}{if(i.shouldAttach(t.value)){const s=i.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>vh(i,a)),o}}const n=function jW(i){return new iu(new lr(i.url),new lr(i.params),new lr(i.queryParams),new lr(i.fragment),new lr(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(s=>vh(i,s));return new Po(n,r)}}const _M="ngNavigationCancelingError";function cO(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=al(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=uO(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function uO(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[_M]=!0,n.cancellationCode=t,e&&(n.url=e),n}function dO(i){return hO(i)&&al(i.url)}function hO(i){return i&&i[_M]}class WW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bh,this.attachRef=null}}class bh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new WW,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const Hm=!1;let yM=(()=>{class i{constructor(e,n,r,s,o){this.parentContexts=e,this.location=n,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.name=r||It,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,Hm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,Hm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,Hm);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new le(4013,Hm);this._activatedRoute=e;const r=this.location,o=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $W(e,a,r.injector);if(n&&function qW(i){return!!i.resolveComponentFactory}(n)){const c=n.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(D(bh),D(Ni),Ss("name"),D($n),D(ea))},i.\u0275dir=ue({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class $W{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===iu?this.route:t===bh?this.childContexts:this.parent.get(t,e)}}let fO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&qe(0,"router-outlet")},dependencies:[yM],encapsulation:2}),i})();function pO(i,t){return i.providers&&!i._injector&&(i._injector=em(i.providers,t,`Route: ${i.path}`)),i._injector??t}function bM(i){const t=i.children&&i.children.map(bM),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==It&&(e.component=fO),e}function Br(i){return i.outlet||It}function mO(i,t){const e=i.filter(n=>Br(n)===t);return e.push(...i.filter(n=>Br(n)!==t)),e}function gO(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class QW{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mM(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=nu(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Si(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=nu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=nu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=nu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new BW(s.value.snapshot))}),t.children.length&&this.forwardEvent(new FW(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(mM(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mM(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=gO(r.snapshot),l=a?.get(Ya)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}class _O{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Um{constructor(t,e){this.component=t,this.route=e}}function JW(i,t,e){const n=i._root;return Mh(n,t?t._root:null,e,[n.value])}function Gm(i,t,e){return(gO(t)??e).get(i)}function Mh(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=nu(t);return i.children.forEach(o=>{(function t7(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,o=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function n7(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!ol(i.url,t.url);case"pathParamsOrQueryParamsChange":return!ol(i.url,t.url)||!Bs(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gM(i,t)||!Bs(i.queryParams,t.queryParams);default:return!gM(i,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new _O(n)):(s.data=o.data,s._resolvedData=o._resolvedData),Mh(i,t,s.component?a?a.children:null:e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Um(a.outlet.component,o))}else o&&xh(t,a,r),r.canActivateChecks.push(new _O(n)),Mh(i,null,s.component?a?a.children:null:e,n,r)})(o,s[o.value.outlet],e,n.concat([o.value]),r),delete s[o.value.outlet]}),Si(s,(o,a)=>xh(o,e.getContext(a),r)),r}function xh(i,t,e){const n=nu(i),r=i.value;Si(n,(s,o)=>{xh(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Um(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function wh(i){return"function"==typeof i}const jm=Symbol("INITIAL_VALUE");function ru(){return ni(i=>Am(i.map(t=>t.pipe(wn(1),In(jm)))).pipe(Je(t=>{for(const e of t)if(!0!==e){if(e===jm)return jm;if(!1===e||e instanceof sl)return e}return!0}),an(t=>t!==jm),wn(1)))}function yO(i){return Uy(Wt(t=>{if(al(t))throw cO(0,t)}),Je(t=>!0===t))}const MM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vO(i,t,e,n,r){const s=xM(i,t,e);return s.matched?function v7(i,t,e,n){const r=t.canMatch;return r&&0!==r.length?Ve(r.map(o=>{const a=i.get(o),l=function l7(i){return i&&wh(i.canMatch)}(a)?a.canMatch(t,e):a(t,e);return Eo(l)})).pipe(ru(),yO()):Ve(!0)}(n=pO(t,n),t,e).pipe(Je(o=>!0===o?s:{...MM})):Ve(s)}function xM(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...MM}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||tW)(e,i,t);if(!r)return{...MM};const s={};Si(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Wm(i,t,e,n,r="corrected"){if(e.length>0&&function x7(i,t,e){return e.some(n=>$m(i,t,n)&&Br(n)!==It)}(i,e,n)){const o=new Nt(t,function M7(i,t,e,n){const r={};r[It]=n,n._sourceSegment=i,n._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Br(s)!==It){const o=new Nt([],{});o._sourceSegment=i,o._segmentIndexShift=t.length,r[Br(s)]=o}return r}(i,t,n,new Nt(e,i.children)));return o._sourceSegment=i,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function w7(i,t,e){return e.some(n=>$m(i,t,n))}(i,e,n)){const o=new Nt(i.segments,function b7(i,t,e,n,r,s){const o={};for(const a of n)if($m(i,e,a)&&!r[Br(a)]){const l=new Nt([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===s?i.segments.length:t.length,o[Br(a)]=l}return{...r,...o}}(i,t,e,n,i.children,r));return o._sourceSegment=i,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new Nt(i.segments,i.children);return s._sourceSegment=i,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function $m(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function bO(i,t,e,n){return!!(Br(i)===n||n!==It&&$m(t,e,i))&&("**"===i.path||xM(t,i,e).matched)}function MO(i,t,e){return 0===t.length&&!i.children[e]}const qm=!1;class Ym{constructor(t){this.segmentGroup=t||null}}class xO{constructor(t){this.urlTree=t}}function Ch(i){return Zc(new Ym(i))}function wO(i){return Zc(new xO(i))}class E7{constructor(t,e,n,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Wm(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,It).pipe(Je(s=>this.createUrlTree(Bm(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ls(s=>{if(s instanceof xO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ym?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,It).pipe(Je(r=>this.createUrlTree(Bm(r),t.queryParams,t.fragment))).pipe(Ls(r=>{throw r instanceof Ym?this.noMatchError(r):r}))}noMatchError(t){return new le(4002,qm)}createUrlTree(t,e,n){const r=aM(t);return new sl(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Je(s=>new Nt([],s))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return jn(r).pipe(Do(s=>{const o=n.children[s],a=mO(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(Je(l=>({segment:l,outlet:s})))}),OI((s,o)=>(s[o.outlet]=o.segment,s),{}),RI())}expandSegment(t,e,n,r,s,o){return jn(n).pipe(Do(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,s,o).pipe(Ls(c=>{if(c instanceof Ym)return Ve(null);throw c}))),oa(a=>!!a),Ls((a,l)=>{if(a instanceof Qc||"EmptyError"===a.name)return MO(e,r,s)?Ve(new Nt([],{})):Ch(e);throw a}))}expandSegmentAgainstRoute(t,e,n,r,s,o,a){return bO(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o):Ch(e):Ch(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?wO(s):this.lineralizeSegments(n,s).pipe(ui(o=>{const a=new Nt(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=xM(e,r,s);if(!a)return Ch(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?wO(d):this.lineralizeSegments(r,d).pipe(ui(h=>this.expandSegment(t,e,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,s){return"**"===n.path?(t=pO(n,t),n.loadChildren?(n._loadedRoutes?Ve({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(t,n)).pipe(Je(a=>(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,new Nt(r,{})))):Ve(new Nt(r,{}))):vO(e,n,r,t).pipe(ni(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(t=n._injector??t,n,r).pipe(ui(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:p}=Wm(e,a,l,h),m=new Nt(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Je(v=>new Nt(a,v)));if(0===h.length&&0===p.length)return Ve(new Nt(a,{}));const g=Br(n)===s;return this.expandSegment(d,m,h,p,g?It:s,!0).pipe(Je(y=>new Nt(a.concat(y.segments),y.children)))})):Ch(e)))}getChildConfig(t,e,n){return e.children?Ve({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ve({routes:e._loadedRoutes,injector:e._loadedInjector}):function y7(i,t,e,n){const r=t.canLoad;return void 0===r||0===r.length?Ve(!0):Ve(r.map(o=>{const a=i.get(o),l=function r7(i){return i&&wh(i.canLoad)}(a)?a.canLoad(t,e):a(t,e);return Eo(l)})).pipe(ru(),yO())}(t,e,n).pipe(ui(r=>r?this.configLoader.loadChildren(t,e).pipe(Wt(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function S7(i){return Zc(uO(qm,3))}())):Ve({routes:[],injector:t})}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ve(n);if(r.numberOfChildren>1||!r.children[It])return Zc(new le(4e3,qm));r=r.children[It]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const s=this.createSegmentGroup(t,e.root,n,r);return new sl(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Si(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);n[s]=e[a]}else n[s]=r}),n}createSegmentGroup(t,e,n,r){const s=this.createSegments(t,e.segments,n,r);let o={};return Si(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,n,r)}),new Nt(s,o)}createSegments(t,e,n,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new le(4001,qm);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}class P7{}class O7{constructor(t,e,n,r,s,o,a,l){this.injector=t,this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=Wm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,It).pipe(Je(e=>{if(null===e)return null;const n=new zm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Po(n,e),s=new aO(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,n=oO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r)}processChildren(t,e,n){return jn(Object.keys(n.children)).pipe(Do(r=>{const s=n.children[r],o=mO(e,r);return this.processSegmentGroup(t,o,s,r)}),OI((r,s)=>r&&s?(r.push(...s),r):null),NI(r=>null!==r),Im(null),RI(),Je(r=>{if(null===r)return null;const s=CO(r);return function R7(i){i.sort((t,e)=>t.value.outlet===It?-1:e.value.outlet===It?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,n,r,s){return jn(e).pipe(Do(o=>this.processSegmentAgainstRoute(o._injector??t,o,n,r,s)),oa(o=>!!o),Ls(o=>{if(o instanceof Qc)return MO(n,r,s)?Ve([]):Ve(null);throw o}))}processSegmentAgainstRoute(t,e,n,r,s){if(e.redirectTo||!bO(e,n,r,s))return Ve(null);let o;if("**"===e.path){const a=r.length>0?BI(r).parameters:{},l=DO(n)+r.length;o=Ve({snapshot:new zm(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TO(e),Br(e),e.component??e._loadedComponent??null,e,SO(n),l,PO(e),l),consumedSegments:[],remainingSegments:[]})}else o=vO(n,e,r,t).pipe(Je(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=DO(n)+l.length;return{snapshot:new zm(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TO(e),Br(e),e.component??e._loadedComponent??null,e,SO(n),d,PO(e),d),consumedSegments:l,remainingSegments:c}}));return o.pipe(ni(a=>{if(null===a)return Ve(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function N7(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:p}=Wm(n,c,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Je(g=>null===g?null:[new Po(l,g)]));if(0===h.length&&0===p.length)return Ve([new Po(l,[])]);const m=Br(e)===s;return this.processSegment(d,h,f,p,m?It:s).pipe(Je(g=>null===g?null:[new Po(l,g)]))}))}}function k7(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function CO(i){const t=[],e=new Set;for(const n of i){if(!k7(n)){t.push(n);continue}const r=t.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=CO(n.children);t.push(new Po(n.value,r))}return t.filter(n=>!e.has(n))}function SO(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function DO(i){let t=i,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function TO(i){return i.data||{}}function PO(i){return i.resolve||{}}const wM=Symbol("RouteTitle");function AO(i){return"string"==typeof i.title||null===i.title}function CM(i){return ni(t=>{const e=i(t);return e?jn(e).pipe(Je(()=>t)):Ve(t)})}class W7 extends class j7{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const SM=new he("ROUTES");let DM=(()=>{class i{constructor(e,n){this.injector=e,this.compiler=n,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ve(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=Eo(e.loadComponent()).pipe(Wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Om(()=>{this.componentLoaders.delete(e)})),r=new AI(n,()=>new Be).pipe(iM());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Ve({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe(Je(a=>{this.onLoadEndListener&&this.onLoadEndListener(n);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=LI(l.get(SM,[],lt.Self|lt.Optional)));return{routes:c.map(bM),injector:l}}),Om(()=>{this.childrenLoaders.delete(n)})),o=new AI(s,()=>new Be).pipe(iM());return this.childrenLoaders.set(n,o),o}loadModuleFactoryOrRoutes(e){return Eo(e()).pipe(ui(n=>n instanceof wP||Array.isArray(n)?Ve(n):jn(this.compiler.compileModuleAsync(n))))}}return i.\u0275fac=function(e){return new(e||i)(z(Jn),z(M0))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();class q7{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Y7(i){throw i}function X7(i,t,e){return t.parse("/")}const K7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class i{constructor(e,n,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Be,this.errorHandler=Y7,this.malformedUriErrorHandler=X7,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ve(void 0),this.urlHandlingStrategy=new q7,this.routeReuseStrategy=new W7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(DM),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new NW(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new RW(h)),this.ngModule=o.get(tl),this.console=o.get(nG);const d=o.get(ot);this.isNgZoneEnabled=d instanceof ot&&ot.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function iW(){return new sl(new Nt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sO(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const n=this.events;return e.pipe(an(r=>0!==r.id),Je(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ni(r=>{let s=!1,o=!1;return Ve(r).pipe(Wt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ni(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return OO(a.source)&&(this.browserUrlTree=a.extractedUrl),Ve(a).pipe(ni(d=>{const h=this.transitions.getValue();return n.next(new dM(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ao:Promise.resolve(d)}),function T7(i,t,e,n){return ni(r=>function D7(i,t,e,n,r){return new E7(i,t,e,n,r).apply()}(i,t,e,r.extractedUrl,n).pipe(Je(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function L7(i,t,e,n,r,s){return ui(o=>function I7(i,t,e,n,r,s,o="emptyOnly",a="legacy"){return new O7(i,t,e,n,r,o,a,s).recognize().pipe(ni(l=>null===l?function A7(i){return new cn(t=>t.error(i))}(new P7):Ve(l)))}(i,t,e,o.urlAfterRedirects,n.serialize(o.urlAfterRedirects),n,r,s).pipe(Je(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Wt(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new TW(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);n.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,_=new dM(h,this.serializeUrl(f),p,m);n.next(_);const y=sO(f,this.rootComponentType).snapshot;return Ve(r={...a,targetSnapshot:y,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ao}),Wt(a=>{const l=new PW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Je(a=>r={...a,guards:JW(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function u7(i,t){return ui(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Ve({...e,guardsResult:!0}):function d7(i,t,e,n){return jn(i).pipe(ui(r=>function _7(i,t,e,n,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const l=Gm(a,t,r);return Eo(function a7(i){return i&&wh(i.canDeactivate)}(l)?l.canDeactivate(i,t,e,n):l(i,t,e,n)).pipe(oa())})).pipe(ru()):Ve(!0)}(r.component,r.route,e,t,n)),oa(r=>!0!==r,!0))}(o,n,r,i).pipe(ui(a=>a&&function i7(i){return"boolean"==typeof i}(a)?function h7(i,t,e,n){return jn(t).pipe(Do(r=>fh(function p7(i,t){return null!==i&&t&&t(new kW(i)),Ve(!0)}(r.route.parent,n),function f7(i,t){return null!==i&&t&&t(new LW(i)),Ve(!0)}(r.route,n),function g7(i,t,e){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function e7(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Kc(()=>Ve(o.guards.map(l=>{const c=Gm(l,o.node,e);return Eo(function o7(i){return i&&wh(i.canActivateChild)}(c)?c.canActivateChild(n,i):c(n,i)).pipe(oa())})).pipe(ru())));return Ve(s).pipe(ru())}(i,r.path,e),function m7(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Ve(!0);const r=n.map(s=>Kc(()=>{const o=Gm(s,t,e);return Eo(function s7(i){return i&&wh(i.canActivate)}(o)?o.canActivate(t,i):o(t,i)).pipe(oa())}));return Ve(r).pipe(ru())}(i,r.route,e))),oa(r=>!0!==r,!0))}(n,s,i,t):Ve(a)),Je(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Wt(a=>{if(r.guardsResult=a.guardsResult,al(a.guardsResult))throw cO(0,a.guardsResult);const l=new AW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),an(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),CM(a=>{if(a.guards.canActivateChecks.length)return Ve(a).pipe(Wt(l=>{const c=new IW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ni(l=>{let c=!1;return Ve(l).pipe(function B7(i,t){return ui(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return Ve(e);let s=0;return jn(r).pipe(Do(o=>function V7(i,t,e,n){const r=i.routeConfig,s=i._resolve;return void 0!==r?.title&&!AO(r)&&(s[wM]=r.title),function z7(i,t,e,n){const r=function H7(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return Ve({});const s={};return jn(r).pipe(ui(o=>function U7(i,t,e,n){const r=Gm(i,t,n);return Eo(r.resolve?r.resolve(t,e):r(t,e))}(i[o],t,e,n).pipe(oa(),Wt(a=>{s[o]=a}))),rM(1),kI(s),Ls(o=>o instanceof Qc?ao:Zc(o)))}(s,i,t,n).pipe(Je(o=>(i._resolvedData=o,i.data=oO(i,e).resolve,r&&AO(r)&&(i.data[wM]=r.title),null)))}(o.route,n,i,t)),Wt(()=>s++),rM(1),ui(o=>s===r.length?Ve(e):ao))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Wt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Wt(l=>{const c=new OW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),CM(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Wt(d=>{c.component=d}),Je(()=>{})));for(const d of c.children)u.push(...l(d));return u};return Am(l(a.targetSnapshot.root)).pipe(Im(),wn(1))}),CM(()=>this.afterPreactivation()),Je(a=>{const l=function UW(i,t,e){const n=vh(i,t._root,e?e._root:void 0);return new rO(n,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),Wt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((i,t,e)=>Je(n=>(new QW(t,n.targetRouterState,n.currentRouterState,e).activate(i),n)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Wt({next(){s=!0},complete(){s=!0}}),Om(()=>{s||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ls(a=>{if(o=!0,hO(a)){dO(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new Vm(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(n.next(l),dO(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OO(r.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new tO(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);n.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return ao}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,n,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(bM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),xW(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=al(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,n)}navigate(e,n={skipLocationChange:!1}){return function Q7(i){for(let t=0;t<i.length;t++){if(null==i[t])throw new le(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...K7}:!1===n?{...Z7}:n,al(e))return zI(this.currentUrlTree,e,r);const s=this.parseUrl(e);return zI(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const s=e[r];return null!=s&&(n[r]=s),n},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ll(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e),s={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,n,r){const s=new Vm(e.id,this.serializeUrl(e.extractedUrl),n,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return i.\u0275fac=function(e){Tc()},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();function OO(i){return"imperative"!==i}let Sh=(()=>{class i{constructor(e,n,r,s,o){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Be,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const n=this.renderer,r=this.el.nativeElement;null!==e?n.setAttribute(r,"tabindex",e):n.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:xo(this.skipLocationChange),replaceUrl:xo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xo(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(D(gi),D(iu),Ss("tabindex"),D(po),D(mt))},i.\u0275dir=ue({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,n){1&e&&ke("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Wn]}),i})(),aa=(()=>{class i{constructor(e,n,r){this.router=e,this.route=n,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Be,this.subscription=e.events.subscribe(s=>{s instanceof ll&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,n,r,s,o){if(0!==e||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:xo(this.skipLocationChange),replaceUrl:xo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xo(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(D(gi),D(iu),D(il))},i.\u0275dir=ue({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,n){1&e&&ke("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&At("target",n.target)("href",n.href,xc)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Wn]}),i})(),RO=(()=>{class i{constructor(e,n,r,s,o,a){this.router=e,this.element=n,this.renderer=r,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new we,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof ll&&this.update()})}ngAfterContentInit(){Ve(this.links.changes,this.linksWithHrefs.changes,Ve(null)).pipe(nc()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=jn(e).pipe(nc()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function J7(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(D(gi),D(mt),D(po),D($n),D(Sh,8),D(aa,8))},i.\u0275dir=ue({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,Sh,5),Ht(r,aa,5)),2&e){let s;We(s=$e())&&(n.links=s),We(s=$e())&&(n.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Wn]}),i})(),NO=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===It);return n}getResolvedTitleForRoute(e){return e.data[wM]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:function(){return Sn(e$)},providedIn:"root"}),i})(),e$=(()=>{class i extends NO{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return i.\u0275fac=function(e){return new(e||i)(z(wI))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class kO{}let FO=(()=>{class i{constructor(e,n,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(an(e=>e instanceof ll),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=em(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jn(r).pipe(nc())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):Ve(null);const s=r.pipe(ui(o=>null===o?Ve(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return n.loadComponent&&!n._loadedComponent?jn([s,this.loader.loadComponent(n)]).pipe(nc()):s})}}return i.\u0275fac=function(e){return new(e||i)(z(gi),z(M0),z(ea),z(kO),z(DM))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const LO=new he("");let t$=(()=>{class i{constructor(e,n,r={}){this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ll&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.router.triggerEvent(new nO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){Tc()},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const EM=new he("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),BO=new he("ROUTER_FORROOT_GUARD"),VO=new he(""),n$=[ah,{provide:jI,useClass:WI},{provide:gi,useFactory:function l$(i,t,e,n,r,s,o,a={},l,c){const u=new gi(null,i,t,e,n,r,LI(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),u.titleStrategy=o,function c$(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(a,u),u},deps:[jI,bh,ah,Jn,M0,SM,NO,EM,[class $7{},new ts],[class G7{},new ts]]},bh,{provide:iu,useFactory:function u$(i){return i.routerState.root},deps:[gi]},DM];function i$(){return new _A("Router",gi)}let TM=(()=>{class i{constructor(e,n){}static forRoot(e,n){return{ngModule:i,providers:[n$,[],zO(e),{provide:BO,useFactory:a$,deps:[[gi,new ts,new Wa]]},{provide:EM,useValue:n||{}},n?.useHash?{provide:il,useClass:$G}:{provide:il,useClass:HA},{provide:LO,useFactory:()=>{const i=Sn(gi),t=Sn(o9),e=Sn(EM);return e.scrollOffset&&t.setOffset(e.scrollOffset),new t$(i,t,e)}},n?.preloadingStrategy?_$(n.preloadingStrategy):[],{provide:_A,multi:!0,useFactory:i$},n?.initialNavigation?h$(n):[],[{provide:HO,useFactory:d$},{provide:uA,multi:!0,useExisting:HO}]]}}static forChild(e){return{ngModule:i,providers:[zO(e)]}}}return i.\u0275fac=function(e){return new(e||i)(z(BO,8),z(gi,8))},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})();function a$(i){return"guarded"}function zO(i){return[{provide:x4,multi:!0,useValue:i},{provide:SM,multi:!0,useValue:i}]}function d$(){const i=Sn(Jn);return t=>{const e=i.get(Xc);if(t!==e.components[0])return;const n=i.get(gi),r=i.get(UO);null===i.get(PM,null,lt.Optional)&&n.initialNavigation(),i.get(VO,null,lt.Optional)?.setUpPreloading(),i.get(LO,null,lt.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const HO=new he("");function h$(i){return["disabled"===i.initialNavigation?[{provide:rm,multi:!0,useFactory:()=>{const i=Sn(gi);return()=>{i.setUpLocationChangeListener()}}},{provide:PM,useValue:"disabled"}]:[],"enabledBlocking"===i.initialNavigation?[{provide:PM,useValue:"enabledBlocking"},{provide:rm,multi:!0,deps:[Jn],useFactory:i=>{const t=i.get(GG,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const s=i.get(gi),o=i.get(UO);(function n(r){i.get(gi).events.pipe(an(o=>o instanceof ll||o instanceof Vm||o instanceof tO),Je(o=>o instanceof ll||o instanceof Vm&&(0===o.code||1===o.code)&&null),an(o=>null!==o),wn(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),s.afterPreactivation=()=>(r(!0),e||o.closed?Ve(void 0):o),s.initialNavigation()}))}}]:[]]}const UO=new he("",{factory:()=>new Be}),PM=new he("");function _$(i){return[FO,{provide:VO,useExisting:FO},{provide:kO,useExisting:i}]}let ki=class{constructor(){this.visible=!1,this.white=!1}hide(){this.visible=!1}show(){this.visible=!0}changeWhite(){this.white=!0}toggle(){this.visible=!this.visible}};ki.\u0275fac=function(t){return new(t||ki)},ki.\u0275prov=_e({token:ki,factory:ki.\u0275fac,providedIn:"root"}),ki=zS([dE()],ki);class GO{}class jO{}class Vs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),s=r.toLowerCase(),o=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Vs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Vs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Vs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class y${encodeKey(t){return WO(t)}encodeValue(t){return WO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const b$=/%(\d[a-f0-9])/gi,M$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WO(i){return encodeURIComponent(i).replace(b$,(t,e)=>M$[e]??t)}function Zm(i){return`${i}`}class la{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new y$,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v$(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(Zm):[Zm(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new la({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Zm(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(Zm(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class x${constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $O(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function qO(i){return typeof Blob<"u"&&i instanceof Blob}function YO(i){return typeof FormData<"u"&&i instanceof FormData}class Dh{constructor(t,e,n,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function w$(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Vs),this.context||(this.context=new x$),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new la,this.urlWithParams=e}serializeBody(){return null===this.body?null:$O(this.body)||qO(this.body)||YO(this.body)||function C$(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof la?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||YO(this.body)?null:qO(this.body)?this.body.type||null:$O(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof la?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Dh(e,n,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var ii=(()=>((ii=ii||{})[ii.Sent=0]="Sent",ii[ii.UploadProgress=1]="UploadProgress",ii[ii.ResponseHeader=2]="ResponseHeader",ii[ii.DownloadProgress=3]="DownloadProgress",ii[ii.Response=4]="Response",ii[ii.User=5]="User",ii))();class AM{constructor(t,e=200,n="OK"){this.headers=t.headers||new Vs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class IM extends AM{constructor(t={}){super(t),this.type=ii.ResponseHeader}clone(t={}){return new IM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qm extends AM{constructor(t={}){super(t),this.type=ii.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class XO extends AM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function OM(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Eh=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof Dh)s=e;else{let l,c;l=r.headers instanceof Vs?r.headers:new Vs(r.headers),r.params&&(c=r.params instanceof la?r.params:new la({fromObject:r.params})),s=new Dh(e,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Ve(s).pipe(Do(l=>this.handler.handle(l)));if(e instanceof Dh||"events"===r.observe)return o;const a=o.pipe(an(l=>l instanceof Qm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Je(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Je(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Je(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Je(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new la).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,OM(r,n))}post(e,n,r={}){return this.request("POST",e,OM(r,n))}put(e,n,r={}){return this.request("PUT",e,OM(r,n))}}return i.\u0275fac=function(e){return new(e||i)(z(GO))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();class KO{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const RM=new he("HTTP_INTERCEPTORS");let S$=(()=>{class i{intercept(e,n){return n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const D$=/^\)\]\}',?\n/;let ZO=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new cn(n=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=r.statusText||"OK",p=new Vs(r.getAllResponseHeaders()),m=function E$(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new IM({headers:p,status:r.status,statusText:f,url:m}),o},l=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),_=null;204!==p&&(_=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=_?200:0);let y=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof _){const v=_;_=_.replace(D$,"");try{_=""!==_?JSON.parse(_):null}catch(b){_=v,y&&(y=!1,_={error:b,text:_})}}y?(n.next(new Qm({body:_,headers:f,status:p,statusText:m,url:g||void 0})),n.complete()):n.error(new XO({error:_,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new XO({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});n.error(m)};let u=!1;const d=f=>{u||(n.next(a()),u=!0);let p={type:ii.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===e.responseType&&!!r.responseText&&(p.partialText=r.responseText),n.next(p)},h=f=>{let p={type:ii.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),n.next(p)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),n.next({type:ii.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(z(oI))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const NM=new he("XSRF_COOKIE_NAME"),kM=new he("XSRF_HEADER_NAME");class QO{}let BM,T$=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZA(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(z(ut),z(om),z(NM))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),FM=(()=>{class i{constructor(e,n){this.tokenService=e,this.headerName=n}intercept(e,n){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return n.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(z(QO),z(kM))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),P$=(()=>{class i{constructor(e,n){this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=this.injector.get(RM,[]);this.chain=n.reduceRight((r,s)=>new KO(r,s),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(z(jO),z(Jn))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),A$=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:FM,useClass:S$}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:NM,useValue:e.cookieName}:[],e.headerName?{provide:kM,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[FM,{provide:RM,useExisting:FM,multi:!0},{provide:QO,useClass:T$},{provide:NM,useValue:"XSRF-TOKEN"},{provide:kM,useValue:"X-XSRF-TOKEN"}]}),i})(),I$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[Eh,{provide:GO,useClass:P$},ZO,{provide:jO,useExisting:ZO}],imports:[A$.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),i})(),LM=(()=>{class i{constructor(e,n){this.http=e,this.router=n,this.SERVER_URL="http://localhost:8080/api/users/"}login(e){return this.http.post(this.SERVER_URL+"login",e,{responseType:"text"})}newUsers(e){return this.http.post(this.SERVER_URL+"new",e)}isLoggedIn(){return!(!localStorage.getItem("id_token")||!localStorage.getItem("expires_at"))&&(new Date).getTime()<Number(localStorage.getItem("expires_at"))}logout(){localStorage.removeItem("user"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at")}setSaveJWT(e){let n=JSON.parse(atob(e.split(".")[1]));localStorage.setItem("user",n.sub),localStorage.setItem("id_token",e),localStorage.setItem("expires_at",n.exp)}}return i.\u0275fac=function(e){return new(e||i)(z(Eh),z(gi))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();try{BM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BM=!1}let Th,ul,VM,cr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function s9(i){return i===rI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(z(om))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function cl(i){return function O$(){if(null==Th&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Th=!0}))}finally{Th=Th||!1}return Th}()?i:!!i.capture}function R$(){if(null==ul){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ul=!1,ul;if("scrollBehavior"in document.documentElement.style)ul=!0;else{const i=Element.prototype.scrollTo;ul=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return ul}function zM(i){if(function N$(){if(null==VM){const i=typeof document<"u"?document.head:null;VM=!(!i||!i.createShadowRoot&&!i.attachShadow)}return VM}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function eg(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Vr(i){return i.composedPath?i.composedPath()[0]:i.target}function HM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fi(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}class q$ extends Ut{constructor(t,e){super()}schedule(t,e=0){return this}}const ig={setInterval(i,t,...e){const{delegate:n}=ig;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=ig;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};class rg extends q${constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return ig.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;ig.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ec(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const WM={now:()=>(WM.delegate||Date).now(),delegate:void 0};class Ph{constructor(t,e=Ph.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Ph.now=WM.now;class sg extends Ph{constructor(t,e=Ph.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Ah=new sg(rg),Y$=Ah;function lu(i,t=Ah){return bn((e,n)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,n.next(c)}};function l(){const c=o+i,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void n.add(r);a()}e.subscribe(sn(n,c=>{s=c,o=t.now(),r||(r=t.schedule(l,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function eR(i){return an((t,e)=>i<=e)}function cu(i,t=xs){return i=i??X$,bn((e,n)=>{let r,s=!0;e.subscribe(sn(n,o=>{const a=t(o);(s||!i(r,a))&&(s=!1,r=a,n.next(o))}))})}function X$(i,t){return i===t}function Vt(i){return bn((t,e)=>{Ti(i).subscribe(sn(e,()=>e.complete(),tc)),!e.closed&&t.subscribe(e)})}function wt(i){return null!=i&&"false"!=`${i}`}function og(i,t=0){return function K$(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function ag(i){return Array.isArray(i)?i:[i]}function ri(i){return null==i?"":"string"==typeof i?i:`${i}px`}function _i(i){return i instanceof mt?i.nativeElement:i}let tR=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Q$=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=_i(e);return new cn(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new Be,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(z(tR))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nR=(()=>{class i{constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new we,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=wt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=og(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(lu(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(D(Q$),D(mt),D(ot))},i.\u0275dir=ue({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),$M=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[tR]}),i})();const iR=new Set;let uu,J$=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function eq(i){if(!iR.has(i))try{uu||(uu=document.createElement("style"),uu.setAttribute("type","text/css"),document.head.appendChild(uu)),uu.sheet&&(uu.sheet.insertRule(`@media ${i} {body{ }}`,0),iR.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(z(cr))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tq(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let nq=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Be}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return rR(ag(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Am(rR(ag(e)).map(o=>this._registerQuery(o).observable));return s=fh(s.pipe(wn(1)),s.pipe(eR(1),lu(0))),s.pipe(Je(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),s={observable:new cn(o=>{const a=l=>this._zone.run(()=>o.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(In(n),Je(({matches:o})=>({query:e,matches:o})),Vt(this._destroySubject)),mql:n};return this._queries.set(e,s),s}}return i.\u0275fac=function(e){return new(e||i)(z(J$),z(ot))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rR(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class aR{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Be,this._typeaheadSubscription=Ut.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Be,this.change=new Be,t instanceof bo&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Wt(e=>this._pressedLetters.push(e)),lu(t),an(()=>this._pressedLetters.length>0),Je(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Fi(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof bo?this._items.toArray():this._items}}class lR extends aR{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class lg extends aR{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let cg=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function oq(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function sq(i){try{return i.frameElement}catch{return null}}(function pq(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===uR(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),s=uR(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function hq(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function fq(i){return!function lq(i){return function uq(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function aq(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function cq(i){return function dq(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||cR(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(z(cr))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function cR(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function uR(i){if(!cR(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class mq{constructor(t,e,n,r,s=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(wn(1)).subscribe(t)}}let qM=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new mq(e,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(e){return new(e||i)(z(cg),z(ot),z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ug(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function dg(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const gq=new he("cdk-input-modality-detector-options"),_q={ignoreKeys:[18,17,224,91,16]},du=cl({passive:!0,capture:!0});let yq=(()=>{class i{constructor(e,n,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new lr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vr(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ug(o)?"keyboard":"mouse"),this._mostRecentTarget=Vr(o))},this._onTouchstart=o=>{dg(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vr(o))},this._options={..._q,...s},this.modalityDetected=this._modality.pipe(eR(1)),this.modalityChanged=this.modalityDetected.pipe(cu()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,du),r.addEventListener("mousedown",this._onMousedown,du),r.addEventListener("touchstart",this._onTouchstart,du)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,du),document.removeEventListener("mousedown",this._onMousedown,du),document.removeEventListener("touchstart",this._onTouchstart,du))}}return i.\u0275fac=function(e){return new(e||i)(z(cr),z(ot),z(ut),z(gq,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vq=new he("liveAnnouncerElement",{providedIn:"root",factory:function bq(){return null}}),Mq=new he("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let xq=(()=>{class i{constructor(e,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return i.\u0275fac=function(e){return new(e||i)(z(vq,8),z(ot),z(ut),z(Mq,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wq=new he("cdk-focus-monitor-default-options"),hg=cl({passive:!0,capture:!0});let ca=(()=>{class i{constructor(e,n,r,s,o){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Be,this._rootNodeFocusAndBlurListener=a=>{for(let c=Vr(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,n=!1){const r=_i(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ve(null);const s=zM(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new Be,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const n=_i(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const s=_i(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),s=Vr(e);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,hg),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,hg)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hg),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hg),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(z(ot),z(cr),z(yq),z(ut,8),z(wq,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hR="cdk-high-contrast-black-on-white",fR="cdk-high-contrast-white-on-black",YM="cdk-high-contrast-active";let pR=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=Sn(nq).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(YM,hR,fR),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(YM,hR):2===n&&e.add(YM,fR)}}}return i.\u0275fac=function(e){return new(e||i)(z(cr),z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cq=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(z(pR))},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[$M]}),i})();const Sq=new he("cdk-dir-doc",{providedIn:"root",factory:function Dq(){return Sn(ut)}}),Eq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ds=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new we,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Tq(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Eq.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(z(Sq,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})();function Pq(i,t){if(1&i&&qe(0,"mat-pseudo-checkbox",4),2&i){const e=Ae();Y("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Aq(i,t){if(1&i&&(N(0,"span",5),Q(1),k()),2&i){const e=Ae();W(1),wr("(",e.group.label,")")}}const Iq=["*"],Rq=new he("mat-sanity-checks",{providedIn:"root",factory:function Oq(){return!0}});let tn=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!HM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(z(pR),z(Rq,8),z(ut))},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[hu,hu]}),i})();function XM(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=wt(t)}}}function Ih(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function fl(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=wt(t)}}}function KM(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?og(e):this.defaultTabIndex}}}function _R(i){return class extends i{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let fu=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[tn,tn]}),i})();class Lq{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vR={enterDuration:225,exitDuration:150},ZM=cl({passive:!0}),bR=["mousedown","touchstart"],MR=["mouseup","mouseleave","touchend","touchcancel"];class xR{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_i(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...vR,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function Vq(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,m=new Lq(this,u,n,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,n.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>this._finishRippleTransition(m),y=()=>this._destroyRipple(m);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",y),g={onTransitionEnd:_,onTransitionCancel:y}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...vR,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=_i(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(bR))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(MR),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=ug(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!dg(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,ZM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(bR.forEach(t=>{this._triggerElement.removeEventListener(t,this,ZM)}),this._pointerUpEventsRegistered&&MR.forEach(t=>{this._triggerElement.removeEventListener(t,this,ZM)}))}}const wR=new he("mat-ripple-global-options");let pu=(()=>{class i{constructor(e,n,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new xR(this,n,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(ot),D(cr),D(wR,8),D(Os,8))},i.\u0275dir=ue({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&vn("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),mu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[tn,tn]}),i})(),CR=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(e){return new(e||i)(D(Os,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,n){2&e&&vn("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),i})(),QM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[tn]}),i})();const JM=new he("MAT_OPTION_PARENT_COMPONENT"),ex=new he("MatOptgroup");let zq=0;class SR{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Hq=(()=>{class i{constructor(e,n,r,s){this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+zq++,this.onSelectionChange=new we,this._stateChanges=new Be}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=wt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Fi(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new SR(this,e))}}return i.\u0275fac=function(e){Tc()},i.\u0275dir=ue({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),fg=(()=>{class i extends Hq{constructor(e,n,r,s){super(e,n,r,s)}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D($n),D(JM,8),D(ex,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,n){1&e&&ke("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),2&e&&(as("id",n.id),At("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),vn("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[ye],ngContentSelectors:Iq,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,n){1&e&&(jt(),be(0,Pq,1,2,"mat-pseudo-checkbox",0),N(1,"span",1),xt(2),k(),be(3,Aq,2,1,"span",2),qe(4,"div",3)),2&e&&(Y("ngIf",n.multiple),W(3),Y("ngIf",n.group&&n.group._inert),W(1),Y("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[pu,Bn,CR],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),i})();function tx(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<i+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function DR(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}let pg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[mu,So,tn,QM]}),i})();function nx(...i){const t=$y(i),{args:e,keys:n}=EI(i),r=new cn(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Ti(e[u]).subscribe(sn(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(n?TI(n,a):a),s.complete())}))}});return t?r.pipe(nM(t)):r}const Uq=["*"];let mg;function Rh(i){return function Gq(){if(void 0===mg&&(mg=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(mg=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return mg}()?.createHTML(i)||i}function ER(i){return Error(`Unable to find icon with the name "${i}"`)}function TR(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function PR(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class pl{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let gg=(()=>{class i{constructor(e,n,r,s){this._httpClient=e,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,s){return this._addSvgIconConfig(e,n,new pl(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,s){const o=this._sanitizer.sanitize(en.HTML,r);if(!o)throw PR(r);const a=Rh(o);return this._addSvgIconConfig(e,n,new pl("",a,s))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new pl(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const s=this._sanitizer.sanitize(en.HTML,n);if(!s)throw PR(n);const o=Rh(s);return this._addSvgIconSetConfig(e,new pl("",o,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(en.RESOURCE_URL,e);if(!n)throw TR(e);const r=this._cachedIconsByUrl.get(n);return r?Ve(_g(r)):this._loadSvgIconFromConfig(new pl(e,null)).pipe(Wt(s=>this._cachedIconsByUrl.set(n,s)),Je(s=>_g(s)))}getNamedSvgIcon(e,n=""){const r=AR(n,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(e,o):Zc(ER(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ve(_g(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Je(n=>_g(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?Ve(r):nx(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ls(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(en.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ve(null)})))).pipe(Je(()=>{const o=this._extractIconWithNameFromAnySet(e,n);if(!o)throw ER(e);return o}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Wt(n=>e.svgText=n),Je(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ve(null):this._fetchIcon(e).pipe(Wt(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const s=e.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Rh("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(Rh("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&n.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function jq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(en.RESOURCE_URL,n);if(!o)throw TR(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Je(c=>Rh(c)),Om(()=>this._inProgressUrlFetches.delete(o)),ic());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(AR(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,e);if(s)return $q(s)?new pl(s.url,null,s.options):new pl(s,null)}}}return i.\u0275fac=function(e){return new(e||i)(z(Eh,8),z(tM),z(ut,8),z(mo))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _g(i){return i.cloneNode(!0)}function AR(i,t){return i+":"+t}function $q(i){return!(!i.url||!i.options)}const qq=Ih(class{constructor(i){this._elementRef=i}}),Yq=new he("MAT_ICON_DEFAULT_OPTIONS"),Xq=new he("mat-icon-location",{providedIn:"root",factory:function Kq(){const i=Sn(ut),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),IR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Zq=IR.map(i=>`[${i}]`).join(", "),Qq=/^url\(['"]?#(.*?)['"]?\)$/;let ua=(()=>{class i extends qq{constructor(e,n,r,s,o,a){super(e),this._iconRegistry=n,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ut.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=wt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(Zq),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)IR.forEach(o=>{const a=n[s],l=a.getAttribute(o),c=l?l.match(Qq):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(wn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(gg),Ss("aria-hidden"),D(Xq),D(mo),D(Yq,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,n){2&e&&(At("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),vn("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ye],ngContentSelectors:Uq,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),OR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[tn,tn]}),i})();function Jq(i,t){1&i&&(N(0,"a",15)(1,"mat-icon"),Q(2,"person"),k(),Q(3,"Profile"),k())}function eY(i,t){1&i&&(bi(0),N(1,"a",16)(2,"button",17),Q(3,"Sign in / Log in"),k()(),Mi())}function tY(i,t){1&i&&(N(0,"a",18)(1,"div",19)(2,"p",20),Q(3,"Max Mustermann"),k(),qe(4,"img",21),k()())}function nY(i,t){if(1&i&&(N(0,"nav",2)(1,"div",3)(2,"div",4),qe(3,"img",5),N(4,"a",6)(5,"b",7),Q(6,"Portfolio"),k()()(),N(7,"div",8)(8,"div",9)(9,"a",10)(10,"mat-icon"),Q(11,"home"),k(),Q(12,"Home"),k(),N(13,"a",11)(14,"mat-icon"),Q(15,"search"),k(),Q(16,"Search"),k(),be(17,Jq,4,0,"a",12),k()(),N(18,"div",4),be(19,eY,4,0,"ng-container",13),be(20,tY,5,0,"ng-template",null,14,ia),k()()()),2&i){const e=Tn(21),n=Ae();W(17),Y("ngIf",n.auth.isLoggedIn()),W(2),Y("ngIf",!n.auth.isLoggedIn())("ngIfElse",e)}}const iY=function(i,t){return{"font-gradient":i,"font-secondary-c":t}};function rY(i,t){if(1&i&&(N(0,"nav",2)(1,"a",22),Q(2," <-- Home "),k()()),2&i){const e=Ae();W(1),Y("ngClass",Wc(1,iY,!e.navbar.white,e.navbar.white))}}let sY=(()=>{class i{constructor(e,n){this.navbar=e,this.auth=n}ngOnInit(){this.navbar.white=!1,this.navbar.visible=!0}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D(LM))},i.\u0275cmp=Ge({type:i,selectors:[["app-navbar"]],decls:3,vars:2,consts:[["class","w-100",4,"ngIf","ngIfElse"],["showMinimal",""],[1,"w-100"],[1,"row","nav-container","mx-4"],[1,"col-3"],["routerLink","/home","rel","logo","src","../../../assets/image/3d-logo.png",1,"logo"],["routerLink","/home",1,"navbar-brand","no-after","title"],[1,"font-gradient"],[1,"col-6","text-center"],[1,"d-flex","justify-content-center","gap-5"],["routerLink","/home","routerLinkActive","link-activated",1,"navbar-brand"],["routerLink","/search","routerLinkActive","link-activated",1,"navbar-brand"],["class","navbar-brand","routerLink","/profile","routerLinkActive","link-activated",4,"ngIf"],[4,"ngIf","ngIfElse"],["profile",""],["routerLink","/profile","routerLinkActive","link-activated",1,"navbar-brand"],["routerLink","/log-signin",1,"navbar-brand",2,"float","right"],[1,"profile","px-5","action-button"],["routerLink","/profile",1,"w-100",2,"text-decoration","none"],["id","profile-container",1,"w-100"],["routerLinkActive","link-activated"],["src","assets/image/profile-photo.jpg"],["routerLink","/home",1,"ps-2","fw-bold",2,"text-decoration","none","z-index","1000",3,"ngClass"]],template:function(e,n){if(1&e&&(be(0,nY,22,3,"nav",0),be(1,rY,3,4,"ng-template",null,1,ia)),2&e){const r=Tn(2);Y("ngIf",n.navbar.visible)("ngIfElse",r)}},dependencies:[ks,Bn,Sh,aa,RO,ua],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}#profile-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}#profile-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:inherit;align-self:baseline;margin-bottom:0}#profile-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:1rem;border:0px;border-radius:100%;height:2rem}.logo[_ngcontent-%COMP%]{width:10%;height:auto;margin-right:3%}.title[_ngcontent-%COMP%]{top:10%;font-size:24px}.nav-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0;padding:0}nav[_ngcontent-%COMP%]{padding-top:1%}.profile[_ngcontent-%COMP%]{color:#eee;border:none;border-radius:3px;padding:5%;box-shadow:0 4px 4px #00000020}content-wrapper[_ngcontent-%COMP%]{text-align:center}']}),i})(),$i=class{constructor(){this.visible=!1}hide(){this.visible=!1}show(){this.visible=!0}toggle(){this.visible=!this.visible}};function oY(i,t){1&i&&(bi(0),Cd(),N(1,"svg",1)(2,"filter",2),qe(3,"feOffset",3)(4,"feGaussianBlur",4)(5,"feComposite",5)(6,"feFlood",6)(7,"feComposite",7)(8,"feComposite",8),k(),N(9,"g",9),qe(10,"path",10),k()(),vv(),N(11,"footer",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"h5",15),Q(16," 3D Portfolio "),k(),N(17,"p",16),Q(18," ... was created, because of a school-project, currently it is under development. Our future plan are that the 3D Portfolio website, will be a space for creators, where there can share are in an extraordinary way and for our visitors to show them the amazing art. "),k()(),N(19,"div",17)(20,"h5",15),Q(21,"Contact"),k(),N(22,"p")(23,"mat-icon"),Q(24,"home"),k(),Q(25," New York, NY 10012, US"),k(),N(26,"p")(27,"mat-icon"),Q(28,"mail"),k(),Q(29," info@example.com"),k(),N(30,"p")(31,"mat-icon"),Q(32,"local_phone"),k(),Q(33," + 01 234 567 88"),k(),N(34,"p")(35,"mat-icon"),Q(36,"local_phone"),k(),Q(37," + 01 234 567 89"),k()()()()(),Mi())}$i.\u0275fac=function(t){return new(t||$i)},$i.\u0275prov=_e({token:$i,factory:$i.\u0275fac,providedIn:"root"}),$i=zS([dE()],$i);let aY=(()=>{class i{constructor(e){this.footer=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(D($i))},i.\u0275cmp=Ge({type:i,selectors:[["app-footer"]],decls:1,vars:1,consts:[[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["id","inset-shadow"],["dx","0","dy","5"],["stdDeviation","2","result","offset-blur"],["operator","out","in","SourceGraphic","in2","offset-blur","result","inverse"],["flood-color","black","flood-opacity",".25","result","color"],["operator","in","in","color","in2","inverse","result","shadow"],["operator","over","in","shadow","in2","SourceGraphic"],["filter","url(#inset-shadow)"],["fill","#0099ff","fill-opacity","1","d","M0,160L48,176C96,192,192,224,288,234.7C384,245,480,235,576,224C672,213,768,203,864,208C960,213,1056,235,1152,250.7C1248,267,1344,277,1392,282.7L1440,288L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"],[1,"text-lg-start","text-muted","bg-secondary-c","font-secondary-c","pt-3","pb-5"],[1,"container","text-md-start"],[1,"row","mt-3","justify-content-center"],[1,"col-md-5","col-sm-12","mx-auto","mb-4"],[1,"mb-4","font-secondary-c","underlined"],[1,"text-sm-start"],[1,"col-md-5","col-sm-12","mx-auto","mb-4","align-middle"]],template:function(e,n){1&e&&be(0,oY,38,0,"ng-container",0),2&e&&Y("ngIf",n.footer.visible)},dependencies:[Bn,ua],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}path[_ngcontent-%COMP%]{fill:#9096c5}']}),i})(),lY=(()=>{class i{constructor(){this.title="Gallery"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-root"]],decls:3,vars:0,template:function(e,n){1&e&&qe(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[yM,sY,aY]}),i})();class RR{}const Oo="*";function da(i,t){return{type:7,name:i,definitions:t,options:{}}}function zs(i,t=null){return{type:4,styles:t,timings:i}}function NR(i,t=null){return{type:3,steps:i,options:t}}function kR(i,t=null){return{type:2,steps:i,options:t}}function On(i){return{type:6,styles:i,offset:null}}function ur(i,t,e){return{type:0,name:i,styles:t,options:e}}function hs(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function ix(i=null){return{type:9,options:i}}function rx(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}function FR(i){Promise.resolve(null).then(i)}class Nh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class LR{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const s=this.players.length;0==s?FR(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function BR(i){return new le(3e3,!1)}function jY(){return typeof window<"u"&&typeof window.document<"u"}function ox(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ha(i){switch(i.length){case 0:return new Nh;case 1:return i[0];default:return new LR(i)}}function VR(i,t,e,n,r=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(n.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,_=p;if("offset"!==m)switch(g=t.normalizePropertyName(g,o),_){case"!":_=r.get(m);break;case Oo:_=s.get(m);break;default:_=t.normalizeStyleValue(m,g,_,o)}f.set(g,_)}),h||a.push(f),c=f,l=d}),o.length)throw function OY(i){return new le(3502,!1)}();return a}function ax(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&lx(e,"start",i)));break;case"done":i.onDone(()=>n(e&&lx(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&lx(e,"destroy",i)))}}function lx(i,t,e){const s=cx(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),o=i._data;return null!=o&&(s._data=o),s}function cx(i,t,e,n,r="",s=0,o){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Cr(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function zR(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}let ux=(i,t)=>!1,HR=(i,t,e)=>[],UR=null;function dx(i){const t=i.parentNode||i.host;return t===UR?null:t}(ox()||typeof Element<"u")&&(jY()?(UR=(()=>document.documentElement)(),ux=(i,t)=>{for(;t;){if(t===i)return!0;t=dx(t)}return!1}):ux=(i,t)=>i.contains(t),HR=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]});let ml=null,GR=!1;const jR=ux,WR=HR;let $R=(()=>{class i{validateStyleProperty(e){return function $Y(i){ml||(ml=function qY(){return typeof document<"u"?document.body:null}()||{},GR=!!ml.style&&"WebkitAppearance"in ml.style);let t=!0;return ml.style&&!function WY(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in ml.style,!t&&GR&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in ml.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return jR(e,n)}getParentElement(e){return dx(e)}query(e,n,r){return WR(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,s,o,a=[],l){return new Nh(r,s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),hx=(()=>{class i{}return i.NOOP=new $R,i})();const fx="ng-enter",yg="ng-leave",vg="ng-trigger",bg=".ng-trigger",YR="ng-animating",px=".ng-animating";function fa(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:mx(parseFloat(t[1]),t[2])}function mx(i,t){return"s"===t?1e3*i:i}function Mg(i,t,e){return i.hasOwnProperty("duration")?i:function KY(i,t,e){let r,s=0,o="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(BR()),{duration:0,delay:0,easing:""};r=mx(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=mx(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(function uY(){return new le(3100,!1)}()),a=!0),s<0&&(t.push(function dY(){return new le(3101,!1)}()),a=!0),a&&t.splice(l,0,BR())}return{duration:r,delay:s,easing:o}}(i,t,e)}function kh(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function XR(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function pa(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function ZR(i,t,e){return e?t+":"+e+";":""}function QR(i){let t="";for(let e=0;e<i.style.length;e++){const n=i.style.item(e);t+=ZR(0,n,i.style.getPropertyValue(n))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=ZR(0,eX(e),i.style[e]));i.setAttribute("style",t)}function Hs(i,t,e){i.style&&(t.forEach((n,r)=>{const s=_x(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n}),ox()&&QR(i))}function gl(i,t){i.style&&(t.forEach((e,n)=>{const r=_x(n);i.style[r]=""}),ox()&&QR(i))}function Fh(i){return Array.isArray(i)?1==i.length?i[0]:kR(i):i}const gx=new RegExp("{{\\s*(.+?)\\s*}}","g");function JR(i){let t=[];if("string"==typeof i){let e;for(;e=gx.exec(i);)t.push(e[1]);gx.lastIndex=0}return t}function xg(i,t,e){const n=i.toString(),r=n.replace(gx,(s,o)=>{let a=t[o];return null==a&&(e.push(function fY(i){return new le(3003,!1)}()),a=""),a.toString()});return r==n?i:r}function wg(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const JY=/-+([a-z0-9])/g;function _x(i){return i.replace(JY,(...t)=>t[1].toUpperCase())}function eX(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sr(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function pY(i){return new le(3004,!1)}()}}function eN(i,t){return window.getComputedStyle(i)[t]}function oX(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function aX(i,t,e){if(":"==i[0]){const l=function lX(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function TY(i){return new le(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof l)return void t.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function EY(i){return new le(3015,!1)}()),t;const r=n[1],s=n[2],o=n[3];t.push(tN(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(tN(o,r))}(n,e,t)):e.push(i),e}const Eg=new Set(["true","1"]),Tg=new Set(["false","0"]);function tN(i,t){const e=Eg.has(i)||Tg.has(i),n=Eg.has(t)||Tg.has(t);return(r,s)=>{let o="*"==i||i==r,a="*"==t||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?Eg.has(i):Tg.has(i)),!a&&n&&"boolean"==typeof s&&(a=s?Eg.has(t):Tg.has(t)),o&&a}}const cX=new RegExp("s*:selfs*,?","g");function yx(i,t,e,n){return new uX(i).build(t,e,n)}class uX{constructor(t){this._driver=t}build(t,e,n){const r=new fX(e);return this._resetContextStyleTimingState(r),Sr(this,Fh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function gY(){return new le(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function _Y(){return new le(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{JR(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(wg(s.values()),e.errors.push(function yY(i,t){return new le(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Sr(this,Fh(t.animation),e);return{type:1,matchers:oX(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_l(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>Sr(this,n,e)),options:_l(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=n;const a=Sr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:_l(t.options)}}visitAnimate(t,e){const n=function mX(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return vx(Mg(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vx(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Mg(e,t);return vx(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:On({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=On(c)}e.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Oo?n.push(a):e.errors.push(new le(3002,!1)):n.push(XR(a));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function bY(i,t,e,n,r){return new le(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function QY(i,t,e){const n=t.params||{},r=JR(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(function hY(i){return new le(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function MY(){return new le(3011,!1)}()),n;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(_=>{const y=this._makeStyleAst(_,e);let v=null!=y.offset?y.offset:function pX(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(y.styles),b=0;return null!=v&&(s++,b=y.offset=v),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),y});l&&e.errors.push(function xY(){return new le(3012,!1)}()),a&&e.errors.push(function wY(){return new le(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function CY(){return new le(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((_,y)=>{const v=h>0?y==f?1:h*y:o[y],b=v*g;e.currentTime=p+m.delay+b,m.duration=b,this._validateStyleAst(_,e),_.offset=v,n.styles.push(_)}),n}visitReference(t,e){return{type:8,animation:Sr(this,Fh(t.animation),e),options:_l(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_l(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_l(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function dX(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(cX,"")),i=i.replace(/@\*/g,bg).replace(/@\w+/g,e=>bg+"-"+e.slice(1)).replace(/:animating/g,px),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,Cr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Sr(this,Fh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:_l(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function SY(){return new le(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Mg(t.timings,e.errors,!0);return{type:12,animation:Sr(this,Fh(t.animation),e),timings:n,options:null}}}class fX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _l(i){return i?(i=kh(i)).params&&(i.params=function hX(i){return i?kh(i):null}(i.params)):i={},i}function vx(i,t,e){return{duration:i,delay:t,easing:e}}function bx(i,t,e,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Pg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const yX=new RegExp(":enter","g"),bX=new RegExp(":leave","g");function Mx(i,t,e,n,r,s=new Map,o=new Map,a,l,c=[]){return(new MX).buildKeyframes(i,t,e,n,r,s,o,a,l,c)}class MX{buildKeyframes(t,e,n,r,s,o,a,l,c,u=[]){c=c||new Pg;const d=new xx(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?fa(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Sr(this,n,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[bx(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime;const o=null!=n.duration?fa(n.duration):null,a=null!=n.delay?fa(n.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Sr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ag);const o=fa(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Sr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?fa(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Sr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Mg(e.params?xg(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?fa(r.delay):0;s&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ag);let o=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Sr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Sr(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}}const Ag={};class xx{constructor(t,e,n,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ag,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ig(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fa(n.duration)),null!=n.delay&&(r.delay=fa(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=xg(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,s=new xx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ag,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new xX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(yX,"."+this._enterClassName)).replace(bX,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&0==a.length&&o.push(function DY(i){return new le(3014,!1)}()),a}}class Ig{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ig(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Oo),this._currentKeyframe.set(e,Oo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function wX(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let s of n)e.set(s,Oo)}else pa(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=xg(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=pa(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Oo&&e.add(d)}),n||c.set("offset",l/this.duration),r.push(c)});const s=t.size?wg(t.values()):[],o=e.size?wg(e.values()):[];if(n){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return bx(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class xX extends Ig{constructor(t,e,n,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=n+e,a=e/o,l=pa(t[0]);l.set("offset",0),s.push(l);const c=pa(t[0]);c.set("offset",rN(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=pa(t[d]);const f=h.get("offset");h.set("offset",rN((e+f*n)/o)),s.push(h)}n=o,e=0,r="",t=s}return bx(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function rN(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class wx{}const CX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SX extends wx{normalizePropertyName(t,e){return _x(t)}normalizeStyleValue(t,e,n,r){let s="";const o=n.toString().trim();if(CX.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function mY(i,t){return new le(3005,!1)}())}return o+s}}function sN(i,t,e,n,r,s,o,a,l,c,u,d,h){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Cx={};class oN{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function DX(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Cx,p=this.buildStyles(n,a&&a.params||Cx,d),m=l&&l.params||Cx,g=this.buildStyles(r,m,d),_=new Set,y=new Map,v=new Map,b="void"===r,x={params:EX(m,h),delay:this.ast.options?.delay},w=u?[]:Mx(t,e,this.ast.animation,s,o,p,g,x,c,d);let A=0;if(w.forEach(S=>{A=Math.max(S.duration+S.delay,A)}),d.length)return sN(e,this._triggerName,n,r,b,p,g,[],[],y,v,A,d);w.forEach(S=>{const F=S.element,B=Cr(y,F,new Set);S.preStyleProps.forEach(ie=>B.add(ie));const J=Cr(v,F,new Set);S.postStyleProps.forEach(ie=>J.add(ie)),F!==e&&_.add(F)});const M=wg(_.values());return sN(e,this._triggerName,n,r,b,p,g,w,M,y,v,A)}}function EX(i,t){const e=kh(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class TX{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=kh(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=xg(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),n.set(l,o)})}),n}}class AX{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new TX(r.style,r.options&&r.options.params||{},n))}),aN(this.states,"true","1"),aN(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new oN(t,r,this.states))}),this.fallbackTransition=function IX(i,t,e){return new oN(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(o=>o.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function aN(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const OX=new Pg;class RX{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],s=yx(this._driver,e,n,[]);if(n.length)throw function RY(i){return new le(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,n){const r=t.element,s=VR(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=Mx(this._driver,e,s,fx,yg,new Map,new Map,n,OX,r),o.forEach(u=>{const d=Cr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function NY(){return new le(3300,!1)}()),o=[]),r.length)throw function kY(i){return new le(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Oo))})});const c=ha(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function FY(i){return new le(3301,!1)}();return e}listen(t,e,n,r){const s=cx(e,"","","");return ax(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const lN="ng-animate-queued",Sx="ng-animate-disabled",BX=[],cN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zr="__ng_removed";class Dx{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function GX(i){return i??null}(n?t.value:t),n){const s=kh(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const Lh="void",Ex=new Dx(Lh);class zX{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Hr(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function LY(i,t){return new le(3302,!1)}();if(null==n||0==n.length)throw function BY(i){return new le(3303,!1)}();if(!function jX(i){return"start"==i||"done"==i}(n))throw function VY(i,t){return new le(3400,!1)}();const s=Cr(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Cr(this._engine.statesByElement,t,new Map);return a.has(e)||(Hr(t,vg),Hr(t,vg+"-"+e),a.set(e,Ex)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function zY(i){return new le(3401,!1)}();return e}trigger(t,e,n,r=!0){const s=this._getTrigger(e),o=new Tx(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Hr(t,vg),Hr(t,vg+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new Dx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Ex),c.value!==Lh&&l.value===c.value){if(!function qX(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),_=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{gl(t,g),Hs(t,_)})}return}const h=Cr(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Hr(t,lN),o.onStart(()=>{gu(t,lN)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,bg,!0);n.forEach(r=>{if(r[zr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Lh,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&ha(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=n.get(o)||Ex,u=new Dx(Lh),d=new Tx(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const s=t[zr];(!s||s===cN)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Hr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=cx(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,ax(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class HX{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new zX(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,n,r){if(Og(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Og(e))return;const s=e[zr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Hr(t,Sx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gu(t,Sx))}removeNode(t,e,n,r){if(Og(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[zr]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return Og(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,bg,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,px,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ha(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[zr];if(e&&e.setForRemoval){if(t[zr]=cN,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Sx)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Hr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?ha(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function HY(i){return new le(3402,!1)}()}_flushAnimations(t,e){const n=new Pg,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(L=>{u.add(L);const H=this.driver.query(L,".ng-animate-queued",!0);for(let G=0;G<H.length;G++)u.add(H[G])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=hN(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((L,H)=>{const G=fx+m++;p.set(H,G),L.forEach(U=>Hr(U,G))});const g=[],_=new Set,y=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const H=this.collectedLeaveElements[L],G=H[zr];G&&G.setForRemoval&&(g.push(H),_.add(H),G.hasAnimation?this.driver.query(H,".ng-star-inserted",!0).forEach(U=>_.add(U)):y.add(H))}const v=new Map,b=hN(h,Array.from(_));b.forEach((L,H)=>{const G=yg+m++;v.set(H,G),L.forEach(U=>Hr(U,G))}),t.push(()=>{f.forEach((L,H)=>{const G=p.get(H);L.forEach(U=>gu(U,G))}),b.forEach((L,H)=>{const G=v.get(H);L.forEach(U=>gu(U,G))}),g.forEach(L=>{this.processLeaveNode(L)})});const x=[],w=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(e).forEach(G=>{const U=G.player,$=G.element;if(x.push(U),this.collectedEnterElements.length){const dt=$[zr];if(dt&&dt.setForMove){if(dt.previousTriggersValues&&dt.previousTriggersValues.has(G.triggerName)){const rt=dt.previousTriggersValues.get(G.triggerName),Ye=this.statesByElement.get(G.element);if(Ye&&Ye.has(G.triggerName)){const Ee=Ye.get(G.triggerName);Ee.value=rt,Ye.set(G.triggerName,Ee)}}return void U.destroy()}}const me=!d||!this.driver.containsElement(d,$),re=v.get($),ve=p.get($),Me=this._buildInstruction(G,n,ve,re,me);if(Me.errors&&Me.errors.length)return void w.push(Me);if(me)return U.onStart(()=>gl($,Me.fromStyles)),U.onDestroy(()=>Hs($,Me.toStyles)),void r.push(U);if(G.isFallbackTransition)return U.onStart(()=>gl($,Me.fromStyles)),U.onDestroy(()=>Hs($,Me.toStyles)),void r.push(U);const je=[];Me.timelines.forEach(dt=>{dt.stretchStartingKeyframe=!0,this.disabledNodes.has(dt.element)||je.push(dt)}),Me.timelines=je,n.append($,Me.timelines),o.push({instruction:Me,player:U,element:$}),Me.queriedElements.forEach(dt=>Cr(a,dt,[]).push(U)),Me.preStyleProps.forEach((dt,rt)=>{if(dt.size){let Ye=l.get(rt);Ye||l.set(rt,Ye=new Set),dt.forEach((Ee,gt)=>Ye.add(gt))}}),Me.postStyleProps.forEach((dt,rt)=>{let Ye=c.get(rt);Ye||c.set(rt,Ye=new Set),dt.forEach((Ee,gt)=>Ye.add(gt))})});if(w.length){const L=[];w.forEach(H=>{L.push(function UY(i,t){return new le(3505,!1)}())}),x.forEach(H=>H.destroy()),this.reportError(L)}const A=new Map,M=new Map;o.forEach(L=>{const H=L.element;n.has(H)&&(M.set(H,H),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,A))}),r.forEach(L=>{const H=L.element;this._getPreviousPlayers(H,!1,L.namespaceId,L.triggerName,null).forEach(U=>{Cr(A,H,[]).push(U),U.destroy()})});const S=g.filter(L=>pN(L,l,c)),F=new Map;dN(F,this.driver,y,c,Oo).forEach(L=>{pN(L,l,c)&&S.push(L)});const J=new Map;f.forEach((L,H)=>{dN(J,this.driver,new Set(L),l,"!")}),S.forEach(L=>{const H=F.get(L),G=J.get(L);F.set(L,new Map([...Array.from(H?.entries()??[]),...Array.from(G?.entries()??[])]))});const ie=[],V=[],X={};o.forEach(L=>{const{element:H,player:G,instruction:U}=L;if(n.has(H)){if(u.has(H))return G.onDestroy(()=>Hs(H,U.toStyles)),G.disabled=!0,G.overrideTotalTime(U.totalTime),void r.push(G);let $=X;if(M.size>1){let re=H;const ve=[];for(;re=re.parentNode;){const Me=M.get(re);if(Me){$=Me;break}ve.push(re)}ve.forEach(Me=>M.set(Me,$))}const me=this._buildAnimation(G.namespaceId,U,A,s,J,F);if(G.setRealPlayer(me),$===X)ie.push(G);else{const re=this.playersByElement.get($);re&&re.length&&(G.parentPlayer=ha(re)),r.push(G)}}else gl(H,U.fromStyles),G.onDestroy(()=>Hs(H,U.toStyles)),V.push(G),u.has(H)&&r.push(G)}),V.forEach(L=>{const H=s.get(L.element);if(H&&H.length){const G=ha(H);L.setRealPlayer(G)}}),r.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<g.length;L++){const H=g[L],G=H[zr];if(gu(H,yg),G&&G.hasAnimation)continue;let U=[];if(a.size){let me=a.get(H);me&&me.length&&U.push(...me);let re=this.driver.query(H,px,!0);for(let ve=0;ve<re.length;ve++){let Me=a.get(re[ve]);Me&&Me.length&&U.push(...Me)}}const $=U.filter(me=>!me.destroyed);$.length?WX(this,H,$):this.processLeaveNode(H)}return g.length=0,ie.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const H=this.players.indexOf(L);this.players.splice(H,1)}),L.play()}),ie}elementContainsData(t,e){let n=!1;const r=e[zr];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Lh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,n){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Cr(n,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}gl(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[zr];if(g&&g.removedBeforeQueried)return new Nh(p.duration,p.delay);const _=m!==l,y=function $X(i){const t=[];return fN(i,t),t}((n.get(m)||BX).map(A=>A.getRealPlayer())).filter(A=>!!A.element&&A.element===m),v=s.get(m),b=o.get(m),x=VR(0,this._normalizer,0,p.keyframes,v,b),w=this._buildPlayer(p,x,y);if(p.subTimeline&&r&&d.add(m),_){const A=new Tx(t,a,m);A.setRealPlayer(w),c.push(A)}return w});c.forEach(p=>{Cr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function UX(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Hr(p,YR));const f=ha(h);return f.onDestroy(()=>{u.forEach(p=>gu(p,YR)),Hs(l,e.toStyles)}),d.forEach(p=>{Cr(r,p,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Nh(t.duration,t.delay)}}class Tx{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Nh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>ax(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Cr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Og(i){return i&&1===i.nodeType}function uN(i,t){const e=i.style.display;return i.style.display=t??"none",e}function dN(i,t,e,n,r){const s=[];e.forEach(l=>s.push(uN(l)));const o=[];n.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[zr]=VX,o.push(c))}),i.set(c,u)});let a=0;return e.forEach(l=>uN(l,s[a++])),o}function hN(i,t){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Hr(i,t){i.classList?.add(t)}function gu(i,t){i.classList?.remove(t)}function WX(i,t,e){ha(e).onDone(()=>i.processLeaveNode(t))}function fN(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof LR?fN(n.players,t):t.push(n)}}function pN(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}class Rg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new HX(t,e,n),this._timelineEngine=new RX(t,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=yx(this._driver,s,l,[]);if(l.length)throw function IY(i,t){return new le(3404,!1)}();a=function PX(i,t,e){return new AX(i,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[s,o]=zR(n);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if("@"==n.charAt(0)){const[o,a]=zR(n);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let XX=(()=>{class i{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Hs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hs(this._element,this._initialStyles),this._endStyles&&(Hs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(gl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),Hs(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Px(i){let t=null;return i.forEach((e,n)=>{(function KX(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class mN{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:eN(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class ZX{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return jR(t,e)}getParentElement(t){return dx(t)}query(t,e,n){return WR(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,s,o=[]){const l={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof mN);(function tX(i,t){return 0===i||0===t})(n,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function ZY(i){return i.length?i[0]instanceof Map?i:i.map(t=>XR(t)):[]}(e).map(f=>pa(f));d=function nX(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,eN(i,a)))}}return t}(t,d,c);const h=function YX(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=Px(t[0]),t.length>1&&(n=Px(t[t.length-1]))):t instanceof Map&&(e=Px(t)),e||n?new XX(i,e,n):null}(t,d);return new mN(t,d,l,h)}}let QX=(()=>{class i extends RR{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:Zr.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?kR(e):e;return gN(this._renderer,null,n,"register",[r]),new JX(n,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(z(zd),z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();class JX extends class cY{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new eK(this._id,t,e||{},this._renderer)}}class eK{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gN(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function gN(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const _N="@.disabled";let tK=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,n){const s=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(s);return u||(u=new yN("",s,this.engine),this._rendererCache.set(s,u)),u}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return n.data.animation.forEach(l),new nK(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(z(zd),z(Rg),z(ot))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();class yN{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==_N?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class nK extends yN{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==_N?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function iK(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function rK(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,e,n)}}const vN=[{provide:RR,useClass:QX},{provide:wx,useFactory:function oK(){return new SX}},{provide:Rg,useClass:(()=>{class i extends Rg{constructor(e,n,r,s){super(e.body,n,r)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(z(ut),z(hx),z(wx),z(Xc))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})()},{provide:zd,useFactory:function aK(i,t,e){return new tK(i,t,e)},deps:[Pm,Rg,ot]}],Ax=[{provide:hx,useFactory:()=>new ZX},{provide:Os,useValue:"BrowserAnimations"},...vN],bN=[{provide:hx,useClass:$R},{provide:Os,useValue:"NoopAnimations"},...vN];let lK=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?bN:Ax}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:Ax,imports:[xI]}),i})(),yl=(()=>{class i{constructor(e,n){this.httpClient=e,this.navbarService=n,this.supportedFiletypes=new Map,this.URL="https://student.cloud.htl-leonding.ac.at/e.halilovic/api/",this.supportedFiletypes.set("image",["image/png","image/jpeg","image/jpg"]),this.supportedFiletypes.set("video",["mov","mp4"]),this.supportedFiletypes.set("3d",["gltf","obj","fbx","amf"])}getAllRooms(){return this.httpClient.get("assets/fakeendpoints/getAllRooms.json")}getAllTags(){return this.httpClient.get("assets/fakeendpoints/getAllTags.json")}getAllExhibitions(){return this.httpClient.get(this.URL+"exhibitions/all")}getAllSearch(e){return this.httpClient.get(this.URL+"exhibitions/search/"+e)}getAllCatagories(){return this.httpClient.get(this.URL+"category/all")}postExhibit(e){let n=new Vs({"Content-Type":"application/json","Cache-Control":"no-cache"});return this.httpClient.post("assets/fakeendpoints/exhibit.json",e,{headers:n})}getSupportedFiletypes(e=""){for(const r of this.supportedFiletypes.keys())if(e&&r.includes(e))return this.supportedFiletypes.get(r.toLowerCase());var n=[];for(const r of this.supportedFiletypes.values())n.push(r);return n.flat()}getClassificationPerType(e){for(const n of this.supportedFiletypes.keys())if(e&&this.supportedFiletypes.get(n)?.includes(e))return n;return""}}return i.\u0275fac=function(e){return new(e||i)(z(Eh),z(ki))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cK=["*"];let Ix=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-slideshow"]],ngContentSelectors:cK,decls:3,vars:0,consts:[[1,"w-100","row","align-items-center"],["id","slideshow-container",1,"col-12","d-flex","gap-3","custom_scrollbar",2,"overflow-x","scroll"]],template:function(e,n){1&e&&(jt(),N(0,"div",0)(1,"div",1),xt(2),k()())},styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], .clickypointy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, .clickypointy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%], .clickypointy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.clickypointy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:auto;height:auto}#slideshow-container[_ngcontent-%COMP%]{display:inline;padding-bottom:1%}']}),i})();const uK=["*",[["mat-card-footer"]]],dK=["*","mat-card-footer"];let hK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),fK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),pK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),mK=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(D(Os,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,n){2&e&&vn("_mat-animation-noopable","NoopAnimations"===n._animationMode)},exportAs:["matCard"],ngContentSelectors:dK,decls:2,vars:0,template:function(e,n){1&e&&(jt(uK),xt(0),xt(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),i})(),gK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[tn,tn]}),i})();class kg{constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Be,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!n.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let MN=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(D(po),D(mt))},i.\u0275dir=ue({type:i}),i})(),vl=(()=>{class i extends MN{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,features:[ye]}),i})();const Dr=new he("NgValueAccessor"),yK={provide:Dr,useExisting:$t(()=>bl),multi:!0},bK=new he("CompositionEventMode");let bl=(()=>{class i extends MN{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vK(){const i=Ns()?Ns().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(D(po),D(mt),D(bK,8))},i.\u0275dir=ue({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&ke("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},features:[nt([yK]),ye]}),i})();function ma(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function wN(i){return null!=i&&"number"==typeof i.length}const Di=new he("NgValidators"),ga=new he("NgAsyncValidators"),xK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Us{static min(t){return function CN(i){return t=>{if(ma(t.value)||ma(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function SN(i){return t=>{if(ma(t.value)||ma(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function DN(i){return ma(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function EN(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function TN(i){return ma(i.value)||xK.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function PN(i){return t=>ma(t.value)||!wN(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function AN(i){return t=>wN(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function IN(i){if(!i)return Fg;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(ma(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return LN(t)}static composeAsync(t){return BN(t)}}function Fg(i){return null}function ON(i){return null!=i}function RN(i){return Xd(i)?jn(i):i}function NN(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function kN(i,t){return t.map(e=>e(i))}function FN(i){return i.map(t=>function wK(i){return!i.validate}(t)?t:e=>t.validate(e))}function LN(i){if(!i)return null;const t=i.filter(ON);return 0==t.length?null:function(e){return NN(kN(e,t))}}function Ox(i){return null!=i?LN(FN(i)):null}function BN(i){if(!i)return null;const t=i.filter(ON);return 0==t.length?null:function(e){return nx(kN(e,t).map(RN)).pipe(Je(NN))}}function Rx(i){return null!=i?BN(FN(i)):null}function VN(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function zN(i){return i._rawValidators}function HN(i){return i._rawAsyncValidators}function Nx(i){return i?Array.isArray(i)?i:[i]:[]}function Lg(i,t){return Array.isArray(i)?i.includes(t):i===t}function UN(i,t){const e=Nx(t);return Nx(i).forEach(r=>{Lg(e,r)||e.push(r)}),e}function GN(i,t){return Nx(t).filter(e=>!Lg(i,e))}class jN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ox(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Rx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class qi extends jN{get formDirective(){return null}get path(){return null}}class Gs extends jN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WN{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bh=(()=>{class i extends WN{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(D(Gs,2))},i.\u0275dir=ue({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&vn("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[ye]}),i})(),Bg=(()=>{class i extends WN{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(D(qi,10))},i.\u0275dir=ue({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&vn("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[ye]}),i})();const Vh="VALID",zg="INVALID",_u="PENDING",zh="DISABLED";function Bx(i){return(Hg(i)?i.validators:i)||null}function qN(i){return Array.isArray(i)?Ox(i):i||null}function Vx(i,t){return(Hg(t)?t.asyncValidators:i)||null}function YN(i){return Array.isArray(i)?Rx(i):i||null}function Hg(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ZN{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=qN(this._rawValidators),this._composedAsyncValidatorFn=YN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vh}get invalid(){return this.status===zg}get pending(){return this.status==_u}get disabled(){return this.status===zh}get enabled(){return this.status!==zh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=qN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=YN(t)}addValidators(t){this.setValidators(UN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(UN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(GN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(GN(t,this._rawAsyncValidators))}hasValidator(t){return Lg(this._rawValidators,t)}hasAsyncValidator(t){return Lg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_u,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vh,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vh||this.status===_u)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zh:Vh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_u,this._hasOwnPendingAsyncValidator=!0;const e=RN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?zh:this.errors?zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_u)?_u:this._anyControlsHaveStatus(zg)?zg:Vh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Hg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class yu extends ZN{constructor(t,e,n){super(Bx(e),Vx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function KN(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new le(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function XN(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new le(1e3,"");if(!n[e])throw new le(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Hh(i,t){zx(i,t),t.valueAccessor.writeValue(i.value),i.disabled&&t.valueAccessor.setDisabledState?.(!0),function OK(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&QN(i,t)})}(i,t),function NK(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function RK(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&QN(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function IK(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Gg(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Wg(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function jg(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zx(i,t){const e=zN(i);null!==t.validator?i.setValidators(VN(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=HN(i);null!==t.asyncValidator?i.setAsyncValidators(VN(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();jg(t._rawValidators,r),jg(t._rawAsyncValidators,r)}function Wg(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=zN(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,i.setValidators(s))}}if(null!==t.asyncValidator){const r=HN(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,i.setAsyncValidators(s))}}}const n=()=>{};return jg(t._rawValidators,n),jg(t._rawAsyncValidators,n),e}function QN(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function JN(i,t){zx(i,t)}function Hx(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function tk(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Ux(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(s=>{s.constructor===bl?e=s:function LK(i){return Object.getPrototypeOf(i.constructor)===vl}(s)?n=s:r=s}),r||n||e||null}const VK={provide:qi,useExisting:$t(()=>Gh)},Uh=(()=>Promise.resolve(null))();let Gh=(()=>{class i extends qi{constructor(e,n){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new we,this.form=new yu({},Ox(e),Rx(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Uh.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Hh(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Uh.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Uh.then(()=>{const n=this._findContainer(e.path),r=new yu({});JN(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Uh.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Uh.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,tk(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(D(Di,10),D(ga,10))},i.\u0275dir=ue({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&ke("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([VK]),ye]}),i})();function nk(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function ik(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const fs=class extends ZN{constructor(t=null,e,n){super(Bx(e),Vx(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ik(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ik(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let $g=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),ck=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})();const Gx=new he("NgModelWithFormControlWarning"),qK={provide:Gs,useExisting:$t(()=>jx)};let jx=(()=>{class i extends Gs{constructor(e,n,r,s){super(),this._ngModelWarningConfig=s,this.update=new we,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ux(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&Gg(n,this,!1),Hh(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Hx(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Gg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(D(Di,10),D(ga,10),D(Dr,10),D(Gx,8))},i.\u0275dir=ue({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[nt([qK]),ye,Wn]}),i})();const YK={provide:qi,useExisting:$t(()=>_a)};let _a=(()=>{class i extends qi{constructor(e,n){super(),this.validators=e,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new we,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Hh(n,e),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Gg(e.control||null,e,!1),function BK(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,tk(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(Gg(n||null,e),(i=>i instanceof fs)(r)&&(Hh(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);JN(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function kK(i,t){return Wg(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zx(this.form,this),this._oldForm&&Wg(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(D(Di,10),D(ga,10))},i.\u0275dir=ue({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&ke("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([YK]),ye,Wn]}),i})();const ZK={provide:Gs,useExisting:$t(()=>jh)};let jh=(()=>{class i extends Gs{constructor(e,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new we,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ux(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Hx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Ug(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(D(qi,13),D(Di,10),D(ga,10),D(Dr,10),D(Gx,8))},i.\u0275dir=ue({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([ZK]),ye,Wn]}),i})(),wk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[ck]}),i})(),hZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[wk]}),i})(),fZ=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Gx,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[wk]}),i})();const mZ=["addListener","removeListener"],gZ=["addEventListener","removeEventListener"],_Z=["on","off"];function js(i,t,e,n){if(zt(e)&&(n=e,e=void 0),n)return js(i,t,e).pipe(nM(n));const[r,s]=function bZ(i){return zt(i.addEventListener)&&zt(i.removeEventListener)}(i)?gZ.map(o=>a=>i[o](t,a,e)):function yZ(i){return zt(i.addListener)&&zt(i.removeListener)}(i)?mZ.map(Ck(i,t)):function vZ(i){return zt(i.on)&&zt(i.off)}(i)?_Z.map(Ck(i,t)):[];if(!r&&jy(i))return ui(o=>js(o,t,e))(Ti(i));if(!r)throw new TypeError("Invalid event target");return new cn(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function Ck(i,t){return e=>n=>i[e](t,n)}const MZ=["connectionContainer"],xZ=["inputContainer"],wZ=["label"];function CZ(i,t){1&i&&(bi(0),N(1,"div",14),qe(2,"div",15)(3,"div",16)(4,"div",17),k(),N(5,"div",18),qe(6,"div",15)(7,"div",16)(8,"div",17),k(),Mi())}function SZ(i,t){if(1&i){const e=Fn();N(0,"div",19),ke("cdkObserveContent",function(){return qt(e),Yt(Ae().updateOutlineGap())}),xt(1,1),k()}2&i&&Y("cdkObserveContentDisabled","outline"!=Ae().appearance)}function DZ(i,t){if(1&i&&(bi(0),xt(1,2),N(2,"span"),Q(3),k(),Mi()),2&i){const e=Ae(2);W(3),Pn(e._control.placeholder)}}function EZ(i,t){1&i&&xt(0,3,["*ngSwitchCase","true"])}function TZ(i,t){1&i&&(N(0,"span",23),Q(1," *"),k())}function PZ(i,t){if(1&i){const e=Fn();N(0,"label",20,21),ke("cdkObserveContent",function(){return qt(e),Yt(Ae().updateOutlineGap())}),be(2,DZ,4,1,"ng-container",12),be(3,EZ,1,0,"ng-content",12),be(4,TZ,2,0,"span",22),k()}if(2&i){const e=Ae();vn("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Y("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),At("for",e._control.id)("aria-owns",e._control.id),W(2),Y("ngSwitchCase",!1),W(1),Y("ngSwitchCase",!0),W(1),Y("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function AZ(i,t){1&i&&(N(0,"div",24),xt(1,4),k())}function IZ(i,t){if(1&i&&(N(0,"div",25),qe(1,"span",26),k()),2&i){const e=Ae();W(1),vn("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function OZ(i,t){1&i&&(N(0,"div"),xt(1,5),k()),2&i&&Y("@transitionMessages",Ae()._subscriptAnimationState)}function RZ(i,t){if(1&i&&(N(0,"div",30),Q(1),k()),2&i){const e=Ae(2);Y("id",e._hintLabelId),W(1),Pn(e.hintLabel)}}function NZ(i,t){if(1&i&&(N(0,"div",27),be(1,RZ,2,2,"div",28),xt(2,6),qe(3,"div",29),xt(4,7),k()),2&i){const e=Ae();Y("@transitionMessages",e._subscriptAnimationState),W(1),Y("ngIf",e.hintLabel)}}const kZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],FZ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let LZ=0;const Sk=new he("MatError");let Dk=(()=>{class i{constructor(e,n){this.id="mat-error-"+LZ++,e||n.nativeElement.setAttribute("aria-live","polite")}}return i.\u0275fac=function(e){return new(e||i)(Ss("aria-live"),D(mt))},i.\u0275dir=ue({type:i,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,n){2&e&&At("id",n.id)},inputs:{id:"id"},features:[nt([{provide:Sk,useExisting:i}])]}),i})();const BZ={transitionMessages:da("transitionMessages",[ur("enter",On({opacity:1,transform:"translateY(0%)"})),hs("void => enter",[On({opacity:0,transform:"translateY(-5px)"}),zs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i}),i})();const VZ=new he("MatHint");let Ek=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["mat-label"]]}),i})(),zZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["mat-placeholder"]]}),i})();const HZ=new he("MatPrefix"),UZ=new he("MatSuffix");let Tk=0;const jZ=Ih(class{constructor(i){this._elementRef=i}},"primary"),WZ=new he("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Zx=new he("MatFormField");let $Z=(()=>{class i extends jZ{constructor(e,n,r,s,o,a,l){super(e),this._changeDetectorRef=n,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Be,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Tk++,this._labelId="mat-form-field-label-"+Tk++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&n!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=wt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(In(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Vt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),di(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(In(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(In(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Vt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,js(this._label.nativeElement,"transitionend").pipe(wn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,n=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const u=n.querySelectorAll(`${r}, ${s}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=n.querySelectorAll(r),c=n.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const u=n.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=e.children,f=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let m=0;m<h.length;m++)p+=h[m].offsetWidth;o=Math.abs(f-d)-5,a=p>0?.75*p+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${o}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D($n),D(ds,8),D(WZ,8),D(cr),D(ot),D(Os,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,qg,5),Ht(r,qg,7),Ht(r,Ek,5),Ht(r,Ek,7),Ht(r,zZ,5),Ht(r,Sk,5),Ht(r,VZ,5),Ht(r,HZ,5),Ht(r,UZ,5)),2&e){let s;We(s=$e())&&(n._controlNonStatic=s.first),We(s=$e())&&(n._controlStatic=s.first),We(s=$e())&&(n._labelChildNonStatic=s.first),We(s=$e())&&(n._labelChildStatic=s.first),We(s=$e())&&(n._placeholderChild=s.first),We(s=$e())&&(n._errorChildren=s),We(s=$e())&&(n._hintChildren=s),We(s=$e())&&(n._prefixChildren=s),We(s=$e())&&(n._suffixChildren=s)}},viewQuery:function(e,n){if(1&e&&(mn(MZ,7),mn(xZ,5),mn(wZ,5)),2&e){let r;We(r=$e())&&(n._connectionContainerRef=r.first),We(r=$e())&&(n._inputContainerRef=r.first),We(r=$e())&&(n._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,n){2&e&&vn("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[nt([{provide:Zx,useExisting:i}]),ye],ngContentSelectors:FZ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,n){1&e&&(jt(kZ),N(0,"div",0)(1,"div",1,2),ke("click",function(s){return n._control.onContainerClick&&n._control.onContainerClick(s)}),be(3,CZ,9,0,"ng-container",3),be(4,SZ,2,1,"div",4),N(5,"div",5,6),xt(7),N(8,"span",7),be(9,PZ,5,16,"label",8),k()(),be(10,AZ,2,0,"div",9),k(),be(11,IZ,2,4,"div",10),N(12,"div",11),be(13,OZ,2,1,"div",12),be(14,NZ,5,2,"div",13),k()()),2&e&&(W(3),Y("ngIf","outline"==n.appearance),W(1),Y("ngIf",n._prefixChildren.length),W(5),Y("ngIf",n._hasFloatingLabel()),W(1),Y("ngIf",n._suffixChildren.length),W(1),Y("ngIf","outline"!=n.appearance),W(1),Y("ngSwitch",n._getDisplayedMessages()),W(1),Y("ngSwitchCase","error"),W(1),Y("ngSwitchCase","hint"))},dependencies:[Bn,rl,uh,nR],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[BZ.transitionMessages]},changeDetection:0}),i})(),Ak=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[So,tn,$M,tn]}),i})();const qZ=["*"],Ik=new he("MatChipRemove"),Ok=new he("MatChipAvatar"),Rk=new he("MatChipTrailingIcon");class YZ{constructor(t){this._elementRef=t}}const XZ=KM(Ih(fl(YZ),"primary"),-1);let vu=(()=>{class i extends XZ{constructor(e,n,r,s,o,a,l,c){super(e),this._ngZone=n,this._changeDetectorRef=o,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Be,this._onBlur=new Be,this.selectionChange=new we,this.destroyed=new we,this.removed=new we,this._addHostClassName(),this._chipRippleTarget=a.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new xR(this,n,this._chipRippleTarget,r),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=s||{},this._animationsDisabled="NoopAnimations"===l,this.tabIndex=null!=c&&parseInt(c)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const n=wt(e);n!==this._selected&&(this._selected=n,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=wt(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=wt(e)}get removable(){return this._removable}set removable(e){this._removable=wt(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",n=this._elementRef.nativeElement;n.hasAttribute(e)||n.tagName.toLowerCase()===e?n.classList.add(e):n.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(wn(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(ot),D(cr),D(wR,8),D($n),D(ut),D(Os,8),Ss("tabindex"))},i.\u0275dir=ue({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,Ok,5),Ht(r,Rk,5),Ht(r,Ik,5)),2&e){let s;We(s=$e())&&(n.avatar=s.first),We(s=$e())&&(n.trailingIcon=s.first),We(s=$e())&&(n.removeIcon=s.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,n){1&e&&ke("click",function(s){return n._handleClick(s)})("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n.focus()})("blur",function(){return n._blur()}),2&e&&(At("tabindex",n.disabled?null:n.tabIndex)("role",n.role)("disabled",n.disabled||null)("aria-disabled",n.disabled.toString())("aria-selected",n.ariaSelected),vn("mat-chip-selected",n.selected)("mat-chip-with-avatar",n.avatar)("mat-chip-with-trailing-icon",n.trailingIcon||n.removeIcon)("mat-chip-disabled",n.disabled)("_mat-animation-noopable",n._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[ye]}),i})(),Qx=(()=>{class i{constructor(e,n){this._parentChip=e,"BUTTON"===n.nativeElement.nodeName&&n.nativeElement.setAttribute("type","button")}_handleClick(e){const n=this._parentChip;n.removable&&!n.disabled&&n.remove(),e.stopPropagation(),e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(D(vu),D(mt))},i.\u0275dir=ue({type:i,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,n){1&e&&ke("click",function(s){return n._handleClick(s)})},features:[nt([{provide:Ik,useExisting:i}])]}),i})();const Nk=new he("mat-chips-default-options"),QZ=_R(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new Be}});let JZ=0;class eQ{constructor(t,e){this.source=t,this.value=e}}let Yg=(()=>{class i extends QZ{constructor(e,n,r,s,o,a,l){super(a,s,o,l),this._elementRef=e,this._changeDetectorRef=n,this._dir=r,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Be,this._uid="mat-chip-list-"+JZ++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(c,u)=>c===u,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new we,this.valueChange=new we,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=wt(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Us.required)??!1}set required(e){this._required=wt(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=wt(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=wt(e),this.chips&&this.chips.forEach(n=>n.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return di(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return di(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return di(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return di(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new lg(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Vt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(Vt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(In(null),Vt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new kg(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const n=e.target;n&&n.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,n=!0){if(this._clearSelection(),this.chips.forEach(r=>r.deselect()),Array.isArray(e))e.forEach(r=>this._selectValue(r,n)),this._sortValues();else{const r=this._selectValue(e,n);r&&n&&this._keyManager.setActiveItem(r)}}_selectValue(e,n=!0){const r=this.chips.find(s=>null!=s.value&&this._compareWith(s.value,e));return r&&(n?r.selectViaInteraction():r.select(),this._selectionModel.select(r)),r}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(n=>{n!==e&&n.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let n=null;n=Array.isArray(this.selected)?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.change.emit(new eQ(this,n)),this.valueChange.emit(n),this._onChange(n),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(n=>{!this._selectionModel.isSelected(n)&&n.selected&&n.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let n=this.chips.toArray().indexOf(e.chip);this._isValidIndex(n)&&this._keyManager.updateActiveItem(n),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const n=e.chip,r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&n._hasFocus&&(this._lastDestroyedChipIndex=r)})}_originatesFromChip(e){let n=e.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-chip"))return!0;n=n.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D($n),D(ds,8),D(Gh,8),D(_a,8),D(fu),D(Gs,10))},i.\u0275cmp=Ge({type:i,selectors:[["mat-chip-list"]],contentQueries:function(e,n,r){if(1&e&&Ht(r,vu,5),2&e){let s;We(s=$e())&&(n.chips=s)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,n){1&e&&ke("focus",function(){return n.focus()})("blur",function(){return n._blur()})("keydown",function(s){return n._keydown(s)}),2&e&&(as("id",n._uid),At("tabindex",n.disabled?null:n._tabIndex)("aria-required",n.role?n.required:null)("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-multiselectable",n.multiple)("role",n.role)("aria-orientation",n.ariaOrientation),vn("mat-chip-list-disabled",n.disabled)("mat-chip-list-invalid",n.errorState)("mat-chip-list-required",n.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[nt([{provide:qg,useExisting:i}]),ye],ngContentSelectors:qZ,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,n){1&e&&(jt(),N(0,"div",0),xt(1),k())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),i})(),tQ=0,kk=(()=>{class i{constructor(e,n){this._elementRef=e,this._defaultOptions=n,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new we,this.placeholder="",this.id="mat-chip-list-input-"+tQ++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=wt(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=wt(e)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(9===e.keyCode&&!Fi(e,"shiftKey")&&this._chipList._allowFocusEscape(),8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(e){!this.inputElement.value&&!!e&&this._chipList._keydown(e),(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this.inputElement.focus(e)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(e){return!Fi(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(Nk))},i.\u0275dir=ue({type:i,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,n){1&e&&ke("keydown",function(s){return n._keydown(s)})("keyup",function(s){return n._keyup(s)})("blur",function(){return n._blur()})("focus",function(){return n._focus()})("input",function(){return n._onInput()}),2&e&&(as("id",n.id),At("disabled",n.disabled||null)("placeholder",n.placeholder||null)("aria-invalid",n._chipList&&n._chipList.ngControl?n._chipList.ngControl.invalid:null)("aria-required",n._chipList&&n._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[Wn]}),i})(),nQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[fu,{provide:Nk,useValue:{separatorKeyCodes:[13]}}],imports:[tn]}),i})();function iQ(i,t){if(1&i){const e=Fn();N(0,"button",5),ke("click",function(){return qt(e),Yt(Ae(2).onDelete())}),N(1,"span"),Q(2,"X"),k()()}}function rQ(i,t){if(1&i&&(N(0,"mat-chip"),Q(1),k()),2&i){const e=t.$implicit;Ja("background-color",e.color.concat("#")),W(1),Pn(e.title)}}function sQ(i,t){if(1&i&&(bi(0),N(1,"mat-chip-list",6),be(2,rQ,2,3,"mat-chip",7),k(),Mi()),2&i){const e=Ae(2);W(2),Y("ngForOf",e.exhibition.tags)}}function oQ(i,t){if(1&i&&(bi(0),N(1,"div",1),be(2,iQ,3,0,"button",2),N(3,"mat-card",3),qe(4,"img",4),be(5,sQ,3,1,"ng-container",0),N(6,"mat-card-title"),Q(7),k(),N(8,"mat-card-content"),Q(9),k()()(),Mi()),2&i){const e=Ae();W(2),Y("ngIf",e.isDeleteMode),W(2),zc("src",e.exhibition.thumbnail_url,xc),W(1),Y("ngIf",e.exhibition.tags),W(2),wr(" ",e.exhibition.title," "),W(2),wr(" ",e.exhibition.description," ")}}let Jx=(()=>{class i{constructor(){this.isDeleteMode=!1,this.deleteEvent=new we}ngOnInit(){}onDelete(){this.deleteEvent.emit(this.exhibition)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-exhibition-card"]],inputs:{exhibition:["exhibtion","exhibition"],isDeleteMode:["delete","isDeleteMode"]},outputs:{deleteEvent:"delete"},decls:1,vars:1,consts:[[4,"ngIf"],[2,"position","relative"],["style","background-color: red; color: white; position: absolute; right: 0; z-index: 2",3,"click",4,"ngIf"],[1,"exhibition-card"],["mat-card-image","","alt","card-thumbnail",1,"card-thumbnail",3,"src"],[2,"background-color","red","color","white","position","absolute","right","0","z-index","2",3,"click"],[1,"exhibition-card-custom","w-100",2,"position","absolute","transform","translateY(-120%)","left","1%"],[3,"background-color",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&be(0,oQ,10,5,"ng-container",0),2&e&&Y("ngIf",n.exhibition)},dependencies:[Fs,Bn,mK,hK,fK,pK,Yg,vu],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%], .exhibition-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.exhibition-card[_ngcontent-%COMP%]{min-width:250px;width:25%;background-color:#9096c5;color:#eee;border-radius:3px;box-shadow:0 4px 4px #00000020;transition:box-shadow linear .15s}.exhibition-card[_ngcontent-%COMP%]:hover{transition:box-shadow linear .3s}.card-thumbnail[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:100% 20%}mat-card-content[_ngcontent-%COMP%]{font-size:.75em;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.scroll-container[_ngcontent-%COMP%]{overflow:hidden}.outer-scroll-container[_ngcontent-%COMP%]{position:absolute;width:200%}']}),i})();function aQ(i,t){1&i&&qe(0,"app-exhibition-card",68),2&i&&Y("exhibtion",t.$implicit)}function lQ(i,t){if(1&i&&(N(0,"app-slideshow"),be(1,aQ,1,1,"app-exhibition-card",67),k()),2&i){const e=Ae();W(1),Y("ngForOf",e.exhibitions)}}let Fk=(()=>{class i{constructor(e,n,r){this.navbar=e,this.footer=n,this.gs=r,this.exhibitions=[]}ngOnInit(){this.navbar.show(),this.footer.show(),this.gs.getAllExhibitions().subscribe(e=>this.exhibitions=e)}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i),D(yl))},i.\u0275cmp=Ge({type:i,selectors:[["app-home-page"]],decls:83,vars:1,consts:[[1,"container"],[1,"row","my-5","w-50"],[1,"col-12"],[1,"mb-0","pt-5"],[1,"mb-0","drop-shadow"],["routerLink","/log-signin",1,"my-3","w-auto"],[1,"action-button","p-5","py-3"],[1,"my-5","py-5"],[4,"ngIf"],[1,"text-center"],["routerLink","/search",1,"font-gradient","underlined","drop-shadow","fw-bold","text-center"],["id","styleElement","data-name","Ebene 3","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","903 394.34 800 1094.34",1,"mt-5","pt-5","pt-lg-0","mt-lg-0"],["id","Unbenannter_Verlauf_3","data-name","Unbenannter Verlauf 3","x1","774.64","y1","1506.94","x2","1269.14","y2","963.94","gradientTransform","translate(539.06 2151.02) scale(1 -1)","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#ca9bcf"],["offset","1","stop-color","#7179a5"],[1,"drop-shadow"],["d","M1451.12,1501.73c85.03-58.33,134.45-25.31,219.49-83.64,85.03-58.32,35.61-91.34,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.64-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.62-91.34,120.65-149.67",1,"cls-2"],["d","M484.46,845.1c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1102.12,1256.48c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M788.64,1047.31c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1405.07,1464.85c85.04-58.33,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M633.93,952.78c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.04-58.33,134.45-25.31,219.52-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1250.37,1363.46c85.03-58.33,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.34,120.62-149.65,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M938.11,1154.99c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.62-149.65,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1554.55,1572.53c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65s35.61-91.34,120.65-149.67",1,"cls-2"],["d","M463.79,826.04c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1081.46,1237.41c85.03-58.33,134.45-25.31,219.49-83.63,85.04-58.33,35.61-91.35,120.63-149.65,85-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M767.98,1028.24c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1384.41,1445.78c85.03-58.32,134.45-25.3,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.03-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M613.27,933.72c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.65-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M1229.7,1344.4c85.03-58.33,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.62-149.65,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M917.45,1135.92c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1533.89,1553.46c85.03-58.32,134.45-25.3,219.48-83.63,85.04-58.33,35.62-91.35,120.63-149.66,85-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67s134.45-25.31,219.51-83.65c85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M405.74,790.81c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1023.4,1202.18c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M709.92,999.88c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.64-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M1326.35,1410.56c85.03-58.33,134.46-25.31,219.49-83.64,85.03-58.33,35.61-91.34,120.62-149.66,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M555.22,898.49c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1172.88,1309.86c85.03-58.33,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.63-149.66,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M859.4,1100.7c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.62-149.65,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67s134.45-25.31,219.51-83.65c85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1475.83,1518.24c85.03-58.33,134.45-25.31,219.49-83.64,85.03-58.32,35.61-91.34,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.62-91.34,120.65-149.67",1,"cls-2"],["d","M509.17,861.61c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1126.83,1272.98c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66s134.45-25.31,219.48-83.63c85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M813.35,1063.82c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1429.78,1481.36c85.04-58.33,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M658.64,969.29c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.04-58.33,134.46-25.31,219.52-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1275.08,1379.97c85.03-58.33,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.62-149.65,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M962.83,1171.5c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.62-149.65,85.01-58.31,134.45-25.31,219.48-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1579.26,1589.04c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M834.69,1084.19c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M381.03,774.3c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M998.69,1185.67c85.03-58.33,134.45-25.31,219.49-83.63s35.61-91.34,120.62-149.65c85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M685.21,983.37c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.04-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M1301.64,1394.05c85.04-58.33,134.45-25.31,219.48-83.64,85.03-58.33,35.61-91.34,120.62-149.65,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M530.51,881.98c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1148.17,1293.35c85.03-58.33,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.63-149.66,85-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M439.08,809.53c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.34,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.34,120.64-149.67",1,"cls-2"],["d","M1056.75,1220.9c85.03-58.33,134.45-25.31,219.49-83.63,85.04-58.33,35.61-91.35,120.63-149.66,85-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.34,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.34,120.65-149.67",1,"cls-2"],["d","M743.27,1011.73c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.04-58.33,35.61-91.34,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1359.7,1429.27c85.03-58.32,134.45-25.3,219.49-83.63,85.03-58.33,35.61-91.34,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.64-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M588.56,917.21c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.65,85.01-58.31,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.46-25.31,219.51-83.65,85.06-58.34,35.62-91.35,120.65-149.67",1,"cls-2"],["d","M1204.99,1327.89c85.03-58.33,134.45-25.31,219.48-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M892.74,1119.41c85.03-58.33,134.45-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.62-149.66,85.01-58.31,134.46-25.31,219.49-83.63,85.03-58.33,35.61-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.05-58.34,35.61-91.35,120.64-149.67",1,"cls-2"],["d","M1509.18,1536.95c85.03-58.32,134.45-25.3,219.48-83.63,85.04-58.33,35.62-91.35,120.63-149.66,85-58.31,134.45-25.31,219.48-83.63,85.04-58.33,35.62-91.35,120.65-149.67,85.03-58.33,134.45-25.31,219.51-83.65,85.06-58.34,35.61-91.35,120.65-149.67",1,"cls-2"],["d","M1387.76,602.89c307.2-82,572.66,26.5,667,91,35.32,57.19,85.39,146.88,128.23,263.44,89.84,244.44,70.69,397.12,118,406,60.56,11.37,214.79-215.75,208-449-11.59-398.12-488.87-698.62-763-811C951.35-222.42,122.2,318.74,.03,401.06c-3.83,164,377.03,877.13,278.23,1108.33-98.8,231.2,1002.5,197.67,1565.5,152,315.33-144.5,777.3-401.2,102.5-272-674.8,129.2-877.84-215.83-895-404.5-15.83-93.17,29.3-300,336.5-382Z",1,"cls-1"],["d","M1914.48,920.56c0,112.94-156.25,204.5-349,204.5s-349-91.56-349-204.5,156.25-204.5,349-204.5,349,91.56,349,204.5Z",1,"cls-3","drop-shadow"],["width","1280","height","720","transform","translate(1956.99 594.33) rotate(-180) scale(.64 -.64)",0,"xlink","href","./assets/image/statue.png"],["routerLink","/room",3,"exhibtion",4,"ngFor","ngForOf"],["routerLink","/room",3,"exhibtion"]],template:function(e,n){1&e&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),Q(4,"let's create experiences together"),k(),N(5,"h1",4),Q(6,"3D Portfolio"),k(),N(7,"p"),Q(8,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. "),k()(),N(9,"a",5)(10,"button",6),Q(11,"Start creating"),k()()(),N(12,"div",7)(13,"h3"),Q(14,"Exhibitions"),k(),N(15,"p"),Q(16,"the latest exhibitions"),k(),N(17,"p"),Q(18,"check them out"),k(),be(19,lQ,2,1,"app-slideshow",8),k(),N(20,"div",9)(21,"a",10),Q(22,"check out more --\x3e"),k()()(),Cd(),N(23,"svg",11)(24,"defs")(25,"style"),Q(26," .cls-3 { fill: url(#Unbenannter_Verlauf_3); } "),k(),N(27,"linearGradient",12),qe(28,"stop",13)(29,"stop",14),k()(),N(30,"g",15)(31,"g"),qe(32,"path",16)(33,"path",17)(34,"path",18)(35,"path",19)(36,"path",20)(37,"path",21)(38,"path",22)(39,"path",23)(40,"path",24)(41,"path",25)(42,"path",26)(43,"path",27)(44,"path",28)(45,"path",29)(46,"path",30)(47,"path",31)(48,"path",32)(49,"path",33)(50,"path",34)(51,"path",35)(52,"path",36)(53,"path",37)(54,"path",38)(55,"path",39)(56,"path",40)(57,"path",41)(58,"path",42)(59,"path",43)(60,"path",44)(61,"path",45)(62,"path",46)(63,"path",47)(64,"path",48)(65,"path",49)(66,"path",50)(67,"path",51)(68,"path",52)(69,"path",53)(70,"path",54)(71,"path",55)(72,"path",56)(73,"path",57)(74,"path",58)(75,"path",59)(76,"path",60)(77,"path",61)(78,"path",62)(79,"path",63)(80,"path",64),k(),qe(81,"path",65),k(),qe(82,"image",66),k()),2&e&&(W(19),Y("ngIf",n.exhibitions))},dependencies:[Fs,Bn,Sh,aa,Ix,Jx],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.cls-1[_ngcontent-%COMP%]{fill:#eee}.cls-2[_ngcontent-%COMP%]{stroke:#9096c5;stroke-miterlimit:10;stroke-width:15px;fill:none}#styleElement[_ngcontent-%COMP%]{position:absolute;top:-10%;right:0;z-index:-1;width:60vw;height:auto}']}),i})();class Lk{constructor(t,e){this.emailOrUsername=t,this.password=e}}function cQ(i,t){1&i&&(N(0,"mat-error"),Q(1,"Benutzername oder Passwort waren falsch."),k())}const uQ=function(i){return{"btn-disabled":i}};let ew,dQ=(()=>{class i{constructor(e,n,r,s){this.navbar=e,this.footer=n,this.auth=r,this.router=s,this.showLogginError=!1,this.loginForm=new yu({emailOrUsername:new fs("",Us.required),password:new fs("",Us.required)})}ngOnInit(){this.navbar.hide(),this.navbar.changeWhite(),this.footer.hide()}onSubmit(){this.loginForm.valid&&this.auth.login(new Lk(this.loginForm.value.emailOrUsername??"",this.loginForm.value.password??"")).subscribe({next:e=>{this.auth.setSaveJWT(e),this.router.navigateByUrl("/profile")},error:e=>{this.showLogginError=!0,this.auth.logout()}})}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i),D(LM),D(gi))},i.\u0275cmp=Ge({type:i,selectors:[["app-log-signin-page"]],decls:25,vars:6,consts:[[1,"row","cover"],[1,"col","color-side","d-flex","justify-content-center","flex-column"],["src","../../../../assets/image/statue.png",1,"w-auto","h-75",2,"object-fit","cover"],[1,"font-secondary-c","m-5"],[1,"col","white-side"],[1,"content-wrapper"],["rel","logo","src","../../../../assets/image/3d-logo.png",1,"logo"],[1,"navbar-brand","no-after","title"],[1,"font-gradient"],[3,"formGroup","ngSubmit"],["placeholder","email@example.com or username","type","email","formControlName","emailOrUsername",1,"input"],["placeholder","Password","type","password","formControlName","password",1,"input"],["type","submit",1,"py-1","rounded",3,"disabled","ngClass"],[1,"text-center","my-2",2,"width","60%"],[4,"ngIf"],[1,"mx-auto","my-5"],[1,"sign-up-text"],["routerLink","/signup",1,"font-gradient","underlined"]],template:function(e,n){1&e&&(N(0,"div",0)(1,"div",1),qe(2,"img",2),N(3,"p",3),Q(4,"A new way to experience in the infinite virutal space. "),k()(),N(5,"div",4)(6,"div",5),qe(7,"img",6),N(8,"a",7)(9,"b",8),Q(10,"Portfolio"),k()()(),N(11,"h2"),Q(12,"Welcome Back"),k(),N(13,"form",9),ke("ngSubmit",function(){return n.onSubmit()}),qe(14,"input",10)(15,"input",11),N(16,"button",12),Q(17,"Log In"),k(),N(18,"div",13),be(19,cQ,2,0,"mat-error",14),k()(),qe(20,"hr",15),N(21,"p",16),Q(22,"Don't have an account yet? "),N(23,"a",17),Q(24,"Sign up"),k()()()()),2&e&&(W(13),Y("formGroup",n.loginForm),W(3),Y("disabled",!n.loginForm.valid)("ngClass",Ri(4,uQ,!n.loginForm.valid)),W(3),Y("ngIf",n.showLogginError))},dependencies:[ks,Bn,aa,$g,bl,Bh,Bg,Dk,_a,jh],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.color-side[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:33.33%;height:100%;background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);z-index:-9}.white-side[_ngcontent-%COMP%]{position:absolute;top:0;left:33.33%;width:66.66%;height:100%}.logo[_ngcontent-%COMP%]{width:10%;margin-bottom:4%;margin-right:3%}.title[_ngcontent-%COMP%]{top:20%;font-size:40px}.content-wrapper[_ngcontent-%COMP%]{margin-top:15%;margin-left:40%}h2[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{margin-left:30%}button[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1.5em;background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;box-shadow:0 4px 4px #00000020}hr[_ngcontent-%COMP%]{width:30%}.sign-up-text[_ngcontent-%COMP%]{text-align:center}.ps-2[_ngcontent-%COMP%]{text-decoration:none}']}),i})(),hQ=1;const Xg={};function Bk(i){return i in Xg&&(delete Xg[i],!0)}const fQ={setImmediate(i){const t=hQ++;return Xg[t]=!0,ew||(ew=Promise.resolve()),ew.then(()=>Bk(t)&&i()),t},clearImmediate(i){Bk(i)}},{setImmediate:pQ,clearImmediate:mQ}=fQ,Kg={setImmediate(...i){const{delegate:t}=Kg;return(t?.setImmediate||pQ)(...i)},clearImmediate(i){const{delegate:t}=Kg;return(t?.clearImmediate||mQ)(i)},delegate:void 0},tw=new class _Q extends sg{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class gQ extends rg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Kg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(t,e,n);t.actions.some(r=>r.id===e)||(Kg.clearImmediate(e),t._scheduled=void 0)}});function Vk(i,t){return t?e=>fh(t.pipe(wn(1),function yQ(){return bn((i,t)=>{i.subscribe(sn(t,tc))})}()),e.pipe(Vk(i))):ui((e,n)=>i(e,n).pipe(wn(1),kI(e)))}function Wh(i=0,t,e=Y$){let n=-1;return null!=t&&(QS(t)?e=t:n=t),new cn(r=>{let s=function vQ(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function nw(i,t=Ah){const e=Wh(i,t);return Vk(()=>e)}class iw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rw extends iw{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class bu extends iw{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class bQ extends iw{constructor(t){super(),this.element=t instanceof mt?t.nativeElement:t}}class sw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof rw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof bu?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof bQ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MQ extends sw{constructor(t,e,n,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Jn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Zg=(()=>{class i extends sw{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new we,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=n.createComponent(s,n.length,e.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(D(Ya),D(Ni),D(ut))},i.\u0275dir=ue({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ye]}),i})(),$h=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})();const qh={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=qh;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(s=>{e=void 0,i(s)});return new Ut(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=qh;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=qh;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0},zk=new class wQ extends sg{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class xQ extends rg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=qh.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(t,e,n);t.actions.some(r=>r.id===e)||(qh.cancelAnimationFrame(e),t._scheduled=void 0)}});function Hk(i,t=Ah){return function CQ(i){return bn((t,e)=>{let n=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(sn(e,c=>{n=!0,r=c,s||Ti(i(c)).subscribe(s=sn(e,a,l))},()=>{o=!0,(!n||!s||s.closed)&&e.complete()}))})}(()=>Wh(i,t))}let DQ=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new Be,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cn(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Hk(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ve()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(an(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=_i(n),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>js(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(z(ot),z(cr),z(ut,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Yh=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new Be,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Hk(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(z(cr),z(ot),z(ut,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Mu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})(),Uk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[hu,Mu,hu,Mu]}),i})();const Gk=R$();class TQ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ri(-this._previousScrollPosition.left),t.style.top=ri(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Gk&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gk&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class PQ{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jk{enable(){}disable(){}attach(){}}function ow(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function Wk(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class AQ{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();ow(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let IQ=(()=>{class i{constructor(e,n,r,s){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new jk,this.close=o=>new PQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new TQ(this._viewportRuler,this._document),this.reposition=o=>new AQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return i.\u0275fac=function(e){return new(e||i)(z(DQ),z(Yh),z(ot),z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Xh{constructor(t){if(this.scrollStrategy=new jk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class OQ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $k=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),RQ=(()=>{class i extends $k{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(z(ut),z(ot,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),NQ=(()=>{class i extends $k{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Vr(s)},this._clickListener=s=>{const o=Vr(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(z(ut),z(cr),z(ot,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Qg=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||HM()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(e),HM()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)(z(ut),z(cr))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Kh{constructor(t,e,n,r,s,o,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Be,this._attachments=new Be,this._detachments=new Be,this._locationChanges=Ut.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Be,this._outsidePointerEvents=new Be,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ri(this._config.width),t.height=ri(this._config.height),t.minWidth=ri(this._config.minWidth),t.minHeight=ri(this._config.minHeight),t.maxWidth=ri(this._config.maxWidth),t.maxHeight=ri(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=ag(e||[]).filter(s=>!!s);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Vt(di(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qk="cdk-overlay-connected-position-bounding-box",kQ=/([A-Za-z%]+)$/;class FQ{constructor(t,e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Be,this._resizeSubscription=Ut.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(qk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,n,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,n)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,s;if("center"==n.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?o:a}return e.left<0&&(r-=e.left),s="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,n){let r,s;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,n,r){const s=Xk(e);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-n.height,p=this._subtractOverflows(s.width,0-o,o+s.width-n.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,s=n.right-e.x,o=Yk(this._overlayRef.getConfig().minHeight),a=Yk(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=s;return(t.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Xk(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-n.top-t.y,0),c=Math.max(s.left-n.left-t.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-n.left-t.x:0,d=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new OQ(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===e.overlayY)o=t.y,s=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-t.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const f=Math.min(n.bottom-t.y+n.top,t.y),p=this._lastBoundingBoxSize.height;s=2*f,o=t.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-p/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=n.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=n.right-t.x;else{const f=Math.min(n.right-t.x+n.left,t.x),p=this._lastBoundingBoxSize.width;u=2*f,d=t.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ri(n.height),r.top=ri(n.top),r.bottom=ri(n.bottom),r.width=ri(n.width),r.left=ri(n.left),r.right=ri(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ri(s)),o&&(r.maxWidth=ri(o))}this._lastBoundingBoxSize=n,xl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){xl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();xl(n,this._getExactOverlayY(e,t,u)),xl(n,this._getExactOverlayX(e,t,u))}else n.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=ri(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ri(o.maxWidth):s&&(n.maxWidth="")),xl(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ri(s.y),r}_getExactOverlayX(t,e,n){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ri(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Wk(t,n),isOriginOutsideView:ow(t,n),isOverlayClipped:Wk(e,n),isOverlayOutsideView:ow(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ag(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof mt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function xl(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Yk(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(kQ);return e&&"px"!==e?null:parseFloat(t)}return i||null}function Xk(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const Kk="cdk-global-overlay-wrapper";class LQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Kk),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":p,e.justifyContent=m,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Kk),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let BQ=(()=>{class i{constructor(e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new LQ}flexibleConnectedTo(e){return new FQ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(z(Yh),z(ut),z(cr),z(Qg))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),VQ=0,Ur=(()=>{class i{constructor(e,n,r,s,o,a,l,c,u,d,h,f){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new Xh(e);return o.direction=o.direction||this._directionality.value,new Kh(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+VQ++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Xc)),new MQ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(z(IQ),z(Qg),z(Ya),z(BQ),z(RQ),z(Jn),z(ot),z(ut),z(ds),z(ah),z(NQ),z(Os,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const zQ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Zk=new he("cdk-connected-overlay-scroll-strategy");let Qk=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(D(mt))},i.\u0275dir=ue({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),Jk=(()=>{class i{constructor(e,n,r,s,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ut.EMPTY,this._attachSubscription=Ut.EMPTY,this._detachSubscription=Ut.EMPTY,this._positionSubscription=Ut.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new we,this.positionChange=new we,this.attach=new we,this.detach=new we,this.overlayKeydown=new we,this.overlayOutsideClick=new we,this._templatePortal=new bu(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=wt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=wt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=wt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=wt(e)}get push(){return this._push}set push(e){this._push=wt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=zQ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!Fi(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Xh({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Qk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(NI(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(D(Ur),D(Ci),D(Ni),D(Zk),D(ds,8))},i.\u0275dir=ue({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Wn]}),i})();const UQ={provide:Zk,deps:[Ur],useFactory:function HQ(i){return()=>i.scrollStrategies.reposition()}};let Zh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[Ur,UQ],imports:[hu,$h,Uk,Uk]}),i})();const GQ=["mat-menu-item",""];function jQ(i,t){1&i&&(Cd(),N(0,"svg",2),qe(1,"polygon",3),k())}const eF=["*"];function WQ(i,t){if(1&i){const e=Fn();N(0,"div",0),ke("keydown",function(r){return qt(e),Yt(Ae()._handleKeydown(r))})("click",function(){return qt(e),Yt(Ae().closed.emit("click"))})("@transformMenu.start",function(r){return qt(e),Yt(Ae()._onAnimationStart(r))})("@transformMenu.done",function(r){return qt(e),Yt(Ae()._onAnimationDone(r))}),N(1,"div",1),xt(2),k()()}if(2&i){const e=Ae();Y("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),At("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Jg={transformMenu:da("transformMenu",[ur("void",On({opacity:0,transform:"scale(0.8)"})),hs("void => enter",zs("120ms cubic-bezier(0, 0, 0.2, 1)",On({opacity:1,transform:"scale(1)"}))),hs("* => void",zs("100ms 25ms linear",On({opacity:0})))]),fadeInItems:da("fadeInItems",[ur("showing",On({opacity:1})),hs("void => *",[On({opacity:0}),zs("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$Q=new he("MatMenuContent"),aw=new he("MAT_MENU_PANEL"),qQ=fl(XM(class{}));let lw=(()=>{class i extends qQ{constructor(e,n,r,s,o){super(),this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Be,this._focused=new Be,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(ut),D(ca),D(aw,8),D($n))},i.\u0275cmp=Ge({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,n){1&e&&ke("click",function(s){return n._checkDisabled(s)})("mouseenter",function(){return n._handleMouseEnter()}),2&e&&(At("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled.toString())("disabled",n.disabled||null),vn("mat-menu-item",!0)("mat-menu-item-highlighted",n._highlighted)("mat-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ye],attrs:GQ,ngContentSelectors:eF,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,n){1&e&&(jt(),xt(0),qe(1,"div",0),be(2,jQ,2,0,"svg",1)),2&e&&(W(1),Y("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),W(1),Y("ngIf",n._triggersSubmenu))},dependencies:[Bn,pu],encapsulation:2,changeDetection:0}),i})();const tF=new he("mat-menu-default-options",{providedIn:"root",factory:function YQ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let XQ=0,Qh=(()=>{class i{constructor(e,n,r,s){this._elementRef=e,this._ngZone=n,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new bo,this._tabSubscription=Ut.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Be,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new we,this.close=this.closed,this.panelId="mat-menu-panel-"+XQ++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=wt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=wt(e)}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new lg(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(In(this._directDescendantItems),ni(e=>di(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(In(this._directDescendantItems),ni(n=>di(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,r=this._keyManager;switch(n){case 27:Fi(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(wn(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(In(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(ot),D(tF),D($n))},i.\u0275dir=ue({type:i,contentQueries:function(e,n,r){if(1&e&&(Ht(r,$Q,5),Ht(r,lw,5),Ht(r,lw,4)),2&e){let s;We(s=$e())&&(n.lazyContent=s.first),We(s=$e())&&(n._allItems=s),We(s=$e())&&(n.items=s)}},viewQuery:function(e,n){if(1&e&&mn(Ci,5),2&e){let r;We(r=$e())&&(n.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),i})(),KQ=(()=>{class i extends Qh{constructor(e,n,r,s){super(e,n,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(ot),D(tF),D($n))},i.\u0275cmp=Ge({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,n){2&e&&At("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[nt([{provide:aw,useExisting:i}]),ye],ngContentSelectors:eF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,n){1&e&&(jt(),be(0,WQ,3,6,"ng-template"))},dependencies:[ks],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Jg.transformMenu,Jg.fadeInItems]},changeDetection:0}),i})();const nF=new he("mat-menu-scroll-strategy"),QQ={provide:nF,deps:[Ur],useFactory:function ZQ(i){return()=>i.scrollStrategies.reposition()}},iF=cl({passive:!0});let JQ=(()=>{class i{constructor(e,n,r,s,o,a,l,c,u){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ut.EMPTY,this._hoverSubscription=Ut.EMPTY,this._menuCloseSubscription=Ut.EMPTY,this._handleTouchStart=d=>{dg(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new we,this.onMenuOpen=this.menuOpened,this.menuClosed=new we,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Qh?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,iF),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,iF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const n=this._createOverlay(e),r=n.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Qh&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Vt(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof Qh?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(an(r=>"void"===r.toState),wn(1),Vt(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Xh({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,o)):e.setPositionClasses(s,o)})}_setPosition(e,n){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[o,a]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[o,a],[u,d]=[r,s],h=0;if(this.triggersSubmenu()){if(d=r="before"===e.xPosition?"start":"end",s=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}h="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l="top"===o?"bottom":"top",c="top"===a?"bottom":"top");n.withPositions([{originX:r,originY:l,overlayX:u,overlayY:o,offsetY:h},{originX:s,originY:l,overlayX:d,overlayY:o,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:s,originY:c,overlayX:d,overlayY:a,offsetY:-h}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return di(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Ve(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(an(o=>o!==this._menuItemInstance),an(()=>this._menuOpen)):Ve(),n)}_handleMousedown(e){ug(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(an(e=>e===this._menuItemInstance&&!e.disabled),nw(0,tw)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Qh&&this.menu._isAnimating?this.menu._animationDone.pipe(wn(1),nw(0,tw),Vt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new bu(e.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(D(Ur),D(mt),D(Ni),D(nF),D(aw,8),D(lw,10),D(ds,8),D(ca),D(ot))},i.\u0275dir=ue({type:i,hostVars:3,hostBindings:function(e,n){1&e&&ke("click",function(s){return n._handleClick(s)})("mousedown",function(s){return n._handleMousedown(s)})("keydown",function(s){return n._handleKeydown(s)}),2&e&&At("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen||null)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),i})(),eJ=(()=>{class i extends JQ{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ye]}),i})(),tJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[QQ],imports:[So,tn,mu,Zh,Mu,tn]}),i})();const nJ=["input"],iJ=["label"],rJ=function(i){return{enterDuration:i}},sJ=["*"],oJ=new he("mat-checkbox-default-options",{providedIn:"root",factory:rF});function rF(){return{color:"accent",clickAction:"check-indeterminate"}}let aJ=0;const sF=rF(),lJ={provide:Dr,useExisting:$t(()=>oF),multi:!0};class cJ{}const uJ=KM(Ih(fl(XM(class{constructor(i){this._elementRef=i}}))));let dJ=(()=>{class i extends uJ{constructor(e,n,r,s,o,a,l){super(n),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=a,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new we,this.indeterminateChange=new we,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||sF,this.color=this.defaultColor=this._options.color||sF.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`${e}${++aJ}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=wt(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const n=wt(e);n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const n=wt(e);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const n=e!=this._indeterminate;this._indeterminate=wt(e),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===n)return this._animationClasses.uncheckedToChecked;if(3==n)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===n?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===n?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===n?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}}return i.\u0275fac=function(e){Tc()},i.\u0275dir=ue({type:i,viewQuery:function(e,n){if(1&e&&(mn(nJ,5),mn(iJ,5),mn(pu,5)),2&e){let r;We(r=$e())&&(n._inputElement=r.first),We(r=$e())&&(n._labelElement=r.first),We(r=$e())&&(n.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[ye]}),i})(),oF=(()=>{class i extends dJ{constructor(e,n,r,s,o,a,l){super("mat-checkbox-",e,n,s,o,a,l),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const n=new cJ;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,n){e?this._focusMonitor.focusVia(this._inputElement,e,n):this._inputElement.nativeElement.focus(n)}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D($n),D(ca),D(ot),Ss("tabindex"),D(Os,8),D(oJ,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,n){2&e&&(as("id",n.id),At("tabindex",null)("aria-label",null)("aria-labelledby",null),vn("mat-checkbox-indeterminate",n.indeterminate)("mat-checkbox-checked",n.checked)("mat-checkbox-disabled",n.disabled)("mat-checkbox-label-before","before"==n.labelPosition)("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[nt([lJ]),ye],ngContentSelectors:sJ,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,n){if(1&e&&(jt(),N(0,"label",0,1)(2,"span",2)(3,"input",3,4),ke("change",function(s){return n._onInteractionEvent(s)})("click",function(s){return n._onInputClick(s)}),k(),N(5,"span",5),qe(6,"span",6),k(),qe(7,"span",7),N(8,"span",8),Cd(),N(9,"svg",9),qe(10,"path",10),k(),vv(),qe(11,"span",11),k()(),N(12,"span",12,13),ke("cdkObserveContent",function(){return n._onLabelTextChange()}),N(14,"span",14),Q(15,"\xa0"),k(),xt(16),k()()),2&e){const r=Tn(1),s=Tn(13);At("for",n.inputId),W(2),vn("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),W(1),Y("id",n.inputId)("required",n.required)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex),At("value",n.value)("name",n.name)("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-checked",n._getAriaChecked())("aria-describedby",n.ariaDescribedby),W(2),Y("matRippleTrigger",r)("matRippleDisabled",n._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Ri(19,rJ,"NoopAnimations"===n._animationMode?0:150))}},dependencies:[pu,nR],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),aF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({}),i})(),pJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[mu,tn,$M,aF,tn,aF]}),i})();const mJ=function(i){return{color:i}};function gJ(i,t){if(1&i&&(N(0,"ul")(1,"mat-checkbox",15)(2,"p"),Q(3),k()()()),2&i){const e=t.$implicit;W(1),Y("ngStyle",Ri(2,mJ,e.color)),W(2),Pn(e.category_title)}}function _J(i,t){1&i&&qe(0,"app-exhibition-card",19),2&i&&Y("exhibtion",t.$implicit)}function yJ(i,t){if(1&i&&(N(0,"div")(1,"div",16)(2,"div",17),be(3,_J,1,1,"app-exhibition-card",18),k()()()),2&i){const e=Ae();W(3),Y("ngForOf",e.searchResults)}}let vJ=(()=>{class i{constructor(e,n,r){this.navbar=e,this.footer=n,this.galleryService=r,this.keyUp$=new Be,this.isLoading=!1,this.searchResults=[],this.categories=[]}ngOnInit(){this.navbar.show(),this.footer.show(),this.galleryService.getAllExhibitions().subscribe(e=>this.searchResults=e),this.keyUp$.pipe(an(e=>e.length>=3),lu(500),cu(),Wt(()=>this.isLoading=!0),ni(e=>this.galleryService.getAllSearch(e)),Wt(()=>this.isLoading=!1)).subscribe(e=>this.searchResults=e),console.log(this.searchResults)}getCategories(){this.galleryService.getAllCatagories().subscribe(e=>{this.categories=e})}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i),D(yl))},i.\u0275cmp=Ge({type:i,selectors:[["app-search-page"]],decls:23,vars:4,consts:[[1,"outer-box",2,"margin-top","5%"],[1,"search-border","mx-auto"],[1,"input-group","rounded","searchbar","mx-auto"],["type","search","placeholder","Search",1,"form-control","rounded",3,"keyup"],["input",""],[1,"input-group-text"],[1,"search-icon","mx-2"],[1,"search-icon","mx-2",3,"matMenuTriggerFor","click"],["menu","matMenu"],[4,"ngFor","ngForOf"],[1,"search-tag"],["matChipRemove",""],[1,"found-results","font-gradient"],[1,"container",2,"margin-top","15%"],[4,"ngIf"],[3,"ngStyle"],[1,"container"],[1,"row"],["class","col-3",3,"exhibtion",4,"ngFor","ngForOf"],[1,"col-3",3,"exhibtion"]],template:function(e,n){if(1&e){const r=Fn();N(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3,4),ke("keyup",function(){qt(r);const o=Tn(4);return Yt(n.keyUp$.next(o.value))}),k(),N(5,"span",5)(6,"mat-icon",6),Q(7,"search"),k(),N(8,"mat-icon",7),ke("click",function(){return n.getCategories()}),Q(9,"filter_alt"),k(),N(10,"mat-menu",null,8),be(12,gJ,4,4,"ul",9),k()()()(),N(13,"mat-chip-list",10)(14,"mat-chip"),Q(15," Art "),N(16,"button",11)(17,"mat-icon"),Q(18,"cancel"),k()()()(),N(19,"p",12),Q(20),k()(),N(21,"div",13),be(22,yJ,4,1,"div",14),k()}if(2&e){const r=Tn(11);W(8),Y("matMenuTriggerFor",r),W(4),Y("ngForOf",n.categories),W(8),wr("",n.searchResults.length," Ergebnisse"),W(2),Y("ngIf",n.searchResults.length)}},dependencies:[Fs,Bn,wm,ua,Yg,vu,Qx,KQ,eJ,oF,Jx],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.search-border[_ngcontent-%COMP%]{background:-webkit-linear-gradient(45deg,#576391,#B470B7);position:relative;margin-top:5%;width:40%;padding:3px;border-radius:3px;box-shadow:0 4px 4px #00000020;margin-bottom:5%}.search-icon[_ngcontent-%COMP%]{background:white;transform:scale(1.4);border-radius:3px;box-shadow:0 4px 4px #00000020}.input-group-text[_ngcontent-%COMP%]{background:none;border:0}.outer-box[_ngcontent-%COMP%]{margin:0;position:absolute;top:0;left:0;right:0;bottom:0}.search-icon-lg[_ngcontent-%COMP%]{position:absolute;top:12%;left:28.5%;transform:scale(8);color:#9197c6}.found-results[_ngcontent-%COMP%]{position:absolute;top:17.2%;left:33%}.search-tag[_ngcontent-%COMP%]{position:absolute;top:14.2%;left:30%}.scroll-container[_ngcontent-%COMP%]{position:absolute;top:50%;z-index:2}']}),i})();function bJ(i,t){if(1&i){const e=Fn();N(0,"app-exhibition-card",15),ke("delete",function(r){return qt(e),Yt(Ae(3).deleteExhibtionEvent(r))}),k()}if(2&i){const e=Ae().$implicit,n=Ae(2);Y("exhibtion",e)("delete",n.isDeleteMode)}}function MJ(i,t){if(1&i&&(N(0,"div",13),be(1,bJ,1,2,"app-exhibition-card",14),k()),2&i){const e=t.$implicit;W(1),Y("ngIf",e)}}function xJ(i,t){if(1&i&&(bi(0),N(1,"div",11),be(2,MJ,2,1,"div",12),k(),Mi()),2&i){const e=Ae();W(2),Y("ngForOf",e.exhibition_list)}}function wJ(i,t){1&i&&(N(0,"div",16)(1,"h6"),Q(2,"nothing stored yet"),k()())}let CJ=(()=>{class i{constructor(e,n,r){this.navbar=e,this.footer=n,this.gallery_service=r,this.username="Max Mustermann",this.isDeleteMode=!0,r.getAllExhibitions().subscribe(s=>{this.exhibition_list=s})}ngOnInit(){this.navbar.show(),this.footer.show()}onDelete(){this.isDeleteMode=!this.isDeleteMode}deleteExhibtionEvent(e){this.exhibition_list?.splice(this.exhibition_list?.indexOf(e),1)}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i),D(yl))},i.\u0275cmp=Ge({type:i,selectors:[["app-profile-page"]],decls:18,vars:3,consts:[[1,"container","my-5"],[1,"d-flex","justify-content-center","align-items-center"],["id","profile-pic","src","./assets/image/profile-photo.jpg",1,"me-5"],[1,"mt-5"],[1,"d-flex","justify-content-between"],[1,"align-bottom"],["routerLink","/create"],[1,"action-button","p-2","me-3"],[1,"action-button","p-2",3,"click"],[4,"ngIf","ngIfElse"],["elseExhibitionList",""],[1,"d-flex"],["class","mx-2",4,"ngFor","ngForOf"],[1,"mx-2"],[3,"exhibtion","delete",4,"ngIf"],[3,"exhibtion","delete"],[1,"d-flex","justify-content-center","mt-5","pt-5"]],template:function(e,n){if(1&e&&(N(0,"div",0)(1,"div",1),qe(2,"img",2),N(3,"h1"),Q(4),k()(),N(5,"div",3)(6,"div",4)(7,"h3"),Q(8,"Your Exhibitions"),k(),N(9,"div",5)(10,"a",6)(11,"button",7),Q(12,"Add"),k()(),N(13,"button",8),ke("click",function(){return n.onDelete()}),Q(14,"Delete"),k()()(),be(15,xJ,3,1,"ng-container",9),be(16,wJ,3,0,"ng-template",null,10,ia),k()()),2&e){const r=Tn(17);let s;W(4),wr("Hi ",n.username,""),W(11),Y("ngIf",null!==(s=null==n.exhibition_list?null:n.exhibition_list.length)&&void 0!==s&&s)("ngIfElse",r)}},dependencies:[Fs,Bn,aa,Jx],styles:["#profile-pic[_ngcontent-%COMP%]{width:calc(5vw + 5vh + 20px);height:calc(5vw + 5vh + 20px);object-fit:cover;border:0px;border-radius:100%}"]}),i})();function SJ(i,t){1&i&&xt(0)}const DJ=["*"];let lF=(()=>{class i{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return i.\u0275fac=function(e){return new(e||i)(D(mt))},i.\u0275dir=ue({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),i})(),cF=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(D(Ci))},i.\u0275dir=ue({type:i,selectors:[["","cdkStepLabel",""]]}),i})(),EJ=0;const uF=new he("STEPPER_GLOBAL_OPTIONS");let cw=(()=>{class i{constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new we,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=wt(e)}get optional(){return this._optional}set optional(e){this._optional=wt(e)}get completed(){return this._completedOverride??this._getDefaultCompleted()}set completed(e){this._completedOverride=wt(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError??this._getDefaultError()}set hasError(e){this._customError=wt(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return i.\u0275fac=function(e){return new(e||i)(D($t(()=>Jh)),D(uF,8))},i.\u0275cmp=Ge({type:i,selectors:[["cdk-step"]],contentQueries:function(e,n,r){if(1&e&&Ht(r,cF,5),2&e){let s;We(s=$e())&&(n.stepLabel=s.first)}},viewQuery:function(e,n){if(1&e&&mn(Ci,7),2&e){let r;We(r=$e())&&(n.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Wn],ngContentSelectors:DJ,decls:1,vars:0,template:function(e,n){1&e&&(jt(),be(0,SJ,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),i})(),Jh=(()=>{class i{constructor(e,n,r){this._dir=e,this._changeDetectorRef=n,this._elementRef=r,this._destroyed=new Be,this.steps=new bo,this._sortedHeaders=new bo,this._linear=!1,this._selectedIndex=0,this.selectionChange=new we,this._orientation="horizontal",this._groupId=EJ++}get linear(){return this._linear}set linear(e){this._linear=wt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const n=og(e);this.steps&&this._steps?(this._isValidIndex(n),this.selected?._markAsInteracted(),this._selectedIndex!==n&&!this._anyControlsInvalidOrPending(n)&&(n>=this._selectedIndex||this.steps.toArray()[n].editable)&&this._updateSelectedItemIndex(n)):this._selectedIndex=n}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe(In(this._steps),Vt(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(In(this._stepHeader),Vt(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,r)=>n._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new lg(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Ve()).pipe(In(this._layoutDirection()),Vt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const n=e-this._selectedIndex;return n<0?"rtl"===this._layoutDirection()?"next":"previous":n>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,n="number"){const r=this.steps.toArray()[e],s=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,s):this._getGuidelineLogic(r,s,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?"error":!e.completed||n?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,n,r="number"){return e._showError()&&e.hasError&&!n?"error":e.completed&&!n?"done":e.completed&&n?r:e.editable&&n?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const n=Fi(e),r=e.keyCode,s=this._keyManager;null==s.activeItemIndex||n||32!==r&&13!==r?s.onKeydown(e):(this.selectedIndex=s.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(n=>{const r=n.stepControl;return(r?r.invalid||r.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,n=eg();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return i.\u0275fac=function(e){return new(e||i)(D(ds,8),D($n),D(mt))},i.\u0275dir=ue({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,cw,5),Ht(r,lF,5)),2&e){let s;We(s=$e())&&(n._steps=s),We(s=$e())&&(n._stepHeader=s)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),i})(),TJ=(()=>{class i{constructor(e){this._stepper=e,this.type="submit"}}return i.\u0275fac=function(e){return new(e||i)(D(Jh))},i.\u0275dir=ue({type:i,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,n){1&e&&ke("click",function(){return n._stepper.next()}),2&e&&as("type",n.type)},inputs:{type:"type"}}),i})(),PJ=(()=>{class i{constructor(e){this._stepper=e,this.type="button"}}return i.\u0275fac=function(e){return new(e||i)(D(Jh))},i.\u0275dir=ue({type:i,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,n){1&e&&ke("click",function(){return n._stepper.previous()}),2&e&&as("type",n.type)},inputs:{type:"type"}}),i})(),AJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[hu]}),i})(),IJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[mu,tn,tn]}),i})();function OJ(i,t){if(1&i&&vo(0,8),2&i){const e=Ae();Y("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function RJ(i,t){if(1&i&&(N(0,"span",13),Q(1),k()),2&i){const e=Ae(2);W(1),Pn(e._getDefaultTextForState(e.state))}}function NJ(i,t){if(1&i&&(N(0,"span",14),Q(1),k()),2&i){const e=Ae(2);W(1),Pn(e._intl.completedLabel)}}function kJ(i,t){if(1&i&&(N(0,"span",14),Q(1),k()),2&i){const e=Ae(2);W(1),Pn(e._intl.editableLabel)}}function FJ(i,t){if(1&i&&(N(0,"mat-icon",13),Q(1),k()),2&i){const e=Ae(2);W(1),Pn(e._getDefaultTextForState(e.state))}}function LJ(i,t){if(1&i&&(bi(0,9),be(1,RJ,2,1,"span",10),be(2,NJ,2,1,"span",11),be(3,kJ,2,1,"span",11),be(4,FJ,2,1,"mat-icon",12),Mi()),2&i){const e=Ae();Y("ngSwitch",e.state),W(1),Y("ngSwitchCase","number"),W(1),Y("ngIf","done"===e.state),W(1),Y("ngIf","edit"===e.state)}}function BJ(i,t){if(1&i&&(N(0,"div",15),vo(1,16),k()),2&i){const e=Ae();W(1),Y("ngTemplateOutlet",e._templateLabel().template)}}function VJ(i,t){if(1&i&&(N(0,"div",15),Q(1),k()),2&i){const e=Ae();W(1),Pn(e.label)}}function zJ(i,t){if(1&i&&(N(0,"div",17),Q(1),k()),2&i){const e=Ae();W(1),Pn(e._intl.optionalLabel)}}function HJ(i,t){if(1&i&&(N(0,"div",18),Q(1),k()),2&i){const e=Ae();W(1),Pn(e.errorMessage)}}function UJ(i,t){}function GJ(i,t){if(1&i&&(xt(0),be(1,UJ,0,0,"ng-template",0)),2&i){const e=Ae();W(1),Y("cdkPortalOutlet",e._portal)}}const jJ=["*"];function WJ(i,t){1&i&&qe(0,"div",11)}const dF=function(i,t){return{step:i,i:t}};function $J(i,t){if(1&i&&(bi(0),vo(1,9),be(2,WJ,1,0,"div",10),Mi()),2&i){const e=t.$implicit,n=t.index,r=t.last;Ae(2);const s=Tn(4);W(1),Y("ngTemplateOutlet",s)("ngTemplateOutletContext",Wc(3,dF,e,n)),W(1),Y("ngIf",!r)}}const hF=function(i){return{animationDuration:i}},fF=function(i,t){return{value:i,params:t}};function qJ(i,t){if(1&i){const e=Fn();N(0,"div",12),ke("@horizontalStepTransition.done",function(r){return qt(e),Yt(Ae(2)._animationDone.next(r))}),vo(1,13),k()}if(2&i){const e=t.$implicit,n=t.index,r=Ae(2);Y("@horizontalStepTransition",Wc(7,fF,r._getAnimationDirection(n),Ri(5,hF,r._getAnimationDuration())))("id",r._getStepContentId(n)),At("aria-labelledby",r._getStepLabelId(n))("aria-expanded",r.selectedIndex===n),W(1),Y("ngTemplateOutlet",e.content)}}function YJ(i,t){if(1&i&&(N(0,"div",4)(1,"div",5),be(2,$J,3,6,"ng-container",6),k(),N(3,"div",7),be(4,qJ,2,10,"div",8),k()()),2&i){const e=Ae();W(2),Y("ngForOf",e.steps),W(2),Y("ngForOf",e.steps)}}function XJ(i,t){if(1&i){const e=Fn();N(0,"div",15),vo(1,9),N(2,"div",16)(3,"div",17),ke("@verticalStepTransition.done",function(r){return qt(e),Yt(Ae(2)._animationDone.next(r))}),N(4,"div",18),vo(5,13),k()()()()}if(2&i){const e=t.$implicit,n=t.index,r=t.last,s=Ae(2),o=Tn(4);W(1),Y("ngTemplateOutlet",o)("ngTemplateOutletContext",Wc(9,dF,e,n)),W(1),vn("mat-stepper-vertical-line",!r),W(1),Y("@verticalStepTransition",Wc(14,fF,s._getAnimationDirection(n),Ri(12,hF,s._getAnimationDuration())))("id",s._getStepContentId(n)),At("aria-labelledby",s._getStepLabelId(n))("aria-expanded",s.selectedIndex===n),W(2),Y("ngTemplateOutlet",e.content)}}function KJ(i,t){if(1&i&&(bi(0),be(1,XJ,6,17,"div",14),Mi()),2&i){const e=Ae();W(1),Y("ngForOf",e.steps)}}function ZJ(i,t){if(1&i){const e=Fn();N(0,"mat-step-header",19),ke("click",function(){return Yt(qt(e).step.select())})("keydown",function(r){return qt(e),Yt(Ae()._onKeydown(r))}),k()}if(2&i){const e=t.step,n=t.i,r=Ae();vn("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),Y("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===n)("active",r._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(n,e))("color",e.color||r.color),At("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(n,e)||null)}}let e_=(()=>{class i extends cF{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,selectors:[["","matStepLabel",""]],features:[ye]}),i})(),t_=(()=>{class i{constructor(){this.changes=new Be,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const JJ={provide:t_,deps:[[new ts,new Wa,t_]],useFactory:function QJ(i){return i||new t_}},eee=Ih(class extends lF{constructor(t){super(t)}},"primary");let pF=(()=>{class i extends eee{constructor(e,n,r,s){super(r),this._intl=e,this._focusMonitor=n,this._intlSubscription=e.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof e_?null:this.label}_templateLabel(){return this.label instanceof e_?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return i.\u0275fac=function(e){return new(e||i)(D(t_),D(ca),D(mt),D($n))},i.\u0275cmp=Ge({type:i,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[ye],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,n){1&e&&(qe(0,"div",0),N(1,"div")(2,"div",1),be(3,OJ,1,2,"ng-container",2),be(4,LJ,5,4,"ng-container",3),k()(),N(5,"div",4),be(6,BJ,2,1,"div",5),be(7,VJ,2,1,"div",5),be(8,zJ,2,1,"div",6),be(9,HJ,2,1,"div",7),k()),2&e&&(Y("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),W(1),Kb("mat-step-icon-state-",n.state," mat-step-icon"),vn("mat-step-icon-selected",n.selected),W(1),Y("ngSwitch",!(!n.iconOverrides||!n.iconOverrides[n.state])),W(1),Y("ngSwitchCase",!0),W(2),vn("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error","error"==n.state),W(1),Y("ngIf",n._templateLabel()),W(1),Y("ngIf",n._stringLabel()),W(1),Y("ngIf",n.optional&&"error"!=n.state),W(1),Y("ngIf","error"==n.state))},dependencies:[Bn,Cm,rl,uh,W0,ua,pu],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),i})();const _F={horizontalStepTransition:da("horizontalStepTransition",[ur("previous",On({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),ur("current",On({transform:"none",visibility:"inherit"})),ur("next",On({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),hs("* => *",zs("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:da("verticalStepTransition",[ur("previous",On({height:"0px",visibility:"hidden"})),ur("next",On({height:"0px",visibility:"hidden"})),ur("current",On({height:"*",visibility:"inherit"})),hs("* <=> current",zs("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let tee=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(D(Ci))},i.\u0275dir=ue({type:i,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),i})(),nee=(()=>{class i{constructor(e){this._template=e}}return i.\u0275fac=function(e){return new(e||i)(D(Ci))},i.\u0275dir=ue({type:i,selectors:[["ng-template","matStepContent",""]]}),i})(),yF=(()=>{class i extends cw{constructor(e,n,r,s){super(e,s),this._errorStateMatcher=n,this._viewContainerRef=r,this._isSelected=Ut.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(ni(()=>this._stepper.selectionChange.pipe(Je(e=>e.selectedStep===this),In(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new bu(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){return this._errorStateMatcher.isErrorState(e,n)||!!(e&&e.invalid&&this.interacted)}}return i.\u0275fac=function(e){return new(e||i)(D($t(()=>vF)),D(fu,4),D(Ni),D(uF,8))},i.\u0275cmp=Ge({type:i,selectors:[["mat-step"]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,e_,5),Ht(r,nee,5)),2&e){let s;We(s=$e())&&(n.stepLabel=s.first),We(s=$e())&&(n._lazyContent=s.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[nt([{provide:fu,useExisting:i},{provide:cw,useExisting:i}]),ye],ngContentSelectors:jJ,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,n){1&e&&(jt(),be(0,GJ,2,1,"ng-template"))},dependencies:[Zg],encapsulation:2,changeDetection:0}),i})(),vF=(()=>{class i extends Jh{constructor(e,n,r){super(e,n,r),this.steps=new bo,this.animationDone=new we,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Be,this._animationDuration="";const s=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===s?"vertical":"horizontal"}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe(Vt(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(cu((e,n)=>e.fromState===n.fromState&&e.toState===n.toState),Vt(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return i.\u0275fac=function(e){return new(e||i)(D(ds,8),D($n),D(mt))},i.\u0275cmp=Ge({type:i,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,yF,5),Ht(r,tee,5)),2&e){let s;We(s=$e())&&(n._steps=s),We(s=$e())&&(n._icons=s)}},viewQuery:function(e,n){if(1&e&&mn(pF,5),2&e){let r;We(r=$e())&&(n._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,n){2&e&&(At("aria-orientation",n.orientation),vn("mat-stepper-horizontal","horizontal"===n.orientation)("mat-stepper-vertical","vertical"===n.orientation)("mat-stepper-label-position-end","horizontal"===n.orientation&&"end"==n.labelPosition)("mat-stepper-label-position-bottom","horizontal"===n.orientation&&"bottom"==n.labelPosition)("mat-stepper-header-position-bottom","bottom"===n.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[nt([{provide:Jh,useExisting:i}]),ye],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,n){1&e&&(bi(0,0),be(1,YJ,5,2,"div",1),be(2,KJ,2,1,"ng-container",2),Mi(),be(3,ZJ,1,23,"ng-template",null,3,ia)),2&e&&(Y("ngSwitch",n.orientation),W(1),Y("ngSwitchCase","horizontal"),W(1),Y("ngSwitchCase","vertical"))},dependencies:[Fs,Bn,Cm,rl,uh,pF],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[_F.horizontalStepTransition,_F.verticalStepTransition]},changeDetection:0}),i})(),iee=(()=>{class i extends TJ{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,n){2&e&&as("type",n.type)},inputs:{type:"type"},features:[ye]}),i})(),ree=(()=>{class i extends PJ{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,n){2&e&&as("type",n.type)},inputs:{type:"type"},features:[ye]}),i})(),see=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[JJ,fu],imports:[tn,So,$h,IJ,AJ,OR,mu,tn]}),i})();const oee=["panel"];function aee(i,t){if(1&i&&(N(0,"div",0,1),xt(2),k()),2&i){const e=t.id,n=Ae();Y("id",n.id)("ngClass",n._classList),At("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(e))}}const lee=["*"];let cee=0;class uee{constructor(t,e){this.source=t,this.option=e}}const dee=fl(class{}),bF=new he("mat-autocomplete-default-options",{providedIn:"root",factory:function hee(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let fee=(()=>{class i extends dee{constructor(e,n,r,s){super(),this._changeDetectorRef=e,this._elementRef=n,this._activeOptionChanges=Ut.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new we,this.opened=new we,this.closed=new we,this.optionActivated=new we,this._classList={},this.id="mat-autocomplete-"+cee++,this.inertGroups=s?.SAFARI||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption,this._autoSelectActiveOption=!!r.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=wt(e)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(e){this._autoSelectActiveOption=wt(e)}set classList(e){this._classList=e&&e.length?function Z$(i,t=/\s+/){const e=[];if(null!=i){const n=Array.isArray(i)?i:`${i}`.split(t);for(const r of n){const s=`${r}`.trim();s&&e.push(s)}}return e}(e).reduce((n,r)=>(n[r]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new lR(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const n=new uee(this,e);this.optionSelected.emit(n)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}return i.\u0275fac=function(e){return new(e||i)(D($n),D(mt),D(bF),D(cr))},i.\u0275dir=ue({type:i,viewQuery:function(e,n){if(1&e&&(mn(Ci,7),mn(oee,5)),2&e){let r;We(r=$e())&&(n.template=r.first),We(r=$e())&&(n.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[ye]}),i})(),pee=(()=>{class i extends fee{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,ex,5),Ht(r,fg,5)),2&e){let s;We(s=$e())&&(n.optionGroups=s),We(s=$e())&&(n.options=s)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[nt([{provide:JM,useExisting:i}]),ye],ngContentSelectors:lee,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,n){1&e&&(jt(),be(0,aee,3,4,"ng-template"))},dependencies:[ks],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),i})();const MF=new he("mat-autocomplete-scroll-strategy"),gee={provide:MF,deps:[Ur],useFactory:function mee(i){return()=>i.scrollStrategies.reposition()}},_ee={provide:Dr,useExisting:$t(()=>xF),multi:!0};let yee=(()=>{class i{constructor(e,n,r,s,o,a,l,c,u,d,h){this._element=e,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ut.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Be,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Kc(()=>{const f=this.autocomplete?this.autocomplete.options:null;return f?f.changes.pipe(In(f),ni(()=>di(...f.map(p=>p.onSelectionChange)))):this._zone.onStable.pipe(wn(1),ni(()=>this.optionSelections))}),this._scrollStrategy=a}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=wt(e)}ngAfterViewInit(){const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return di(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(an(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(an(()=>this._overlayAttached)):Ve()).pipe(Je(e=>e instanceof SR?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return di(js(this._document,"click"),js(this._document,"auxclick"),js(this._document,"touchend")).pipe(an(e=>{const n=Vr(e),r=this._formField?this._formField._elementRef.nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const n=e.keyCode,r=Fi(e);if(27===n&&!r&&e.preventDefault(),this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):o&&this._canOpen()&&this.openPanel(),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let n=e.target,r=n.value;"number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return di(this._zone.onStable.pipe(wn(1)),this.autocomplete.options.changes.pipe(Wt(()=>this._positionStrategy.reapplyLastPosition()),nw(0))).pipe(ni(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),wn(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(e){const n=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e;this._updateNativeInputValue(n??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const n=e?e.source:this._pendingAutoselectedOption;n&&(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),this.autocomplete._emitSelectEvent(n),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(n=>{n!==e&&n.selected&&n.deselect()})}_attachOverlay(){let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new bu(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,this._handleOverlayEvents(e),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new Xh({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],e.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const n=this.autocomplete,r=tx(e,n.options,n.optionGroups);if(0===e&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[e];if(s){const o=s._getHostElement(),a=DR(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(a)}}}_handleOverlayEvents(e){e.keydownEvents().subscribe(n=>{(27===n.keyCode&&!Fi(n)||38===n.keyCode&&Fi(n,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),n.stopPropagation(),n.preventDefault())}),e.outsidePointerEvents().subscribe()}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(Ur),D(Ni),D(ot),D($n),D(MF),D(ds,8),D(Zx,9),D(ut,8),D(Yh),D(bF,8))},i.\u0275dir=ue({type:i,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[Wn]}),i})(),xF=(()=>{class i extends yee{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,n){1&e&&ke("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(s){return n._handleInput(s)})("keydown",function(s){return n._handleKeydown(s)})("click",function(){return n._handleClick()}),2&e&&At("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-owns",n.autocompleteDisabled||!n.panelOpen||null==n.autocomplete?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[nt([_ee]),ye]}),i})(),vee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[gee],imports:[Zh,pg,tn,So,Mu,pg,tn]}),i})();const bee=["fruitInput"];function Mee(i,t){if(1&i){const e=Fn();N(0,"mat-chip",8),ke("removed",function(){const s=qt(e).$implicit;return Yt(Ae().remove(s.title))}),Q(1),N(2,"button",9)(3,"mat-icon"),Q(4,"cancel"),k()()()}if(2&i){const e=t.$implicit;Ja("background-color","#".concat(e.color)),W(1),wr(" ",e.title," ")}}function xee(i,t){if(1&i&&(N(0,"mat-option",10),Q(1),k()),2&i){const e=t.$implicit;Y("value",e),W(1),wr(" ",e," ")}}let wee=(()=>{class i{constructor(e){this.galleryService=e,this.selectedTagIds=new we,this.separatorKeysCodes=[13,188],this.tagCtrl=new fs(""),this.tags=[],this.allTags=[],this.allTagsTitle=[],e.getAllTags().subscribe(n=>{this.allTagsTitle=n.map(r=>r.title),this.allTags=n}),this.filteredTags=this.tagCtrl.valueChanges.pipe(Je(n=>n?this._filter(n):this.allTagsTitle.slice()))}ngOnInit(){}add(e){const n=(e.value||"").trim();let r=this.allTagsTitle.indexOf(n);n&&r>-1&&this.chooseTag(this.allTags[r]),e.chipInput.clear(),this.tagCtrl.setValue(null)}remove(e){const n=this.tags.map(r=>r.title).indexOf(e);n>=0&&this.tags.splice(n,1)}selected(e){this.chooseTag(this.allTags[this.allTagsTitle.indexOf(e.option.viewValue)]),this.fruitInput.nativeElement.value="",this.tagCtrl.setValue(null)}chooseTag(e){-1==this.tags.indexOf(e)&&(this.tags.push(e),this.selectedTagIds.emit(this.tags.map(n=>n.id)))}_filter(e){const n=e.toLowerCase();return this.allTags.map(function(r){return r.title}).filter(r=>r.toLowerCase().includes(n))}}return i.\u0275fac=function(e){return new(e||i)(D(yl))},i.\u0275cmp=Ge({type:i,selectors:[["app-search-tags"]],viewQuery:function(e,n){if(1&e&&mn(bee,5),2&e){let r;We(r=$e())&&(n.fruitInput=r.first)}},outputs:{selectedTagIds:"selectedTagIds"},decls:9,vars:8,consts:[["placeholder","New category...",1,"w-100","custom_input",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["fruitInput",""],["aria-label","Fruit selection"],["chipList",""],["class","font-secondary-c",3,"background-color","removed",4,"ngFor","ngForOf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"font-secondary-c",3,"removed"],["matChipRemove",""],[3,"value"]],template:function(e,n){if(1&e&&(N(0,"input",0,1),ke("matChipInputTokenEnd",function(s){return n.add(s)}),k(),N(2,"mat-chip-list",2,3),be(4,Mee,5,3,"mat-chip",4),k(),N(5,"mat-autocomplete",5,6),ke("optionSelected",function(s){return n.selected(s)}),be(7,xee,2,2,"mat-option",7),a0(8,"async"),k()),2&e){const r=Tn(3),s=Tn(6);Y("formControl",n.tagCtrl)("matAutocomplete",s)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),W(4),Y("ngForOf",n.tags),W(3),Y("ngForOf",l0(8,6,n.filteredTags))}},dependencies:[Fs,ua,bl,Bh,jx,pee,xF,fg,Yg,vu,kk,Qx,$0]}),i})(),wF=(()=>{class i{constructor(){}cleanB64AndToBlob(e){var n=e.split(/[,;:]/);return("data"!=n[0]||"base64"!=n[2])&&console.error("something wrong here"+n),this.b64ToBlob(n[3],n[1])}b64ToBlob(e,n="",r=512){const s=atob(e),o=[];for(let l=0;l<s.length;l+=r){const c=s.slice(l,l+r),u=new Array(c.length);for(let h=0;h<c.length;h++)u[h]=c.charCodeAt(h);const d=new Uint8Array(u);o.push(d)}return new Blob(o,{type:n})}blobToBase64(e){return new Promise((n,r)=>{const s=new FileReader;s.onloadend=()=>n(s.result?.toString()??""),s.readAsDataURL(e)})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Cee{constructor(t,e){"string"==typeof t&&(t=(new wF).cleanB64AndToBlob(t)),this.blob=t,this.filetype=e}}let CF=(()=>{class i{constructor(e){this.galeryService=e,this.acceptedMediaTypes="",this.fileSize=9999999999999,this.fileOutput=new we}ngOnInit(){}fileChange(e){if(this.inputCheck(e)){var n="";if(console.log(e.target.files[0]),e.target.files&&e.target.files[0]){var r=new FileReader;n=e.target.files[0].name.match(/\.(\w+)$/)[0].substring(1).toLowerCase(),r.onload=s=>{console.log(s),this.fileOutput.emit(new Cee(s.target.result,n))},r.readAsDataURL(e.target.files[0])}}else this.fileOutput.emit(void 0)}inputCheck(e){if(!e.target.files[0]||!e.target.files[0].size)return!1;if(this.acceptedMediaTypes){var n=new RegExp(/(\w+)(?=\|)/g),r=this.galeryService.getSupportedFiletypes(this.acceptedMediaTypes).join("|").concat("|").match(n)??[];if(console.log(r),n=new RegExp(`/.(${r.join("|")})/`),console.log(n),!this.acceptedMediaTypes.includes(e.target.files[0].type)||e.target.files[0].name.match(n))return alert("We currently doesn't support this filetype"),!1}return!(this.fileSize&&e.target.files[0].size>this.fileSize&&(alert("The file exceeds the size of the limit "+this.fileSize+"b"),1))}}return i.\u0275fac=function(e){return new(e||i)(D(yl))},i.\u0275cmp=Ge({type:i,selectors:[["app-file-upload"]],inputs:{acceptedMediaTypes:"acceptedMediaTypes",fileSize:"fileSize"},outputs:{fileOutput:"fileOutput"},decls:5,vars:2,consts:[["type","file","id","iFile",3,"accept","change"],[2,"font-size","1em"]],template:function(e,n){if(1&e&&(N(0,"input",0),ke("change",function(s){return n.fileChange(s)}),k(),N(1,"p",1),Q(2,"Supported file types: "),qe(3,"br"),Q(4),k()),2&e){let r;Y("accept",n.acceptedMediaTypes),W(4),Pn(null!==(r=null==(r=n.galeryService.getSupportedFiletypes(n.acceptedMediaTypes))?null:r.join(","))&&void 0!==r?r:"")}}}),i})(),See=(()=>{class i{constructor(){this.selectedTagIds=[]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-create-exhibition-metadata"]],decls:16,vars:0,consts:[[1,"d-flex","my-3","justify-content-center"],["id","exhibition_name_icon",1,"me-2"],["type","text","placeholder","Exhibition Name *","id","exhibition_name"],[1,"my-3"],[3,"selectedTagIds"],[1,"w-100","custom_input"]],template:function(e,n){1&e&&(N(0,"div",0)(1,"mat-icon",1),Q(2,"mode_edit"),k(),qe(3,"input",2),k(),N(4,"div",3)(5,"h4"),Q(6,"Upload Thumbnail"),k(),qe(7,"app-file-upload"),k(),N(8,"div",3)(9,"h4"),Q(10,"Select Categories"),k(),N(11,"app-search-tags",4),ke("selectedTagIds",function(s){return n.selectedTagIds=s}),k()(),N(12,"div",3)(13,"h4"),Q(14,"Write a Description"),k(),qe(15,"textarea",5),k())},dependencies:[ua,wee,CF],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}#exhibition_name[_ngcontent-%COMP%]{background-color:#eee;border:0;width:50%;font-size:4rem}#exhibition_name[_ngcontent-%COMP%]:focus-visible{outline:none}#exhibition_name_icon[_ngcontent-%COMP%]{font-size:4rem;width:auto;height:auto}']}),i})();function Dee(i,t){if(1&i&&(N(0,"div",1),qe(1,"img",2),N(2,"div",3)(3,"p",4),Q(4),k(),N(5,"p",5),Q(6),k()()()),2&i){const e=Ae();W(1),zc("src",e.room.room_img_url,xc),W(3),Pn(e.room.name),W(2),wr("",e.room.position_amount," Size*")}}let Eee=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-room-card"]],inputs:{room:"room"},decls:1,vars:1,consts:[["id","room-card-wrapper","class","most-rounded bg-secondary-c shadow mb-2","style","min-width: 220px; width: 10vw",4,"ngIf"],["id","room-card-wrapper",1,"most-rounded","bg-secondary-c","shadow","mb-2",2,"min-width","220px","width","10vw"],[1,"most-rounded-top","w-100",2,"object-fit","cover","aspect-ratio","16/10",3,"src"],[1,"d-flex","p-2","justify-content-between","font-secondary-c"],[1,"text-two-wrap","fw-bold","w-100"],[1,"text-two-wrap","w-100",2,"text-align","right"]],template:function(e,n){1&e&&be(0,Dee,7,3,"div",0),2&e&&Y("ngIf",n.room)},dependencies:[Bn],styles:[".text-two-wrap[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:1.2rem}"]}),i})();function SF(i,t,e,n,r,s,o){try{var a=i[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(n,r)}const Dl=1e3,Yi=1001,si=1003,Vn=1006,ya=1008,El=1009,Tl=1014,va=1015,rf=1016,Cu=1020,ps=1023,Pl=1026,Su=1027,sf=2300,Du=2301,ba=3e3,nn=3001,ko="srgb",Il="srgb-linear";class qs{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const s=r.indexOf(e);-1!==s&&r.splice(s,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const n=this._listeners[t.type];if(void 0!==n){t.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,t);t.target=null}}}const Li=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let lL=1234567;const Ol=Math.PI/180,af=180/Math.PI;function Er(){const i=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Li[255&i]+Li[i>>8&255]+Li[i>>16&255]+Li[i>>24&255]+"-"+Li[255&t]+Li[t>>8&255]+"-"+Li[t>>16&15|64]+Li[t>>24&255]+"-"+Li[63&e|128]+Li[e>>8&255]+"-"+Li[e>>16&255]+Li[e>>24&255]+Li[255&n]+Li[n>>8&255]+Li[n>>16&255]+Li[n>>24&255]).toLowerCase()}function Yn(i,t,e){return Math.max(t,Math.min(e,i))}function Cw(i,t){return(i%t+t)%t}function lf(i,t,e){return(1-e)*i+e*t}function Sw(i){return 0==(i&i-1)&&0!==i}function cL(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function l_(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}var dr=Object.freeze({__proto__:null,DEG2RAD:Ol,RAD2DEG:af,generateUUID:Er,clamp:Yn,euclideanModulo:Cw,mapLinear:function Ste(i,t,e,n,r){return n+(i-t)*(r-n)/(e-t)},inverseLerp:function Dte(i,t,e){return i!==t?(e-i)/(t-i):0},lerp:lf,damp:function Ete(i,t,e,n){return lf(i,t,1-Math.exp(-e*n))},pingpong:function Tte(i,t=1){return t-Math.abs(Cw(i,2*t)-t)},smoothstep:function Pte(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t))*i*(3-2*i)},smootherstep:function Ate(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t))*i*i*(i*(6*i-15)+10)},randInt:function Ite(i,t){return i+Math.floor(Math.random()*(t-i+1))},randFloat:function Ote(i,t){return i+Math.random()*(t-i)},randFloatSpread:function Rte(i){return i*(.5-Math.random())},seededRandom:function Nte(i){void 0!==i&&(lL=i);let t=lL+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function kte(i){return i*Ol},radToDeg:function Fte(i){return i*af},isPowerOfTwo:Sw,ceilPowerOfTwo:cL,floorPowerOfTwo:l_,setQuaternionFromProperEuler:function Lte(i,t,e,n,r){const s=Math.cos,o=Math.sin,a=s(e/2),l=o(e/2),c=s((t+n)/2),u=o((t+n)/2),d=s((t-n)/2),h=o((t-n)/2),f=s((n-t)/2),p=o((n-t)/2);switch(r){case"XYX":i.set(a*u,l*d,l*h,a*c);break;case"YZY":i.set(l*h,a*u,l*d,a*c);break;case"ZXZ":i.set(l*d,l*h,a*u,a*c);break;case"XZX":i.set(a*u,l*p,l*f,a*c);break;case"YXY":i.set(l*f,a*u,l*p,a*c);break;case"ZYZ":i.set(l*p,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:function Vte(i,t){switch(t.constructor){case Float32Array:return i;case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}},denormalize:function Bte(i,t){switch(t.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}});class q{constructor(t=0,e=0){q.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),s=this.x-t.x,o=this.y-t.y;return this.x=s*n-o*r+t.x,this.y=s*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Tr{constructor(){Tr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,s,o,a,l,c){const u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=s,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],d=n[7],h=n[2],f=n[5],p=n[8],m=r[0],g=r[3],_=r[6],y=r[1],v=r[4],b=r[7],x=r[2],w=r[5],A=r[8];return s[0]=o*m+a*y+l*x,s[3]=o*g+a*v+l*w,s[6]=o*_+a*b+l*A,s[1]=c*m+u*y+d*x,s[4]=c*g+u*v+d*w,s[7]=c*_+u*b+d*A,s[2]=h*m+f*y+p*x,s[5]=h*g+f*v+p*w,s[8]=h*_+f*b+p*A,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-n*s*u+n*a*l+r*s*c-r*o*l}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,p=e*d+n*h+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=d*m,t[1]=(r*c-u*n)*m,t[2]=(a*n-r*o)*m,t[3]=h*m,t[4]=(u*e-r*l)*m,t[5]=(r*s-a*e)*m,t[6]=f*m,t[7]=(n*l-c*e)*m,t[8]=(o*e-n*s)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+t,-r*c,r*l,-r*(-c*o+l*a)+a+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=e*s+n*l,r[3]=e*o+n*c,r[6]=e*a+n*u,r[1]=-n*s+e*l,r[4]=-n*o+e*c,r[7]=-n*a+e*u,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function uL(i){for(let t=i.length-1;t>=0;--t)if(i[t]>65535)return!0;return!1}function cf(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function Rl(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function c_(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const Dw={[ko]:{[Il]:Rl},[Il]:{[ko]:c_}},$r={legacyMode:!0,get workingColorSpace(){return Il},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,t,e){if(this.legacyMode||t===e||!t||!e)return i;if(Dw[t]&&void 0!==Dw[t][e]){const n=Dw[t][e];return i.r=n(i.r),i.g=n(i.g),i.b=n(i.b),i}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(i,t){return this.convert(i,this.workingColorSpace,t)},toWorkingColorSpace:function(i,t){return this.convert(i,t,this.workingColorSpace)}},dL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yi={r:0,g:0,b:0},ms={h:0,s:0,l:0},u_={h:0,s:0,l:0};function Ew(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+6*(t-i)*(2/3-e):i}function d_(i,t){return t.r=i.r,t.g=i.g,t.b=i.b,t}let Au,xe=(()=>{class i{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ko){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,$r.toWorkingColorSpace(this,n),this}setRGB(e,n,r,s=Il){return this.r=e,this.g=n,this.b=r,$r.toWorkingColorSpace(this,s),this}setHSL(e,n,r,s=Il){if(e=Cw(e,1),n=Yn(n,0,1),r=Yn(r,0,1),0===n)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=Ew(a,o,e+1/3),this.g=Ew(a,o,e),this.b=Ew(a,o,e-1/3)}return $r.toWorkingColorSpace(this,s),this}setStyle(e,n=ko){function r(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const l=s[2];switch(s[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,$r.toWorkingColorSpace(this,n),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,$r.toWorkingColorSpace(this,n),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(o[1])/360,u=parseInt(o[2],10)/100,d=parseInt(o[3],10)/100;return r(o[4]),this.setHSL(c,u,d,n)}}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=s[1],a=o.length;if(3===a)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,$r.toWorkingColorSpace(this,n),this;if(6===a)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,$r.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=ko){const r=dL[e.toLowerCase()];return void 0!==r?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rl(e.r),this.g=Rl(e.g),this.b=Rl(e.b),this}copyLinearToSRGB(e){return this.r=c_(e.r),this.g=c_(e.g),this.b=c_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ko){return $r.fromWorkingColorSpace(d_(this,yi),e),Yn(255*yi.r,0,255)<<16^Yn(255*yi.g,0,255)<<8^Yn(255*yi.b,0,255)<<0}getHexString(e=ko){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Il){$r.fromWorkingColorSpace(d_(this,yi),n);const r=yi.r,s=yi.g,o=yi.b,a=Math.max(r,s,o),l=Math.min(r,s,o);let c,u;const d=(l+a)/2;if(l===a)c=0,u=0;else{const h=a-l;switch(u=d<=.5?h/(a+l):h/(2-a-l),a){case r:c=(s-o)/h+(s<o?6:0);break;case s:c=(o-r)/h+2;break;case o:c=(r-s)/h+4}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=Il){return $r.fromWorkingColorSpace(d_(this,yi),n),e.r=yi.r,e.g=yi.g,e.b=yi.b,e}getStyle(e=ko){return $r.fromWorkingColorSpace(d_(this,yi),e),e!==ko?`color(${e} ${yi.r} ${yi.g} ${yi.b})`:`rgb(${255*yi.r|0},${255*yi.g|0},${255*yi.b|0})`}offsetHSL(e,n,r){return this.getHSL(ms),ms.h+=e,ms.s+=n,ms.l+=r,this.setHSL(ms.h,ms.s,ms.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ms),e.getHSL(u_);const r=lf(ms.h,u_.h,n),s=lf(ms.s,u_.s,n),o=lf(ms.l,u_.l,n);return this.setHSL(r,s,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return i.NAMES=dL,i})();class hL{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Au&&(Au=cf("canvas")),Au.width=t.width,Au.height=t.height;const n=Au.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Au}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=cf("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*Rl(s[o]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*Rl(e[n]/255)):Rl(e[n]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class Iu{constructor(t=null){this.isSource=!0,this.uuid=Er(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(Tw(r[o].isDataTexture?r[o].image:r[o]))}else s=Tw(r);n.url=s}return e||(t.images[this.uuid]=n),n}}function Tw(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?hL.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Hte=0,qr=(()=>{class i extends qs{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,r=Yi,s=Yi,o=Vn,a=ya,l=ps,c=El,u=1,d=ba){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Hte++}),this.uuid=Er(),this.name="",this.source=new Iu(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new q(0,0),this.repeat=new q(1,1),this.center=new q(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Dl:e.x=e.x-Math.floor(e.x);break;case Yi:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Dl:e.y=e.y-Math.floor(e.y);break;case Yi:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i})();class dn{constructor(t=0,e=0,n=0,r=1){dn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,s;const l=t.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],m=l[2],g=l[6],_=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+m)<.1&&Math.abs(p+g)<.1&&Math.abs(c+f+_-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const v=(c+1)/2,b=(f+1)/2,x=(_+1)/2,w=(u+h)/4,A=(d+m)/4,M=(p+g)/4;return v>b&&v>x?v<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(v),r=w/n,s=A/n):b>x?b<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),n=w/r,s=M/r):x<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(x),n=A/s,r=M/s),this.set(n,r,s,e),this}let y=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m)+(h-u)*(h-u));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(d-m)/y,this.z=(h-u)/y,this.w=Math.acos((c+f+_-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Xi extends qs{constructor(t,e,n={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new dn(0,0,t,e),this.scissorTest=!1,this.viewport=new dn(0,0,t,e),this.texture=new qr({width:t,height:e,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Vn,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(t,e,n=1){(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Iu(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Pw extends qr{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=si,this.minFilter=si,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fL extends qr{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=si,this.minFilter=si,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zn{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,r)}static slerpFlat(t,e,n,r,s,o,a){let l=n[r+0],c=n[r+1],u=n[r+2],d=n[r+3];const h=s[o+0],f=s[o+1],p=s[o+2],m=s[o+3];if(0===a)return t[e+0]=l,t[e+1]=c,t[e+2]=u,void(t[e+3]=d);if(1===a)return t[e+0]=h,t[e+1]=f,t[e+2]=p,void(t[e+3]=m);if(d!==m||l!==h||c!==f||u!==p){let g=1-a;const _=l*h+c*f+u*p+d*m,y=_>=0?1:-1,v=1-_*_;if(v>Number.EPSILON){const x=Math.sqrt(v),w=Math.atan2(x,_*y);g=Math.sin(g*w)/x,a=Math.sin(a*w)/x}const b=a*y;if(l=l*g+h*b,c=c*g+f*b,u=u*g+p*b,d=d*g+m*b,g===1-a){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}t[e]=l,t[e+1]=c,t[e+2]=u,t[e+3]=d}static multiplyQuaternionsFlat(t,e,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],u=n[r+3],d=s[o],h=s[o+1],f=s[o+2],p=s[o+3];return t[e]=a*p+u*d+l*f-c*h,t[e+1]=l*p+u*h+c*d-a*f,t[e+2]=c*p+u*f+a*h-l*d,t[e+3]=u*p-a*d-l*h-c*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(r/2),d=a(s/2),h=l(n/2),f=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],s=e[8],o=e[1],a=e[5],l=e[9],c=e[2],u=e[6],d=e[10],h=n+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(n>a&&n>d){const f=2*Math.sqrt(1+n-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-n-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-n-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Yn(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,s=t._z,o=t._w,a=e._x,l=e._y,c=e._z,u=e._w;return this._x=n*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-n*c,this._z=s*u+o*c+n*l-r*a,this._w=o*u-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*t._w+n*t._x+r*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-e;return this._w=f*o+e*this._w,this._x=f*n+e*this._x,this._y=f*r+e*this._y,this._z=f*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-e)*u)/c,h=Math.sin(e*u)/c;return this._w=o*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(s),n*Math.cos(s),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class C{constructor(t=0,e=0,n=0){C.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pL.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(pL.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6]*r,this.y=s[1]*e+s[4]*n+s[7]*r,this.z=s[2]*e+s[5]*n+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=t.elements,o=1/(s[3]*e+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*e+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*e+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,s=t.x,o=t.y,a=t.z,l=t.w,c=l*e+o*r-a*n,u=l*n+a*e-s*r,d=l*r+s*n-o*e,h=-s*e-o*n-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*r,this.y=s[1]*e+s[5]*n+s[9]*r,this.z=s[2]*e+s[6]*n+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,s=t.z,o=e.x,a=e.y,l=e.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Aw.copy(this).projectOnVector(t),this.sub(Aw)}reflect(t){return this.sub(Aw.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Yn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Aw=new C,pL=new zn;class Ma{constructor(t=new C(1/0,1/0,1/0),e=new C(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.length;l<c;l+=3){const u=t[l],d=t[l+1],h=t[l+2];u<e&&(e=u),d<n&&(n=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(s,o,a),this}setFromBufferAttribute(t){let e=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.count;l<c;l++){const u=t.getX(l),d=t.getY(l),h=t.getZ(l);u<e&&(e=u),d<n&&(n=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(s,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Nl.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n)if(e&&null!=n.attributes&&void 0!==n.attributes.position){const s=n.attributes.position;for(let o=0,a=s.count;o<a;o++)Nl.fromBufferAttribute(s,o).applyMatrix4(t.matrixWorld),this.expandByPoint(Nl)}else null===n.boundingBox&&n.computeBoundingBox(),Iw.copy(n.boundingBox),Iw.applyMatrix4(t.matrixWorld),this.union(Iw);const r=t.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Nl),Nl.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(uf),h_.subVectors(this.max,uf),Ou.subVectors(t.a,uf),Ru.subVectors(t.b,uf),Nu.subVectors(t.c,uf),xa.subVectors(Ru,Ou),wa.subVectors(Nu,Ru),kl.subVectors(Ou,Nu);let e=[0,-xa.z,xa.y,0,-wa.z,wa.y,0,-kl.z,kl.y,xa.z,0,-xa.x,wa.z,0,-wa.x,kl.z,0,-kl.x,-xa.y,xa.x,0,-wa.y,wa.x,0,-kl.y,kl.x,0];return!(!Ow(e,Ou,Ru,Nu,h_)||(e=[1,0,0,0,1,0,0,0,1],!Ow(e,Ou,Ru,Nu,h_)))&&(f_.crossVectors(xa,wa),e=[f_.x,f_.y,f_.z],Ow(e,Ou,Ru,Nu,h_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Nl.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Nl).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Fo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Fo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Fo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Fo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Fo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Fo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Fo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Fo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Fo)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Fo=[new C,new C,new C,new C,new C,new C,new C,new C],Nl=new C,Iw=new Ma,Ou=new C,Ru=new C,Nu=new C,xa=new C,wa=new C,kl=new C,uf=new C,h_=new C,f_=new C,Fl=new C;function Ow(i,t,e,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){Fl.fromArray(i,s);const a=r.x*Math.abs(Fl.x)+r.y*Math.abs(Fl.y)+r.z*Math.abs(Fl.z),l=t.dot(Fl),c=e.dot(Fl),u=n.dot(Fl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Ute=new Ma,mL=new C,p_=new C,Rw=new C;class Ll{constructor(t=new C,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Ute.setFromPoints(t).getCenter(n);let r=0;for(let s=0,o=t.length;s<o;s++)r=Math.max(r,n.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Rw.subVectors(t,this.center);const e=Rw.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),r=.5*(n-this.radius);this.center.add(Rw.multiplyScalar(r/n)),this.radius+=r}return this}union(t){return!0===this.center.equals(t.center)?p_.set(0,0,1).multiplyScalar(t.radius):p_.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(mL.copy(t.center).add(p_)),this.expandByPoint(mL.copy(t.center).sub(p_)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Lo=new C,Nw=new C,m_=new C,Ca=new C,kw=new C,g_=new C,Fw=new C;class __{constructor(t=new C,e=new C(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Lo)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Lo.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Lo.copy(this.direction).multiplyScalar(e).add(this.origin),Lo.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){Nw.copy(t).add(e).multiplyScalar(.5),m_.copy(e).sub(t).normalize(),Ca.copy(this.origin).sub(Nw);const s=.5*t.distanceTo(e),o=-this.direction.dot(m_),a=Ca.dot(this.direction),l=-Ca.dot(m_),c=Ca.lengthSq(),u=Math.abs(1-o*o);let d,h,f,p;if(u>0)if(d=o*l-a,h=o*a-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const m=1/u;d*=m,h*=m,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(m_).multiplyScalar(h).add(Nw),f}intersectSphere(t,e){Lo.subVectors(t.center,this.origin);const n=Lo.dot(this.direction),r=Lo.dot(Lo)-n*n,s=t.radius*t.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return a<0&&l<0?null:this.at(a<0?l:a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),u>=0?(s=(t.min.y-h.y)*u,o=(t.max.y-h.y)*u):(s=(t.max.y-h.y)*u,o=(t.min.y-h.y)*u),n>o||s>r||((s>n||n!=n)&&(n=s),(o<r||r!=r)&&(r=o),d>=0?(a=(t.min.z-h.z)*d,l=(t.max.z-h.z)*d):(a=(t.max.z-h.z)*d,l=(t.min.z-h.z)*d),n>l||a>r)||((a>n||n!=n)&&(n=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return null!==this.intersectBox(t,Lo)}intersectTriangle(t,e,n,r,s){kw.subVectors(e,t),g_.subVectors(n,t),Fw.crossVectors(kw,g_);let a,o=this.direction.dot(Fw);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Ca.subVectors(this.origin,t);const l=a*this.direction.dot(g_.crossVectors(Ca,g_));if(l<0)return null;const c=a*this.direction.dot(kw.cross(Ca));if(c<0||l+c>o)return null;const u=-a*Ca.dot(Fw);return u<0?null:this.at(u/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ct{constructor(){Ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,s,o,a,l,c,u,d,h,f,p,m,g){const _=this.elements;return _[0]=t,_[4]=e,_[8]=n,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=u,_[10]=d,_[14]=h,_[3]=f,_[7]=p,_[11]=m,_[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ct).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/ku.setFromMatrixColumn(t,0).length(),s=1/ku.setFromMatrixColumn(t,1).length(),o=1/ku.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,s=t.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===t.order){const h=o*u,f=o*d,p=a*u,m=a*d;e[0]=l*u,e[4]=-l*d,e[8]=c,e[1]=f+p*c,e[5]=h-m*c,e[9]=-a*l,e[2]=m-h*c,e[6]=p+f*c,e[10]=o*l}else if("YXZ"===t.order){const h=l*u,f=l*d,p=c*u,m=c*d;e[0]=h+m*a,e[4]=p*a-f,e[8]=o*c,e[1]=o*d,e[5]=o*u,e[9]=-a,e[2]=f*a-p,e[6]=m+h*a,e[10]=o*l}else if("ZXY"===t.order){const h=l*u,f=l*d,p=c*u,m=c*d;e[0]=h-m*a,e[4]=-o*d,e[8]=p+f*a,e[1]=f+p*a,e[5]=o*u,e[9]=m-h*a,e[2]=-o*c,e[6]=a,e[10]=o*l}else if("ZYX"===t.order){const h=o*u,f=o*d,p=a*u,m=a*d;e[0]=l*u,e[4]=p*c-f,e[8]=h*c+m,e[1]=l*d,e[5]=m*c+h,e[9]=f*c-p,e[2]=-c,e[6]=a*l,e[10]=o*l}else if("YZX"===t.order){const h=o*l,f=o*c,p=a*l,m=a*c;e[0]=l*u,e[4]=m-h*d,e[8]=p*d+f,e[1]=d,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=f*d+p,e[10]=h-m*d}else if("XZY"===t.order){const h=o*l,f=o*c,p=a*l,m=a*c;e[0]=l*u,e[4]=-d,e[8]=c*u,e[1]=h*d+m,e[5]=o*u,e[9]=f*d-p,e[2]=p*d-f,e[6]=a*u,e[10]=m*d+h}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Gte,t,jte)}lookAt(t,e,n){const r=this.elements;return Pr.subVectors(t,e),0===Pr.lengthSq()&&(Pr.z=1),Pr.normalize(),Sa.crossVectors(n,Pr),0===Sa.lengthSq()&&(1===Math.abs(n.z)?Pr.x+=1e-4:Pr.z+=1e-4,Pr.normalize(),Sa.crossVectors(n,Pr)),Sa.normalize(),y_.crossVectors(Pr,Sa),r[0]=Sa.x,r[4]=y_.x,r[8]=Pr.x,r[1]=Sa.y,r[5]=y_.y,r[9]=Pr.y,r[2]=Sa.z,r[6]=y_.z,r[10]=Pr.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],d=n[5],h=n[9],f=n[13],p=n[2],m=n[6],g=n[10],_=n[14],y=n[3],v=n[7],b=n[11],x=n[15],w=r[0],A=r[4],M=r[8],S=r[12],F=r[1],B=r[5],J=r[9],ie=r[13],V=r[2],X=r[6],L=r[10],H=r[14],G=r[3],U=r[7],$=r[11],me=r[15];return s[0]=o*w+a*F+l*V+c*G,s[4]=o*A+a*B+l*X+c*U,s[8]=o*M+a*J+l*L+c*$,s[12]=o*S+a*ie+l*H+c*me,s[1]=u*w+d*F+h*V+f*G,s[5]=u*A+d*B+h*X+f*U,s[9]=u*M+d*J+h*L+f*$,s[13]=u*S+d*ie+h*H+f*me,s[2]=p*w+m*F+g*V+_*G,s[6]=p*A+m*B+g*X+_*U,s[10]=p*M+m*J+g*L+_*$,s[14]=p*S+m*ie+g*H+_*me,s[3]=y*w+v*F+b*V+x*G,s[7]=y*A+v*B+b*X+x*U,s[11]=y*M+v*J+b*L+x*$,s[15]=y*S+v*ie+b*H+x*me,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],s=t[12],o=t[1],a=t[5],l=t[9],c=t[13],u=t[2],d=t[6],h=t[10],f=t[14];return t[3]*(+s*l*d-r*c*d-s*a*h+n*c*h+r*a*f-n*l*f)+t[7]*(+e*l*f-e*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+t[11]*(+e*c*d-e*a*f-s*o*d+n*o*f+s*a*u-n*c*u)+t[15]*(-r*a*u-e*l*d+e*a*h+r*o*d-n*o*h+n*l*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],g=t[14],_=t[15],y=d*g*c-m*h*c+m*l*f-a*g*f-d*l*_+a*h*_,v=p*h*c-u*g*c-p*l*f+o*g*f+u*l*_-o*h*_,b=u*m*c-p*d*c+p*a*f-o*m*f-u*a*_+o*d*_,x=p*d*l-u*m*l-p*a*h+o*m*h+u*a*g-o*d*g,w=e*y+n*v+r*b+s*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/w;return t[0]=y*A,t[1]=(m*h*s-d*g*s-m*r*f+n*g*f+d*r*_-n*h*_)*A,t[2]=(a*g*s-m*l*s+m*r*c-n*g*c-a*r*_+n*l*_)*A,t[3]=(d*l*s-a*h*s-d*r*c+n*h*c+a*r*f-n*l*f)*A,t[4]=v*A,t[5]=(u*g*s-p*h*s+p*r*f-e*g*f-u*r*_+e*h*_)*A,t[6]=(p*l*s-o*g*s-p*r*c+e*g*c+o*r*_-e*l*_)*A,t[7]=(o*h*s-u*l*s+u*r*c-e*h*c-o*r*f+e*l*f)*A,t[8]=b*A,t[9]=(p*d*s-u*m*s-p*n*f+e*m*f+u*n*_-e*d*_)*A,t[10]=(o*m*s-p*a*s+p*n*c-e*m*c-o*n*_+e*a*_)*A,t[11]=(u*a*s-o*d*s-u*n*c+e*d*c+o*n*f-e*a*f)*A,t[12]=x*A,t[13]=(u*m*r-p*d*r+p*n*h-e*m*h-u*n*g+e*d*g)*A,t[14]=(p*a*r-o*m*r-p*n*l+e*m*l+o*n*g-e*a*g)*A,t[15]=(o*d*r-u*a*r+u*n*l-e*d*l-o*n*h+e*a*h)*A,this}scale(t){const e=this.elements,n=t.x,r=t.y,s=t.z;return e[0]*=n,e[4]*=r,e[8]*=s,e[1]*=n,e[5]*=r,e[9]*=s,e[2]*=n,e[6]*=r,e[10]*=s,e[3]*=n,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),s=1-n,o=t.x,a=t.y,l=t.z,c=s*o,u=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,s,o){return this.set(1,n,s,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,s=e._x,o=e._y,a=e._z,l=e._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,p=s*d,m=o*u,g=o*d,_=a*d,y=l*c,v=l*u,b=l*d,x=n.x,w=n.y,A=n.z;return r[0]=(1-(m+_))*x,r[1]=(f+b)*x,r[2]=(p-v)*x,r[3]=0,r[4]=(f-b)*w,r[5]=(1-(h+_))*w,r[6]=(g+y)*w,r[7]=0,r[8]=(p+v)*A,r[9]=(g-y)*A,r[10]=(1-(h+m))*A,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let s=ku.set(r[0],r[1],r[2]).length();const o=ku.set(r[4],r[5],r[6]).length(),a=ku.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],gs.copy(this);const c=1/s,u=1/o,d=1/a;return gs.elements[0]*=c,gs.elements[1]*=c,gs.elements[2]*=c,gs.elements[4]*=u,gs.elements[5]*=u,gs.elements[6]*=u,gs.elements[8]*=d,gs.elements[9]*=d,gs.elements[10]*=d,e.setFromRotationMatrix(gs),n.x=s,n.y=o,n.z=a,this}makePerspective(t,e,n,r,s,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*s/(n-r),u=(e+t)/(e-t),d=(n+r)/(n-r),h=-(o+s)/(o-s),f=-2*o*s/(o-s);return a[0]=2*s/(e-t),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,r,s,o){const a=this.elements,l=1/(e-t),c=1/(n-r),u=1/(o-s),d=(e+t)*l,h=(n+r)*c,f=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const ku=new C,gs=new Ct,Gte=new C(0,0,0),jte=new C(1,1,1),Sa=new C,y_=new C,Pr=new C,gL=new Ct,_L=new zn;let Lw=(()=>{class i{constructor(e=0,n=0,r=0,s=i.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(n){case"XYZ":this._y=Math.asin(Yn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Yn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(Yn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Yn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Yn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-Yn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return gL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _L.setFromEuler(this),this.setFromQuaternion(_L,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return i.DefaultOrder="XYZ",i.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],i})();class Fu{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let Wte=0;const yL=new C,Lu=new zn,Bo=new Ct,v_=new C,df=new C,$te=new C,qte=new zn,vL=new C(1,0,0),bL=new C(0,1,0),ML=new C(0,0,1),Yte={type:"added"},xL={type:"removed"};let Ei=(()=>{class i extends qs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Wte++}),this.uuid=Er(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DefaultUp.clone();const e=new C,n=new Lw,r=new zn,s=new C(1,1,1);n._onChange(function o(){r.setFromEuler(n,!1)}),r._onChange(function a(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ct},normalMatrix:{value:new Tr}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Fu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Lu.setFromAxisAngle(e,n),this.quaternion.multiply(Lu),this}rotateOnWorldAxis(e,n){return Lu.setFromAxisAngle(e,n),this.quaternion.premultiply(Lu),this}rotateX(e){return this.rotateOnAxis(vL,e)}rotateY(e){return this.rotateOnAxis(bL,e)}rotateZ(e){return this.rotateOnAxis(ML,e)}translateOnAxis(e,n){return yL.copy(e).applyQuaternion(this.quaternion),this.position.add(yL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(vL,e)}translateY(e){return this.translateOnAxis(bL,e)}translateZ(e){return this.translateOnAxis(ML,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Bo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?v_.copy(e):v_.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),df.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bo.lookAt(df,v_,this.up):Bo.lookAt(v_,df,this.up),this.quaternion.setFromRotationMatrix(Bo),s&&(Bo.extractRotation(s.matrixWorld),Lu.setFromRotationMatrix(Bo),this.quaternion.premultiply(Lu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Yte)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(xL)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(xL)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Bo.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Bo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Bo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(e,n);if(void 0!==a)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(df,e,$te),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(df,qte,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;null!==n&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=void 0===e||"string"==typeof e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(e.shapes,c[u]);else o(e.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(e.materials,this.material[c]));s.material=l}else s.material=o(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(e.animations,this.animations[l]))}if(n){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),h=a(e.shapes),f=a(e.skeletons),p=a(e.animations),m=a(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return(new this.constructor).copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===n)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return i.DefaultUp=new C(0,1,0),i.DefaultMatrixAutoUpdate=!0,i})();const _s=new C,Vo=new C,Bw=new C,zo=new C,Bu=new C,Vu=new C,wL=new C,Vw=new C,zw=new C,Hw=new C;class ys{constructor(t=new C,e=new C,n=new C){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),_s.subVectors(t,e),r.cross(_s);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,n,r,s){_s.subVectors(r,e),Vo.subVectors(n,e),Bw.subVectors(t,e);const o=_s.dot(_s),a=_s.dot(Vo),l=_s.dot(Bw),c=Vo.dot(Vo),u=Vo.dot(Bw),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,p=(o*u-a*l)*h;return s.set(1-f-p,p,f)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,zo),zo.x>=0&&zo.y>=0&&zo.x+zo.y<=1}static getUV(t,e,n,r,s,o,a,l){return this.getBarycoord(t,e,n,r,zo),l.set(0,0),l.addScaledVector(s,zo.x),l.addScaledVector(o,zo.y),l.addScaledVector(a,zo.z),l}static isFrontFacing(t,e,n,r){return _s.subVectors(n,e),Vo.subVectors(t,e),_s.cross(Vo).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return _s.subVectors(this.c,this.b),Vo.subVectors(this.a,this.b),.5*_s.cross(Vo).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ys.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ys.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,s){return ys.getUV(t,this.a,this.b,this.c,e,n,r,s)}containsPoint(t){return ys.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ys.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,s=this.c;let o,a;Bu.subVectors(r,n),Vu.subVectors(s,n),Vw.subVectors(t,n);const l=Bu.dot(Vw),c=Vu.dot(Vw);if(l<=0&&c<=0)return e.copy(n);zw.subVectors(t,r);const u=Bu.dot(zw),d=Vu.dot(zw);if(u>=0&&d<=u)return e.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),e.copy(n).addScaledVector(Bu,o);Hw.subVectors(t,s);const f=Bu.dot(Hw),p=Vu.dot(Hw);if(p>=0&&f<=p)return e.copy(s);const m=f*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),e.copy(n).addScaledVector(Vu,a);const g=u*p-f*d;if(g<=0&&d-u>=0&&f-p>=0)return wL.subVectors(s,r),a=(d-u)/(d-u+(f-p)),e.copy(r).addScaledVector(wL,a);const _=1/(g+m+h);return o=m*_,a=h*_,e.copy(n).addScaledVector(Bu,o).addScaledVector(Vu,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Xte=0;class vs extends qs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Xte++}),this.uuid=Er(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const s=r(t.textures),o=r(t.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const r=e.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class hr extends vs{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const oi=new C,b_=new q;class ai{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new xe),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new q),e[n++]=o.x,e[n++]=o.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new C),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new dn),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)b_.fromBufferAttribute(this,e),b_.applyMatrix3(t),this.setXY(e,b_.x,b_.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)oi.fromBufferAttribute(this,e),oi.applyMatrix3(t),this.setXYZ(e,oi.x,oi.y,oi.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)oi.fromBufferAttribute(this,e),oi.applyMatrix4(t),this.setXYZ(e,oi.x,oi.y,oi.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)oi.fromBufferAttribute(this,e),oi.applyNormalMatrix(t),this.setXYZ(e,oi.x,oi.y,oi.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)oi.fromBufferAttribute(this,e),oi.transformDirection(t),this.setXYZ(e,oi.x,oi.y,oi.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,s){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class CL extends ai{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class SL extends ai{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Ue extends ai{constructor(t,e,n){super(new Float32Array(t),e,n)}}let Kte=0;const Yr=new Ct,Uw=new Ei,zu=new C,Ar=new Ma,hf=new Ma,xi=new C;class Pt extends qs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Kte++}),this.uuid=Er(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(uL(t)?SL:CL)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const s=(new Tr).getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Yr.makeRotationFromQuaternion(t),this.applyMatrix4(Yr),this}rotateX(t){return Yr.makeRotationX(t),this.applyMatrix4(Yr),this}rotateY(t){return Yr.makeRotationY(t),this.applyMatrix4(Yr),this}rotateZ(t){return Yr.makeRotationZ(t),this.applyMatrix4(Yr),this}translate(t,e,n){return Yr.makeTranslation(t,e,n),this.applyMatrix4(Yr),this}scale(t,e,n){return Yr.makeScale(t,e,n),this.applyMatrix4(Yr),this}lookAt(t){return Uw.lookAt(t),Uw.updateMatrix(),this.applyMatrix4(Uw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zu).negate(),this.translate(zu.x,zu.y,zu.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const s=t[n];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ue(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ma);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new C(-1/0,-1/0,-1/0),new C(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++)Ar.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(xi.addVectors(this.boundingBox.min,Ar.min),this.boundingBox.expandByPoint(xi),xi.addVectors(this.boundingBox.max,Ar.max),this.boundingBox.expandByPoint(xi)):(this.boundingBox.expandByPoint(Ar.min),this.boundingBox.expandByPoint(Ar.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ll);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new C,1/0);if(t){const n=this.boundingSphere.center;if(Ar.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++)hf.setFromBufferAttribute(e[s]),this.morphTargetsRelative?(xi.addVectors(Ar.min,hf.min),Ar.expandByPoint(xi),xi.addVectors(Ar.max,hf.max),Ar.expandByPoint(xi)):(Ar.expandByPoint(hf.min),Ar.expandByPoint(hf.max));Ar.getCenter(n);let r=0;for(let s=0,o=t.count;s<o;s++)xi.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(xi));if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)xi.fromBufferAttribute(a,c),l&&(zu.fromBufferAttribute(t,c),xi.add(zu)),r=Math.max(r,n.distanceToSquared(xi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,s=e.normal.array,o=e.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ai(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let F=0;F<a;F++)c[F]=new C,u[F]=new C;const d=new C,h=new C,f=new C,p=new q,m=new q,g=new q,_=new C,y=new C;function v(F,B,J){d.fromArray(r,3*F),h.fromArray(r,3*B),f.fromArray(r,3*J),p.fromArray(o,2*F),m.fromArray(o,2*B),g.fromArray(o,2*J),h.sub(d),f.sub(d),m.sub(p),g.sub(p);const ie=1/(m.x*g.y-g.x*m.y);!isFinite(ie)||(_.copy(h).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(ie),y.copy(f).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(ie),c[F].add(_),c[B].add(_),c[J].add(_),u[F].add(y),u[B].add(y),u[J].add(y))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let F=0,B=b.length;F<B;++F){const J=b[F],ie=J.start;for(let X=ie,L=ie+J.count;X<L;X+=3)v(n[X+0],n[X+1],n[X+2])}const x=new C,w=new C,A=new C,M=new C;function S(F){A.fromArray(s,3*F),M.copy(A);const B=c[F];x.copy(B),x.sub(A.multiplyScalar(A.dot(B))).normalize(),w.crossVectors(M,B);const ie=w.dot(u[F])<0?-1:1;l[4*F]=x.x,l[4*F+1]=x.y,l[4*F+2]=x.z,l[4*F+3]=ie}for(let F=0,B=b.length;F<B;++F){const J=b[F],ie=J.start;for(let X=ie,L=ie+J.count;X<L;X+=3)S(n[X+0]),S(n[X+1]),S(n[X+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new ai(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);const r=new C,s=new C,o=new C,a=new C,l=new C,c=new C,u=new C,d=new C;if(t)for(let h=0,f=t.count;h<f;h+=3){const p=t.getX(h+0),m=t.getX(h+1),g=t.getX(h+2);r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,m),o.fromBufferAttribute(e,g),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),a.add(u),l.add(u),c.add(u),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(let h=0,f=e.count;h<f;h+=3)r.fromBufferAttribute(e,h+0),s.fromBufferAttribute(e,h+1),o.fromBufferAttribute(e,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),n.setXYZ(h+0,u.x,u.y,u.z),n.setXYZ(h+1,u.x,u.y,u.z),n.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const o=n[r].array,a=t.attributes[r],l=a.array,c=a.itemSize*e,u=Math.min(l.length,o.length-c);for(let d=0,h=c;d<u;d++,h++)o[h]=l[d]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)xi.fromBufferAttribute(t,e),xi.normalize(),t.setXYZ(e,xi.x,xi.y,xi.z)}toNonIndexed(){function t(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let m=0,g=l.length;m<g;m++){f=a.isInterleavedBufferAttribute?l[m]*a.data.stride+a.offset:l[m]*u;for(let _=0;_<u;_++)h[p++]=c[f++]}return new ai(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Pt,n=this.index.array,r=this.attributes;for(const a in r){const c=t(r[a],n);e.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=t(c[u],n);l.push(f)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const l in n)t.data.attributes[l]=n[l].toJSON(t.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(t.data));u.length>0&&(r[l]=u,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const c in r)this.setAttribute(c,r[c].clone(e));const s=t.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(e));this.morphAttributes[c]=u}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const DL=new Ct,Hu=new __,Gw=new Ll,Da=new C,Ea=new C,Ta=new C,jw=new C,Ww=new C,$w=new C,M_=new C,x_=new C,w_=new C,C_=new q,S_=new q,D_=new q,qw=new C,E_=new C;class li extends Ei{constructor(t=new Pt,e=new hr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(t,e){const n=this.geometry,r=this.material,s=this.matrixWorld;if(void 0===r||(null===n.boundingSphere&&n.computeBoundingSphere(),Gw.copy(n.boundingSphere),Gw.applyMatrix4(s),!1===t.ray.intersectsSphere(Gw))||(DL.copy(s).invert(),Hu.copy(t.ray).applyMatrix4(DL),null!==n.boundingBox&&!1===Hu.intersectsBox(n.boundingBox)))return;let o;const a=n.index,l=n.attributes.position,c=n.morphAttributes.position,u=n.morphTargetsRelative,d=n.attributes.uv,h=n.attributes.uv2,f=n.groups,p=n.drawRange;if(null!==a)if(Array.isArray(r))for(let m=0,g=f.length;m<g;m++){const _=f[m],y=r[_.materialIndex];for(let x=Math.max(_.start,p.start),w=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));x<w;x+=3){const A=a.getX(x),M=a.getX(x+1),S=a.getX(x+2);o=T_(this,y,t,Hu,l,c,u,d,h,A,M,S),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=_.materialIndex,e.push(o))}}else for(let _=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);_<y;_+=3){const v=a.getX(_),b=a.getX(_+1),x=a.getX(_+2);o=T_(this,r,t,Hu,l,c,u,d,h,v,b,x),o&&(o.faceIndex=Math.floor(_/3),e.push(o))}else if(void 0!==l)if(Array.isArray(r))for(let m=0,g=f.length;m<g;m++){const _=f[m],y=r[_.materialIndex];for(let x=Math.max(_.start,p.start),w=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));x<w;x+=3)o=T_(this,y,t,Hu,l,c,u,d,h,x,x+1,x+2),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=_.materialIndex,e.push(o))}else for(let _=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);_<y;_+=3)o=T_(this,r,t,Hu,l,c,u,d,h,_,_+1,_+2),o&&(o.faceIndex=Math.floor(_/3),e.push(o))}}function T_(i,t,e,n,r,s,o,a,l,c,u,d){Da.fromBufferAttribute(r,c),Ea.fromBufferAttribute(r,u),Ta.fromBufferAttribute(r,d);const h=i.morphTargetInfluences;if(s&&h){M_.set(0,0,0),x_.set(0,0,0),w_.set(0,0,0);for(let p=0,m=s.length;p<m;p++){const g=h[p],_=s[p];0!==g&&(jw.fromBufferAttribute(_,c),Ww.fromBufferAttribute(_,u),$w.fromBufferAttribute(_,d),o?(M_.addScaledVector(jw,g),x_.addScaledVector(Ww,g),w_.addScaledVector($w,g)):(M_.addScaledVector(jw.sub(Da),g),x_.addScaledVector(Ww.sub(Ea),g),w_.addScaledVector($w.sub(Ta),g)))}Da.add(M_),Ea.add(x_),Ta.add(w_)}i.isSkinnedMesh&&(i.boneTransform(c,Da),i.boneTransform(u,Ea),i.boneTransform(d,Ta));const f=function Zte(i,t,e,n,r,s,o,a){let l;if(l=1===t.side?n.intersectTriangle(o,s,r,!0,a):n.intersectTriangle(r,s,o,2!==t.side,a),null===l)return null;E_.copy(a),E_.applyMatrix4(i.matrixWorld);const c=e.ray.origin.distanceTo(E_);return c<e.near||c>e.far?null:{distance:c,point:E_.clone(),object:i}}(i,t,e,n,Da,Ea,Ta,qw);if(f){a&&(C_.fromBufferAttribute(a,c),S_.fromBufferAttribute(a,u),D_.fromBufferAttribute(a,d),f.uv=ys.getUV(qw,Da,Ea,Ta,C_,S_,D_,new q)),l&&(C_.fromBufferAttribute(l,c),S_.fromBufferAttribute(l,u),D_.fromBufferAttribute(l,d),f.uv2=ys.getUV(qw,Da,Ea,Ta,C_,S_,D_,new q));const p={a:c,b:u,c:d,normal:new C,materialIndex:0};ys.getNormal(Da,Ea,Ta,p.normal),f.face=p}return f}class Ho extends Pt{constructor(t=1,e=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function p(m,g,_,y,v,b,x,w,A,M,S){const F=b/A,B=x/M,J=b/2,ie=x/2,V=w/2,X=A+1,L=M+1;let H=0,G=0;const U=new C;for(let $=0;$<L;$++){const me=$*B-ie;for(let re=0;re<X;re++)U[m]=(re*F-J)*y,U[g]=me*v,U[_]=V,c.push(U.x,U.y,U.z),U[m]=0,U[g]=0,U[_]=w>0?1:-1,u.push(U.x,U.y,U.z),d.push(re/A),d.push(1-$/M),H+=1}for(let $=0;$<M;$++)for(let me=0;me<A;me++){const ve=h+me+X*($+1),Me=h+(me+1)+X*($+1),je=h+(me+1)+X*$;l.push(h+me+X*$,ve,je),l.push(ve,Me,je),G+=6}a.addGroup(f,G,S),f+=G,h+=H}p("z","y","x",-1,-1,n,e,t,o,s,0),p("z","y","x",1,-1,n,e,-t,o,s,1),p("x","z","y",1,1,t,n,e,r,o,2),p("x","z","y",1,-1,t,n,-e,r,o,3),p("x","y","z",1,-1,t,e,n,r,s,4),p("x","y","z",-1,-1,t,e,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new Ue(c,3)),this.setAttribute("normal",new Ue(u,3)),this.setAttribute("uv",new Ue(d,2))}static fromJSON(t){return new Ho(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Uu(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const r=i[e][n];t[e][n]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return t}function Bi(i){const t={};for(let e=0;e<i.length;e++){const n=Uu(i[e]);for(const r in n)t[r]=n[r]}return t}const Yw={clone:Uu,merge:Bi};class Ki extends vs{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Uu(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;e.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class Xw extends Ei{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class gn extends Xw{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*af*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Ol*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*af*Math.atan(Math.tan(.5*Ol*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,s,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Ol*this.fov)/this.zoom,n=2*e,r=this.aspect*n,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,e-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;0!==a&&(s+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class ene extends Ei{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new gn(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new C(1,0,0)),this.add(r);const s=new gn(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new C(-1,0,0)),this.add(s);const o=new gn(90,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new C(0,1,0)),this.add(o);const a=new gn(90,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new C(0,-1,0)),this.add(a);const l=new gn(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new C(0,0,1)),this.add(l);const c=new gn(90,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new C(0,0,-1)),this.add(c)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,o,a,l,c]=this.children,u=t.getRenderTarget(),d=t.toneMapping,h=t.xr.enabled;t.toneMapping=0,t.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,s),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,l),n.texture.generateMipmaps=f,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(u),t.toneMapping=d,t.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class P_ extends qr{constructor(t,e,n,r,s,o,a,l,c,u){super(t=void 0!==t?t:[],e=void 0!==e?e:301,n,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class tne extends Xi{constructor(t,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1};this.texture=new P_([n,n,n,n,n,n],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Vn}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Ho(5,5,5),s=new Ki({name:"CubemapFromEquirect",uniforms:Uu(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=e;const o=new li(r,s),a=e.minFilter;return e.minFilter===ya&&(e.minFilter=Vn),new ene(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,n,r){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,r);t.setRenderTarget(s)}}const Kw=new C,nne=new C,ine=new Tr;class Bl{constructor(t=new C(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=Kw.subVectors(n,e).cross(nne.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(Kw),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(n).multiplyScalar(s).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||ine.getNormalMatrix(t),r=this.coplanarPoint(Kw).applyMatrix4(t),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Wu=new Ll,A_=new C;class Zw{constructor(t=new Bl,e=new Bl,n=new Bl,r=new Bl,s=new Bl,o=new Bl){this.planes=[t,e,n,r,s,o]}set(t,e,n,r,s,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],d=n[7],h=n[8],f=n[9],p=n[10],m=n[11],g=n[12],_=n[13],y=n[14],v=n[15];return e[0].setComponents(a-r,d-l,m-h,v-g).normalize(),e[1].setComponents(a+r,d+l,m+h,v+g).normalize(),e[2].setComponents(a+s,d+c,m+f,v+_).normalize(),e[3].setComponents(a-s,d-c,m-f,v-_).normalize(),e[4].setComponents(a-o,d-u,m-p,v-y).normalize(),e[5].setComponents(a+o,d+u,m+p,v+y).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Wu.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Wu)}intersectsSprite(t){return Wu.center.set(0,0,0),Wu.radius=.7071067811865476,Wu.applyMatrix4(t.matrixWorld),this.intersectsSphere(Wu)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(A_.x=r.normal.x>0?t.max.x:t.min.x,A_.y=r.normal.y>0?t.max.y:t.min.y,A_.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(A_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function EL(){let i=null,t=!1,e=null,n=null;function r(s,o){e(s,o),n=i.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){i=s}}}function rne(i,t){const e=t.isWebGL2,n=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);u&&(i.deleteBuffer(u.buffer),n.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const h=n.get(c);return void((!h||h.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=n.get(c);void 0===d?n.set(c,function r(c,u){const d=c.array,h=c.usage,f=i.createBuffer();let p;if(i.bindBuffer(u,f),i.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)p=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=5131}else p=5123;else if(d instanceof Int16Array)p=5122;else if(d instanceof Uint32Array)p=5125;else if(d instanceof Int32Array)p=5124;else if(d instanceof Int8Array)p=5120;else if(d instanceof Uint8Array)p=5121;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=5121}return{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function s(c,u,d){const h=u.array,f=u.updateRange;i.bindBuffer(d,c),-1===f.count?i.bufferSubData(d,0,h):(e?i.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):i.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1)}(d.buffer,c,u),d.version=c.version)}}}class ff extends Pt{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const s=t/2,o=e/2,a=Math.floor(n),l=Math.floor(r),c=a+1,u=l+1,d=t/a,h=e/l,f=[],p=[],m=[],g=[];for(let _=0;_<u;_++){const y=_*h-o;for(let v=0;v<c;v++)p.push(v*d-s,-y,0),m.push(0,0,1),g.push(v/a),g.push(1-_/l)}for(let _=0;_<l;_++)for(let y=0;y<a;y++){const b=y+c*(_+1),x=y+1+c*(_+1),w=y+1+c*_;f.push(y+c*_,b,w),f.push(b,x,w)}this.setIndex(f),this.setAttribute("position",new Ue(p,3)),this.setAttribute("normal",new Ue(m,3)),this.setAttribute("uv",new Ue(g,2))}static fromJSON(t){return new ff(t.width,t.height,t.widthSegments,t.heightSegments)}}const Lt={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Ne={common:{diffuse:{value:new xe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Tr},uv2Transform:{value:new Tr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new q(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tr}},sprite:{diffuse:{value:new xe(16777215)},opacity:{value:1},center:{value:new q(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tr}}},Ys={basic:{uniforms:Bi([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:Bi([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.fog,Ne.lights,{emissive:{value:new xe(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:Bi([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new xe(0)},specular:{value:new xe(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:Bi([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:Bi([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new xe(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:Bi([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:Bi([Ne.points,Ne.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:Bi([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:Bi([Ne.common,Ne.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:Bi([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:Bi([Ne.sprite,Ne.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Tr},t2D:{value:null}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},cube:{uniforms:Bi([Ne.envmap,{opacity:{value:1}}]),vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:Bi([Ne.common,Ne.displacementmap,{referencePosition:{value:new C},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:Bi([Ne.lights,Ne.fog,{color:{value:new xe(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};function nre(i,t,e,n,r,s){const o=new xe(0);let l,c,a=!0===r?0:1,u=null,d=0,h=null;function p(m,g){e.buffers.color.setClear(m.r,m.g,m.b,g,s)}return{getClearColor:function(){return o},setClearColor:function(m,g=1){o.set(m),a=g,p(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,p(o,a)},render:function f(m,g){let _=!1,y=!0===g.isScene?g.background:null;y&&y.isTexture&&(y=t.get(y));const v=i.xr,b=v.getSession&&v.getSession();b&&"additive"===b.environmentBlendMode&&(y=null),null===y?p(o,a):y&&y.isColor&&(p(y,1),_=!0),(i.autoClear||_)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),y&&(y.isCubeTexture||306===y.mapping)?(void 0===c&&(c=new li(new Ho(1,1,1),new Ki({name:"BackgroundCubeMaterial",uniforms:Uu(Ys.cube.uniforms),vertexShader:Ys.cube.vertexShader,fragmentShader:Ys.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(x,w,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,(u!==y||d!==y.version||h!==i.toneMapping)&&(c.material.needsUpdate=!0,u=y,d=y.version,h=i.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(void 0===l&&(l=new li(new ff(2,2),new Ki({name:"BackgroundMaterial",uniforms:Uu(Ys.background.uniforms),vertexShader:Ys.background.vertexShader,fragmentShader:Ys.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=y,!0===y.matrixAutoUpdate&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||d!==y.version||h!==i.toneMapping)&&(l.material.needsUpdate=!0,u=y,d=y.version,h=i.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}}}function ire(i,t,e,n){const r=i.getParameter(34921),s=n.isWebGL2?null:t.get("OES_vertex_array_object"),o=n.isWebGL2||null!==s,a={},l=g(null);let c=l,u=!1;function f(V){return n.isWebGL2?i.bindVertexArray(V):s.bindVertexArrayOES(V)}function p(V){return n.isWebGL2?i.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function g(V){const X=[],L=[],H=[];for(let G=0;G<r;G++)X[G]=0,L[G]=0,H[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:L,attributeDivisors:H,object:V,attributes:{},index:null}}function v(){const V=c.newAttributes;for(let X=0,L=V.length;X<L;X++)V[X]=0}function b(V){x(V,0)}function x(V,X){const H=c.enabledAttributes,G=c.attributeDivisors;c.newAttributes[V]=1,0===H[V]&&(i.enableVertexAttribArray(V),H[V]=1),G[V]!==X&&((n.isWebGL2?i:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,X),G[V]=X)}function w(){const V=c.newAttributes,X=c.enabledAttributes;for(let L=0,H=X.length;L<H;L++)X[L]!==V[L]&&(i.disableVertexAttribArray(L),X[L]=0)}function A(V,X,L,H,G,U){!0!==n.isWebGL2||5124!==L&&5125!==L?i.vertexAttribPointer(V,X,L,H,G,U):i.vertexAttribIPointer(V,X,L,G,U)}function J(){ie(),u=!0,c!==l&&(c=l,f(c.object))}function ie(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(V,X,L,H,G){let U=!1;if(o){const $=function m(V,X,L){const H=!0===L.wireframe;let G=a[V.id];void 0===G&&(G={},a[V.id]=G);let U=G[X.id];void 0===U&&(U={},G[X.id]=U);let $=U[H];return void 0===$&&($=g(function h(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}()),U[H]=$),$}(H,L,X);c!==$&&(c=$,f(c.object)),U=function _(V,X,L,H){const G=c.attributes,U=X.attributes;let $=0;const me=L.getAttributes();for(const re in me)if(me[re].location>=0){const Me=G[re];let je=U[re];if(void 0===je&&("instanceMatrix"===re&&V.instanceMatrix&&(je=V.instanceMatrix),"instanceColor"===re&&V.instanceColor&&(je=V.instanceColor)),void 0===Me||Me.attribute!==je||je&&Me.data!==je.data)return!0;$++}return c.attributesNum!==$||c.index!==H}(V,H,L,G),U&&function y(V,X,L,H){const G={},U=X.attributes;let $=0;const me=L.getAttributes();for(const re in me)if(me[re].location>=0){let Me=U[re];void 0===Me&&("instanceMatrix"===re&&V.instanceMatrix&&(Me=V.instanceMatrix),"instanceColor"===re&&V.instanceColor&&(Me=V.instanceColor));const je={};je.attribute=Me,Me&&Me.data&&(je.data=Me.data),G[re]=je,$++}c.attributes=G,c.attributesNum=$,c.index=H}(V,H,L,G)}else{const $=!0===X.wireframe;(c.geometry!==H.id||c.program!==L.id||c.wireframe!==$)&&(c.geometry=H.id,c.program=L.id,c.wireframe=$,U=!0)}null!==G&&e.update(G,34963),(U||u)&&(u=!1,function M(V,X,L,H){if(!1===n.isWebGL2&&(V.isInstancedMesh||H.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;v();const G=H.attributes,U=L.getAttributes(),$=X.defaultAttributeValues;for(const me in U){const re=U[me];if(re.location>=0){let ve=G[me];if(void 0===ve&&("instanceMatrix"===me&&V.instanceMatrix&&(ve=V.instanceMatrix),"instanceColor"===me&&V.instanceColor&&(ve=V.instanceColor)),void 0!==ve){const Me=ve.normalized,je=ve.itemSize,ne=e.get(ve);if(void 0===ne)continue;const dt=ne.buffer,rt=ne.type,Ye=ne.bytesPerElement;if(ve.isInterleavedBufferAttribute){const Ee=ve.data,gt=Ee.stride,ce=ve.offset;if(Ee.isInstancedInterleavedBuffer){for(let se=0;se<re.locationSize;se++)x(re.location+se,Ee.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===H._maxInstanceCount&&(H._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let se=0;se<re.locationSize;se++)b(re.location+se);i.bindBuffer(34962,dt);for(let se=0;se<re.locationSize;se++)A(re.location+se,je/re.locationSize,rt,Me,gt*Ye,(ce+je/re.locationSize*se)*Ye)}else{if(ve.isInstancedBufferAttribute){for(let Ee=0;Ee<re.locationSize;Ee++)x(re.location+Ee,ve.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===H._maxInstanceCount&&(H._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let Ee=0;Ee<re.locationSize;Ee++)b(re.location+Ee);i.bindBuffer(34962,dt);for(let Ee=0;Ee<re.locationSize;Ee++)A(re.location+Ee,je/re.locationSize,rt,Me,je*Ye,je/re.locationSize*Ee*Ye)}}else if(void 0!==$){const Me=$[me];if(void 0!==Me)switch(Me.length){case 2:i.vertexAttrib2fv(re.location,Me);break;case 3:i.vertexAttrib3fv(re.location,Me);break;case 4:i.vertexAttrib4fv(re.location,Me);break;default:i.vertexAttrib1fv(re.location,Me)}}}}w()}(V,X,L,H),null!==G&&i.bindBuffer(34963,e.get(G).buffer))},reset:J,resetDefaultState:ie,dispose:function S(){J();for(const V in a){const X=a[V];for(const L in X){const H=X[L];for(const G in H)p(H[G].object),delete H[G];delete X[L]}delete a[V]}},releaseStatesOfGeometry:function F(V){if(void 0===a[V.id])return;const X=a[V.id];for(const L in X){const H=X[L];for(const G in H)p(H[G].object),delete H[G];delete X[L]}delete a[V.id]},releaseStatesOfProgram:function B(V){for(const X in a){const L=a[X];if(void 0===L[V.id])continue;const H=L[V.id];for(const G in H)p(H[G].object),delete H[G];delete L[V.id]}},initAttributes:v,enableAttribute:b,disableUnusedAttributes:w}}function rre(i,t,e,n){const r=n.isWebGL2;let s;this.setMode=function o(c){s=c},this.render=function a(c,u){i.drawArrays(s,c,u),e.update(u,s,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let h,f;if(r)h=i,f="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](s,c,u,d),e.update(u,s,d)}}function sre(i,t,e){let n;function s(A){if("highp"===A){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return"mediump"===A&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&i instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&i instanceof WebGL2ComputeRenderingContext;let a=void 0!==e.precision?e.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||t.has("WEBGL_draw_buffers"),u=!0===e.logarithmicDepthBuffer,d=i.getParameter(34930),h=i.getParameter(35660),f=i.getParameter(3379),p=i.getParameter(34076),m=i.getParameter(34921),g=i.getParameter(36347),_=i.getParameter(36348),y=i.getParameter(36349),v=h>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const A=t.get("EXT_texture_filter_anisotropic");n=i.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:_,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:o?i.getParameter(36183):0}}function ore(i){const t=this;let e=null,n=0,r=!1,s=!1;const o=new Bl,a=new Tr,l={value:null,needsUpdate:!1};function c(){l.value!==e&&(l.value=e,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(d,h,f,p){const m=null!==d?d.length:0;let g=null;if(0!==m){if(g=l.value,!0!==p||null===g){const _=f+4*m,y=h.matrixWorldInverse;a.getNormalMatrix(y),(null===g||g.length<_)&&(g=new Float32Array(_));for(let v=0,b=f;v!==m;++v,b+=4)o.copy(d[v]).applyMatrix4(y,a),o.normal.toArray(g,b),g[b+3]=o.constant}l.value=g,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,f){const p=0!==d.length||h||0!==n||r;return r=h,e=u(d,f,0),n=d.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,h,f){const p=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,_=i.get(d);if(!r||null===p||0===p.length||s&&!g)s?u(null):c();else{const y=s?0:n,v=4*y;let b=_.clippingState||null;l.value=b,b=u(p,h,v,f);for(let x=0;x!==v;++x)b[x]=e[x];_.clippingState=b,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}}}function are(i){let t=new WeakMap;function e(o,a){return 303===a?o.mapping=301:304===a&&(o.mapping=302),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function n(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(t.has(o))return e(t.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new tne(l.height/2);return c.fromEquirectangularTexture(i,o),t.set(o,c),o.addEventListener("dispose",r),e(c.texture,o.mapping)}return null}}}return o},dispose:function s(){t=new WeakMap}}}Ys.physical={uniforms:Bi([Ys.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new q(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new xe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new q},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new xe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new xe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};class bs extends Xw{constructor(t=-1,e=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-t,o=n+t,a=r+e,l=r-e;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const TL=[.125,.215,.35,.446,.526,.582],Qw=new bs,PL=new xe;let Jw=null;const zl=(1+Math.sqrt(5))/2,qu=1/zl,AL=[new C(1,1,1),new C(-1,1,1),new C(1,1,-1),new C(-1,1,-1),new C(0,zl,qu),new C(0,zl,-qu),new C(qu,0,zl),new C(-qu,0,zl),new C(zl,qu,0),new C(-zl,qu,0)];class IL{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){Jw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,n,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=NL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=RL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Jw),t.scissorTest=!1,I_(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(301===t.mapping||302===t.mapping?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),Jw=this._renderer.getRenderTarget();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:Vn,minFilter:Vn,generateMipmaps:!1,type:rf,format:ps,encoding:ba,depthBuffer:!1},r=OL(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=OL(t,e,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function lre(i){const t=[],e=[],n=[];let r=i;const s=i-4+1+TL.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);e.push(a);let l=1/a;o>i-4?l=TL[o-i+4-1]:0===o&&(l=0),n.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,m=3,g=2,_=1,y=new Float32Array(m*p*f),v=new Float32Array(g*p*f),b=new Float32Array(_*p*f);for(let w=0;w<f;w++){const A=w%3*2/3-1,M=w>2?0:-1;y.set([A,M,0,A+2/3,M,0,A+2/3,M+1,0,A,M,0,A+2/3,M+1,0,A,M+1,0],m*p*w),v.set(h,g*p*w),b.set([w,w,w,w,w,w],_*p*w)}const x=new Pt;x.setAttribute("position",new ai(y,m)),x.setAttribute("uv",new ai(v,g)),x.setAttribute("faceIndex",new ai(b,_)),t.push(x),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:n}}(s)),this._blurMaterial=function cre(i,t,e){const n=new Float32Array(20),r=new C(0,1,0);return new Ki({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,t,e)}return r}_compileMaterial(t){const e=new li(this._lodPlanes[0],t);this._renderer.compile(e,Qw)}_sceneToCubeUV(t,e,n,r){const a=new gn(90,1,e,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(PL),u.toneMapping=0,u.autoClear=!1;const f=new hr({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new li(new Ho,f);let m=!1;const g=t.background;g?g.isColor&&(f.color.copy(g),t.background=null,m=!0):(f.color.copy(PL),m=!0);for(let _=0;_<6;_++){const y=_%3;0===y?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):1===y?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const v=this._cubeSize;I_(r,y*v,_>2?v:0,v,v),u.setRenderTarget(r),m&&u.render(p,a),u.render(t,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,t.background=g}_textureToCubeUV(t,e){const n=this._renderer,r=301===t.mapping||302===t.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=NL()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=RL());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new li(this._lodPlanes[0],s);s.uniforms.envMap.value=t;const l=this._cubeSize;I_(e,0,0,3*l,2*l),n.setRenderTarget(e),n.render(o,Qw)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,s,AL[(r-1)%AL.length])}e.autoClear=n}_blur(t,e,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",s),this._halfBlur(o,t,n,n,r,"longitudinal",s)}_halfBlur(t,e,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new li(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[n]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const _=[];let y=0;for(let A=0;A<20;++A){const M=A/m,S=Math.exp(-M*M/2);_.push(S),0===A?y+=S:A<g&&(y+=2*S)}for(let A=0;A<_.length;A++)_[A]=_[A]/y;h.envMap.value=t.texture,h.samples.value=g,h.weights.value=_,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:v}=this;h.dTheta.value=p,h.mipInt.value=v-n;const b=this._sizeLods[r];I_(e,3*b*(r>v-4?r-v+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(e),l.render(d,Qw)}}function OL(i,t,e){const n=new Xi(i,t,e);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function I_(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function RL(){return new Ki({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function NL(){return new Ki({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function ure(i){let t=new WeakMap,e=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function n(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=301===l||302===l;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=t.get(a);return null===e&&(e=new IL(i)),d=c?e.fromEquirectangular(a,d):e.fromCubemap(a,d),t.set(a,d),d.texture}if(t.has(a))return t.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===e&&(e=new IL(i));const h=c?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function o(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function dre(i){const t={};function e(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return t[n]=r,r}return{has:function(n){return null!==e(n)},init:function(n){n.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(n){const r=e(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function hre(i,t,e,n){const r={},s=new WeakMap;function o(d){const h=d.target;null!==h.index&&t.remove(h.index);for(const p in h.attributes)t.remove(h.attributes[p]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(t.remove(f),s.delete(h)),n.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,e.memory.geometries--}function c(d){const h=[],f=d.index,p=d.attributes.position;let m=0;if(null!==f){const y=f.array;m=f.version;for(let v=0,b=y.length;v<b;v+=3){const x=y[v+0],w=y[v+1],A=y[v+2];h.push(x,w,w,A,A,x)}}else{m=p.version;for(let v=0,b=p.array.length/3-1;v<b;v+=3){const x=v+0,w=v+1,A=v+2;h.push(x,w,w,A,A,x)}}const g=new(uL(h)?SL:CL)(h,1);g.version=m;const _=s.get(d);_&&t.remove(_),s.set(d,g)}return{get:function a(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,e.memory.geometries++),h},update:function l(d){const h=d.attributes;for(const p in h)t.update(h[p],34962);const f=d.morphAttributes;for(const p in f){const m=f[p];for(let g=0,_=m.length;g<_;g++)t.update(m[g],34962)}},getWireframeAttribute:function u(d){const h=s.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return s.get(d)}}}function fre(i,t,e,n){const r=n.isWebGL2;let s,a,l;this.setMode=function o(h){s=h},this.setIndex=function c(h){a=h.type,l=h.bytesPerElement},this.render=function u(h,f){i.drawElements(s,f,a,h*l),e.update(f,s,1)},this.renderInstances=function d(h,f,p){if(0===p)return;let m,g;if(r)m=i,g="drawElementsInstanced";else if(m=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](s,f,a,h*l,p),e.update(f,s,p)}}function pre(i){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function n(s,o,a){switch(e.calls++,o){case 4:e.triangles+=a*(s/3);break;case 1:e.lines+=a*(s/2);break;case 3:e.lines+=a*(s-1);break;case 2:e.lines+=a*s;break;case 0:e.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function mre(i,t){return i[0]-t[0]}function gre(i,t){return Math.abs(t[1])-Math.abs(i[1])}function tC(i,t){let e=1;const n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?e=127:n instanceof Uint8Array?e=255:n instanceof Uint16Array?e=65535:n instanceof Int16Array?e=32767:n instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),i.divideScalar(e)}function _re(i,t,e){const n={},r=new Float32Array(8),s=new WeakMap,o=new dn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,d,h){const f=c.morphTargetInfluences;if(!0===t.isWebGL2){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=void 0!==p?p.length:0;let g=s.get(u);if(void 0===g||g.count!==m){let X=function(){ie.dispose(),s.delete(u),u.removeEventListener("dispose",X)};void 0!==g&&g.texture.dispose();const v=void 0!==u.morphAttributes.position,b=void 0!==u.morphAttributes.normal,x=void 0!==u.morphAttributes.color,w=u.morphAttributes.position||[],A=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let S=0;!0===v&&(S=1),!0===b&&(S=2),!0===x&&(S=3);let F=u.attributes.position.count*S,B=1;F>t.maxTextureSize&&(B=Math.ceil(F/t.maxTextureSize),F=t.maxTextureSize);const J=new Float32Array(F*B*4*m),ie=new Pw(J,F,B,m);ie.type=va,ie.needsUpdate=!0;const V=4*S;for(let L=0;L<m;L++){const H=w[L],G=A[L],U=M[L],$=F*B*4*L;for(let me=0;me<H.count;me++){const re=me*V;!0===v&&(o.fromBufferAttribute(H,me),!0===H.normalized&&tC(o,H),J[$+re+0]=o.x,J[$+re+1]=o.y,J[$+re+2]=o.z,J[$+re+3]=0),!0===b&&(o.fromBufferAttribute(G,me),!0===G.normalized&&tC(o,G),J[$+re+4]=o.x,J[$+re+5]=o.y,J[$+re+6]=o.z,J[$+re+7]=0),!0===x&&(o.fromBufferAttribute(U,me),!0===U.normalized&&tC(o,U),J[$+re+8]=o.x,J[$+re+9]=o.y,J[$+re+10]=o.z,J[$+re+11]=4===U.itemSize?o.w:1)}}g={count:m,texture:ie,size:new q(F,B)},s.set(u,g),u.addEventListener("dispose",X)}let _=0;for(let v=0;v<f.length;v++)_+=f[v];const y=u.morphTargetsRelative?1:1-_;h.getUniforms().setValue(i,"morphTargetBaseInfluence",y),h.getUniforms().setValue(i,"morphTargetInfluences",f),h.getUniforms().setValue(i,"morphTargetsTexture",g.texture,e),h.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}else{const p=void 0===f?0:f.length;let m=n[u.id];if(void 0===m||m.length!==p){m=[];for(let b=0;b<p;b++)m[b]=[b,0];n[u.id]=m}for(let b=0;b<p;b++){const x=m[b];x[0]=b,x[1]=f[b]}m.sort(gre);for(let b=0;b<8;b++)b<p&&m[b][1]?(a[b][0]=m[b][0],a[b][1]=m[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(mre);const g=u.morphAttributes.position,_=u.morphAttributes.normal;let y=0;for(let b=0;b<8;b++){const x=a[b],w=x[0],A=x[1];w!==Number.MAX_SAFE_INTEGER&&A?(g&&u.getAttribute("morphTarget"+b)!==g[w]&&u.setAttribute("morphTarget"+b,g[w]),_&&u.getAttribute("morphNormal"+b)!==_[w]&&u.setAttribute("morphNormal"+b,_[w]),r[b]=A,y+=A):(g&&!0===u.hasAttribute("morphTarget"+b)&&u.deleteAttribute("morphTarget"+b),_&&!0===u.hasAttribute("morphNormal"+b)&&u.deleteAttribute("morphNormal"+b),r[b]=0)}const v=u.morphTargetsRelative?1:1-y;h.getUniforms().setValue(i,"morphTargetBaseInfluence",v),h.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function yre(i,t,e,n){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),null!==c.instanceColor&&e.remove(c.instanceColor)}return{update:function s(l){const c=n.render.frame,d=t.get(l,l.geometry);return r.get(d)!==c&&(t.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),e.update(l.instanceMatrix,34962),null!==l.instanceColor&&e.update(l.instanceColor,34962)),d},dispose:function o(){r=new WeakMap}}}const kL=new qr,FL=new Pw,LL=new fL,BL=new P_,VL=[],zL=[],HL=new Float32Array(16),UL=new Float32Array(9),GL=new Float32Array(4);function Yu(i,t,e){const n=i[0];if(n<=0||n>0)return i;const r=t*e;let s=VL[r];if(void 0===s&&(s=new Float32Array(r),VL[r]=s),0!==t){n.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=e,i[o].toArray(s,a)}return s}function Zi(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function Qi(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function O_(i,t){let e=zL[t];void 0===e&&(e=new Int32Array(t),zL[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function vre(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function bre(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Zi(e,t))return;i.uniform2fv(this.addr,t),Qi(e,t)}}function Mre(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Zi(e,t))return;i.uniform3fv(this.addr,t),Qi(e,t)}}function xre(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Zi(e,t))return;i.uniform4fv(this.addr,t),Qi(e,t)}}function wre(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(Zi(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),Qi(e,t)}else{if(Zi(e,n))return;GL.set(n),i.uniformMatrix2fv(this.addr,!1,GL),Qi(e,n)}}function Cre(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(Zi(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),Qi(e,t)}else{if(Zi(e,n))return;UL.set(n),i.uniformMatrix3fv(this.addr,!1,UL),Qi(e,n)}}function Sre(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(Zi(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),Qi(e,t)}else{if(Zi(e,n))return;HL.set(n),i.uniformMatrix4fv(this.addr,!1,HL),Qi(e,n)}}function Dre(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function Ere(i,t){const e=this.cache;Zi(e,t)||(i.uniform2iv(this.addr,t),Qi(e,t))}function Tre(i,t){const e=this.cache;Zi(e,t)||(i.uniform3iv(this.addr,t),Qi(e,t))}function Pre(i,t){const e=this.cache;Zi(e,t)||(i.uniform4iv(this.addr,t),Qi(e,t))}function Are(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function Ire(i,t){const e=this.cache;Zi(e,t)||(i.uniform2uiv(this.addr,t),Qi(e,t))}function Ore(i,t){const e=this.cache;Zi(e,t)||(i.uniform3uiv(this.addr,t),Qi(e,t))}function Rre(i,t){const e=this.cache;Zi(e,t)||(i.uniform4uiv(this.addr,t),Qi(e,t))}function Nre(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2D(t||kL,r)}function kre(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||LL,r)}function Fre(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||BL,r)}function Lre(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||FL,r)}function Vre(i,t){i.uniform1fv(this.addr,t)}function zre(i,t){const e=Yu(t,this.size,2);i.uniform2fv(this.addr,e)}function Hre(i,t){const e=Yu(t,this.size,3);i.uniform3fv(this.addr,e)}function Ure(i,t){const e=Yu(t,this.size,4);i.uniform4fv(this.addr,e)}function Gre(i,t){const e=Yu(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function jre(i,t){const e=Yu(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function Wre(i,t){const e=Yu(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function $re(i,t){i.uniform1iv(this.addr,t)}function qre(i,t){i.uniform2iv(this.addr,t)}function Yre(i,t){i.uniform3iv(this.addr,t)}function Xre(i,t){i.uniform4iv(this.addr,t)}function Kre(i,t){i.uniform1uiv(this.addr,t)}function Zre(i,t){i.uniform2uiv(this.addr,t)}function Qre(i,t){i.uniform3uiv(this.addr,t)}function Jre(i,t){i.uniform4uiv(this.addr,t)}function ese(i,t,e){const n=t.length,r=O_(e,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)e.setTexture2D(t[s]||kL,r[s])}function tse(i,t,e){const n=t.length,r=O_(e,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)e.setTexture3D(t[s]||LL,r[s])}function nse(i,t,e){const n=t.length,r=O_(e,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)e.setTextureCube(t[s]||BL,r[s])}function ise(i,t,e){const n=t.length,r=O_(e,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)e.setTexture2DArray(t[s]||FL,r[s])}class sse{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function Bre(i){switch(i){case 5126:return vre;case 35664:return bre;case 35665:return Mre;case 35666:return xre;case 35674:return wre;case 35675:return Cre;case 35676:return Sre;case 5124:case 35670:return Dre;case 35667:case 35671:return Ere;case 35668:case 35672:return Tre;case 35669:case 35673:return Pre;case 5125:return Are;case 36294:return Ire;case 36295:return Ore;case 36296:return Rre;case 35678:case 36198:case 36298:case 36306:case 35682:return Nre;case 35679:case 36299:case 36307:return kre;case 35680:case 36300:case 36308:case 36293:return Fre;case 36289:case 36303:case 36311:case 36292:return Lre}}(e.type)}}class ose{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function rse(i){switch(i){case 5126:return Vre;case 35664:return zre;case 35665:return Hre;case 35666:return Ure;case 35674:return Gre;case 35675:return jre;case 35676:return Wre;case 5124:case 35670:return $re;case 35667:case 35671:return qre;case 35668:case 35672:return Yre;case 35669:case 35673:return Xre;case 5125:return Kre;case 36294:return Zre;case 36295:return Qre;case 36296:return Jre;case 35678:case 36198:case 36298:case 36306:case 35682:return ese;case 35679:case 36299:case 36307:return tse;case 35680:case 36300:case 36308:case 36293:return nse;case 36289:case 36303:case 36311:case 36292:return ise}}(e.type)}}class ase{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(t,e[a.id],n)}}}const nC=/(\w+)(\])?(\[|\.)?/g;function jL(i,t){i.seq.push(t),i.map[t.id]=t}function lse(i,t,e){const n=i.name,r=n.length;for(nC.lastIndex=0;;){const s=nC.exec(n),o=nC.lastIndex;let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&o+2===r){jL(e,void 0===c?new sse(a,i,t):new ose(a,i,t));break}{let d=e.map[a];void 0===d&&(d=new ase(a),jL(e,d)),e=d}}}class R_{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const s=t.getActiveUniform(e,r);lse(s,t.getUniformLocation(e,s.name),this)}}setValue(t,e,n,r){const s=this.map[e];void 0!==s&&s.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let s=0,o=e.length;s!==o;++s){const a=e[s],l=n[a.id];!1!==l.needsUpdate&&a.setValue(t,l.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,s=t.length;r!==s;++r){const o=t[r];o.id in e&&n.push(o)}return n}}function WL(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}let cse=0;function $L(i,t,e){const n=i.getShaderParameter(t,35713),r=i.getShaderInfoLog(t).trim();if(n&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function use(i,t){const e=i.split("\n"),n=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let o=r;o<s;o++){const a=o+1;n.push(`${a===t?">":" "} ${a}: ${e[o]}`)}return n.join("\n")}(i.getShaderSource(t),o)}return r}function hse(i,t){const e=function dse(i){switch(i){case ba:return["Linear","( value )"];case nn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}(t);return"vec4 "+i+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function fse(i,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function pf(i){return""!==i}function qL(i,t){return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function YL(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const _se=/^[ \t]*#include +<([\w\d./]+)>/gm;function iC(i){return i.replace(_se,yse)}function yse(i,t){const e=Lt[t];if(void 0===e)throw new Error("Can not resolve #include <"+t+">");return iC(e)}const vse=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,bse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function XL(i){return i.replace(bse,KL).replace(vse,Mse)}function Mse(i,t,e,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),KL(0,t,e,n)}function KL(i,t,e,n){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function ZL(i){let t="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?t+="\n#define HIGH_PRECISION":"mediump"===i.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(t+="\n#define LOW_PRECISION"),t}function Ese(i,t,e,n){const r=i.getContext(),s=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=function xse(i){let t="SHADOWMAP_TYPE_BASIC";return 1===i.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),c=function wse(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),u=function Cse(i){let t="ENVMAP_MODE_REFLECTION";return i.envMap&&302===i.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(e),d=function Sse(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),h=function Dse(i){const t=i.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}(e),f=e.isWebGL2?"":function pse(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(pf).join("\n")}(e),p=function mse(i){const t=[];for(const e in i){const n=i[e];!1!==n&&t.push("#define "+e+" "+n)}return t.join("\n")}(s),m=r.createProgram();let g,_,y=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(g=[p].filter(pf).join("\n"),g.length>0&&(g+="\n"),_=[f,p].filter(pf).join("\n"),_.length>0&&(_+="\n")):(g=[ZL(e),"#define SHADER_NAME "+e.shaderName,p,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(pf).join("\n"),_=[f,ZL(e),"#define SHADER_NAME "+e.shaderName,p,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+u:"",e.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?Lt.tonemapping_pars_fragment:"",0!==e.toneMapping?fse("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Lt.encodings_pars_fragment,hse("linearToOutputTexel",e.outputEncoding),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(pf).join("\n")),o=iC(o),o=qL(o,e),o=YL(o,e),a=iC(a),a=qL(a,e),a=YL(a,e),o=XL(o),a=XL(a),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,_=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_);const b=y+_+a,x=WL(r,35633,y+g+o),w=WL(r,35632,b);if(r.attachShader(m,x),r.attachShader(m,w),void 0!==e.index0AttributeName?r.bindAttribLocation(m,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),i.debug.checkShaderErrors){const S=r.getProgramInfoLog(m).trim(),F=r.getShaderInfoLog(x).trim(),B=r.getShaderInfoLog(w).trim();let J=!0,ie=!0;if(!1===r.getProgramParameter(m,35714)){J=!1;const V=$L(r,x,"vertex"),X=$L(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+S+"\n"+V+"\n"+X)}else""!==S?console.warn("THREE.WebGLProgram: Program Info Log:",S):(""===F||""===B)&&(ie=!1);ie&&(this.diagnostics={runnable:J,programLog:S,vertexShader:{log:F,prefix:g},fragmentShader:{log:B,prefix:_}})}let A,M;return r.deleteShader(x),r.deleteShader(w),this.getUniforms=function(){return void 0===A&&(A=new R_(r,m)),A},this.getAttributes=function(){return void 0===M&&(M=function gse(i,t){const e={},n=i.getProgramParameter(t,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(t,r),o=s.name;let a=1;35674===s.type&&(a=2),35675===s.type&&(a=3),35676===s.type&&(a=4),e[o]={type:s.type,location:i.getAttribLocation(t,o),locationSize:a}}return e}(r,m)),M},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=e.shaderName,this.id=cse++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}let Tse=0;class Pse{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.fragmentShader,r=this._getShaderStage(t.vertexShader),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const n=new Ase(t);e.set(t,n)}return e.get(t)}}class Ase{constructor(t){this.id=Tse++,this.code=t,this.usedTimes=0}}function Ise(i,t,e,n,r,s,o){const a=new Fu,l=new Pse,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function m(M,S,F,B,J){const ie=B.fog,V=J.geometry,L=(M.isMeshStandardMaterial?e:t).get(M.envMap||(M.isMeshStandardMaterial?B.environment:null)),H=L&&306===L.mapping?L.image.height:null,G=p[M.type];null!==M.precision&&(f=r.getMaxPrecision(M.precision),f!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",f,"instead."));const U=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,$=void 0!==U?U.length:0;let re,ve,Me,je,me=0;if(void 0!==V.morphAttributes.position&&(me=1),void 0!==V.morphAttributes.normal&&(me=2),void 0!==V.morphAttributes.color&&(me=3),G){const gt=Ys[G];re=gt.vertexShader,ve=gt.fragmentShader}else re=M.vertexShader,ve=M.fragmentShader,l.update(M),Me=l.getVertexShaderID(M),je=l.getFragmentShaderID(M);const ne=i.getRenderTarget(),rt=M.clearcoat>0,Ye=M.iridescence>0;return{isWebGL2:u,shaderID:G,shaderName:M.type,vertexShader:re,fragmentShader:ve,defines:M.defines,customVertexShaderID:Me,customFragmentShaderID:je,isRawShaderMaterial:!0===M.isRawShaderMaterial,glslVersion:M.glslVersion,precision:f,instancing:!0===J.isInstancedMesh,instancingColor:!0===J.isInstancedMesh&&null!==J.instanceColor,supportsVertexTextures:h,outputEncoding:null===ne?i.outputEncoding:!0===ne.isXRRenderTarget?ne.texture.encoding:ba,map:!!M.map,matcap:!!M.matcap,envMap:!!L,envMapMode:L&&L.mapping,envMapCubeUVHeight:H,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:1===M.normalMapType,tangentSpaceNormalMap:0===M.normalMapType,decodeVideoTexture:!!M.map&&!0===M.map.isVideoTexture&&M.map.encoding===nn,clearcoat:rt,clearcoatMap:rt&&!!M.clearcoatMap,clearcoatRoughnessMap:rt&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:rt&&!!M.clearcoatNormalMap,iridescence:Ye,iridescenceMap:Ye&&!!M.iridescenceMap,iridescenceThicknessMap:Ye&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:!1===M.transparent&&1===M.blending,alphaMap:!!M.alphaMap,alphaTest:M.alphaTest>0,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!V.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:!0===M.vertexColors&&!!V.attributes.color&&4===V.attributes.color.itemSize,vertexUvs:!!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatMap||M.clearcoatRoughnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.displacementMap||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheenColorMap||M.sheenRoughnessMap),uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap||!M.displacementMap),fog:!!ie,useFog:!0===M.fog,fogExp2:ie&&ie.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===J.isSkinnedMesh,morphTargets:void 0!==V.morphAttributes.position,morphNormals:void 0!==V.morphAttributes.normal,morphColors:void 0!==V.morphAttributes.color,morphTargetsCount:$,morphTextureStride:me,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:i.shadowMap.enabled&&F.length>0,shadowMapType:i.shadowMap.type,toneMapping:M.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:2===M.side,flipSided:1===M.side,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}},getProgramCacheKey:function g(M){const S=[];if(M.shaderID?S.push(M.shaderID):(S.push(M.customVertexShaderID),S.push(M.customFragmentShaderID)),void 0!==M.defines)for(const F in M.defines)S.push(F),S.push(M.defines[F]);return!1===M.isRawShaderMaterial&&(function _(M,S){M.push(S.precision),M.push(S.outputEncoding),M.push(S.envMapMode),M.push(S.envMapCubeUVHeight),M.push(S.combine),M.push(S.vertexUvs),M.push(S.fogExp2),M.push(S.sizeAttenuation),M.push(S.morphTargetsCount),M.push(S.morphAttributeCount),M.push(S.numDirLights),M.push(S.numPointLights),M.push(S.numSpotLights),M.push(S.numHemiLights),M.push(S.numRectAreaLights),M.push(S.numDirLightShadows),M.push(S.numPointLightShadows),M.push(S.numSpotLightShadows),M.push(S.shadowMapType),M.push(S.toneMapping),M.push(S.numClippingPlanes),M.push(S.numClipIntersection),M.push(S.depthPacking)}(S,M),function y(M,S){a.disableAll(),S.isWebGL2&&a.enable(0),S.supportsVertexTextures&&a.enable(1),S.instancing&&a.enable(2),S.instancingColor&&a.enable(3),S.map&&a.enable(4),S.matcap&&a.enable(5),S.envMap&&a.enable(6),S.lightMap&&a.enable(7),S.aoMap&&a.enable(8),S.emissiveMap&&a.enable(9),S.bumpMap&&a.enable(10),S.normalMap&&a.enable(11),S.objectSpaceNormalMap&&a.enable(12),S.tangentSpaceNormalMap&&a.enable(13),S.clearcoat&&a.enable(14),S.clearcoatMap&&a.enable(15),S.clearcoatRoughnessMap&&a.enable(16),S.clearcoatNormalMap&&a.enable(17),S.iridescence&&a.enable(18),S.iridescenceMap&&a.enable(19),S.iridescenceThicknessMap&&a.enable(20),S.displacementMap&&a.enable(21),S.specularMap&&a.enable(22),S.roughnessMap&&a.enable(23),S.metalnessMap&&a.enable(24),S.gradientMap&&a.enable(25),S.alphaMap&&a.enable(26),S.alphaTest&&a.enable(27),S.vertexColors&&a.enable(28),S.vertexAlphas&&a.enable(29),S.vertexUvs&&a.enable(30),S.vertexTangents&&a.enable(31),S.uvsVertexOnly&&a.enable(32),S.fog&&a.enable(33),M.push(a.mask),a.disableAll(),S.useFog&&a.enable(0),S.flatShading&&a.enable(1),S.logarithmicDepthBuffer&&a.enable(2),S.skinning&&a.enable(3),S.morphTargets&&a.enable(4),S.morphNormals&&a.enable(5),S.morphColors&&a.enable(6),S.premultipliedAlpha&&a.enable(7),S.shadowMapEnabled&&a.enable(8),S.physicallyCorrectLights&&a.enable(9),S.doubleSided&&a.enable(10),S.flipSided&&a.enable(11),S.useDepthPacking&&a.enable(12),S.dithering&&a.enable(13),S.specularIntensityMap&&a.enable(14),S.specularColorMap&&a.enable(15),S.transmission&&a.enable(16),S.transmissionMap&&a.enable(17),S.thicknessMap&&a.enable(18),S.sheen&&a.enable(19),S.sheenColorMap&&a.enable(20),S.sheenRoughnessMap&&a.enable(21),S.decodeVideoTexture&&a.enable(22),S.opaque&&a.enable(23),M.push(a.mask)}(S,M),S.push(i.outputEncoding)),S.push(M.customProgramCacheKey),S.join()},getUniforms:function v(M){const S=p[M.type];let F;return F=S?Yw.clone(Ys[S].uniforms):M.uniforms,F},acquireProgram:function b(M,S){let F;for(let B=0,J=c.length;B<J;B++){const ie=c[B];if(ie.cacheKey===S){F=ie,++F.usedTimes;break}}return void 0===F&&(F=new Ese(i,S,M,s),c.push(F)),F},releaseProgram:function x(M){if(0==--M.usedTimes){const S=c.indexOf(M);c[S]=c[c.length-1],c.pop(),M.destroy()}},releaseShaderCache:function w(M){l.remove(M)},programs:c,dispose:function A(){l.dispose()}}}function Ose(){let i=new WeakMap;return{get:function t(s){let o=i.get(s);return void 0===o&&(o={},i.set(s,o)),o},remove:function e(s){i.delete(s)},update:function n(s,o,a){i.get(s)[o]=a},dispose:function r(){i=new WeakMap}}}function Rse(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function QL(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function JL(){const i=[];let t=0;const e=[],n=[],r=[];function o(d,h,f,p,m,g){let _=i[t];return void 0===_?(_={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:m,group:g},i[t]=_):(_.id=d.id,_.object=d,_.geometry=h,_.material=f,_.groupOrder=p,_.renderOrder=d.renderOrder,_.z=m,_.group=g),t++,_}return{opaque:e,transmissive:n,transparent:r,init:function s(){t=0,e.length=0,n.length=0,r.length=0},push:function a(d,h,f,p,m,g){const _=o(d,h,f,p,m,g);f.transmission>0?n.push(_):!0===f.transparent?r.push(_):e.push(_)},unshift:function l(d,h,f,p,m,g){const _=o(d,h,f,p,m,g);f.transmission>0?n.unshift(_):!0===f.transparent?r.unshift(_):e.unshift(_)},finish:function u(){for(let d=t,h=i.length;d<h;d++){const f=i[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,h){e.length>1&&e.sort(d||Rse),n.length>1&&n.sort(h||QL),r.length>1&&r.sort(h||QL)}}}function Nse(){let i=new WeakMap;return{get:function t(n,r){let s;return!1===i.has(n)?(s=new JL,i.set(n,[s])):r>=i.get(n).length?(s=new JL,i.get(n).push(s)):s=i.get(n)[r],s},dispose:function e(){i=new WeakMap}}}function kse(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new C,color:new xe};break;case"SpotLight":e={position:new C,direction:new C,color:new xe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new C,color:new xe,distance:0,decay:0};break;case"HemisphereLight":e={direction:new C,skyColor:new xe,groundColor:new xe};break;case"RectAreaLight":e={color:new xe,position:new C,halfWidth:new C,halfHeight:new C}}return i[t.id]=e,e}}}let Lse=0;function Bse(i,t){return(t.castShadow?1:0)-(i.castShadow?1:0)}function Vse(i,t){const e=new kse,n=function Fse(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new q};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new q,shadowCameraNear:1,shadowCameraFar:1e3}}return i[t.id]=e,e}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new C);const s=new C,o=new Ct,a=new Ct;return{setup:function l(u,d){let h=0,f=0,p=0;for(let S=0;S<9;S++)r.probe[S].set(0,0,0);let m=0,g=0,_=0,y=0,v=0,b=0,x=0,w=0;u.sort(Bse);const A=!0!==d?Math.PI:1;for(let S=0,F=u.length;S<F;S++){const B=u[S],J=B.color,ie=B.intensity,V=B.distance,X=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=J.r*ie*A,f+=J.g*ie*A,p+=J.b*ie*A;else if(B.isLightProbe)for(let L=0;L<9;L++)r.probe[L].addScaledVector(B.sh.coefficients[L],ie);else if(B.isDirectionalLight){const L=e.get(B);if(L.color.copy(B.color).multiplyScalar(B.intensity*A),B.castShadow){const H=B.shadow,G=n.get(B);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,r.directionalShadow[m]=G,r.directionalShadowMap[m]=X,r.directionalShadowMatrix[m]=B.shadow.matrix,b++}r.directional[m]=L,m++}else if(B.isSpotLight){const L=e.get(B);if(L.position.setFromMatrixPosition(B.matrixWorld),L.color.copy(J).multiplyScalar(ie*A),L.distance=V,L.coneCos=Math.cos(B.angle),L.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),L.decay=B.decay,B.castShadow){const H=B.shadow,G=n.get(B);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,r.spotShadow[_]=G,r.spotShadowMap[_]=X,r.spotShadowMatrix[_]=B.shadow.matrix,w++}r.spot[_]=L,_++}else if(B.isRectAreaLight){const L=e.get(B);L.color.copy(J).multiplyScalar(ie),L.halfWidth.set(.5*B.width,0,0),L.halfHeight.set(0,.5*B.height,0),r.rectArea[y]=L,y++}else if(B.isPointLight){const L=e.get(B);if(L.color.copy(B.color).multiplyScalar(B.intensity*A),L.distance=B.distance,L.decay=B.decay,B.castShadow){const H=B.shadow,G=n.get(B);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,G.shadowCameraNear=H.camera.near,G.shadowCameraFar=H.camera.far,r.pointShadow[g]=G,r.pointShadowMap[g]=X,r.pointShadowMatrix[g]=B.shadow.matrix,x++}r.point[g]=L,g++}else if(B.isHemisphereLight){const L=e.get(B);L.skyColor.copy(B.color).multiplyScalar(ie*A),L.groundColor.copy(B.groundColor).multiplyScalar(ie*A),r.hemi[v]=L,v++}}y>0&&(t.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=Ne.LTC_FLOAT_1,r.rectAreaLTC2=Ne.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Ne.LTC_HALF_1,r.rectAreaLTC2=Ne.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const M=r.hash;(M.directionalLength!==m||M.pointLength!==g||M.spotLength!==_||M.rectAreaLength!==y||M.hemiLength!==v||M.numDirectionalShadows!==b||M.numPointShadows!==x||M.numSpotShadows!==w)&&(r.directional.length=m,r.spot.length=_,r.rectArea.length=y,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=x,r.spotShadowMatrix.length=w,M.directionalLength=m,M.pointLength=g,M.spotLength=_,M.rectAreaLength=y,M.hemiLength=v,M.numDirectionalShadows=b,M.numPointShadows=x,M.numSpotShadows=w,r.version=Lse++)},setupView:function c(u,d){let h=0,f=0,p=0,m=0,g=0;const _=d.matrixWorldInverse;for(let y=0,v=u.length;y<v;y++){const b=u[y];if(b.isDirectionalLight){const x=r.directional[h];x.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(s),x.direction.transformDirection(_),h++}else if(b.isSpotLight){const x=r.spot[p];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(_),x.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(s),x.direction.transformDirection(_),p++}else if(b.isRectAreaLight){const x=r.rectArea[m];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(_),a.identity(),o.copy(b.matrixWorld),o.premultiply(_),a.extractRotation(o),x.halfWidth.set(.5*b.width,0,0),x.halfHeight.set(0,.5*b.height,0),x.halfWidth.applyMatrix4(a),x.halfHeight.applyMatrix4(a),m++}else if(b.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(_),f++}else if(b.isHemisphereLight){const x=r.hemi[g];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(_),g++}}},state:r}}function e2(i,t){const e=new Vse(i,t),n=[],r=[];return{init:function s(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:e},setupLights:function l(d){e.setup(n,d)},setupLightsView:function c(d){e.setupView(n,d)},pushLight:function o(d){n.push(d)},pushShadow:function a(d){r.push(d)}}}function zse(i,t){let e=new WeakMap;return{get:function n(s,o=0){let a;return!1===e.has(s)?(a=new e2(i,t),e.set(s,[a])):o>=e.get(s).length?(a=new e2(i,t),e.get(s).push(a)):a=e.get(s)[o],a},dispose:function r(){e=new WeakMap}}}class rC extends vs{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class t2 extends vs{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new C,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function Gse(i,t,e){let n=new Zw;const r=new q,s=new q,o=new dn,a=new rC({depthPacking:3201}),l=new t2,c={},u=e.maxTextureSize,d={0:1,1:0,2:2},h=new Ki({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new q},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Pt;p.setAttribute("position",new ai(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new li(p,h),g=this;function _(b,x){const w=t.update(m);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new Xi(r.x,r.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,i.setRenderTarget(b.mapPass),i.clear(),i.renderBufferDirect(x,null,w,h,m,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,i.setRenderTarget(b.map),i.clear(),i.renderBufferDirect(x,null,w,f,m,null)}function y(b,x,w,A,M,S){let F=null;const B=!0===w.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(F=void 0!==B?B:!0===w.isPointLight?l:a,i.localClippingEnabled&&!0===x.clipShadows&&Array.isArray(x.clippingPlanes)&&0!==x.clippingPlanes.length||x.displacementMap&&0!==x.displacementScale||x.alphaMap&&x.alphaTest>0){const J=F.uuid,ie=x.uuid;let V=c[J];void 0===V&&(V={},c[J]=V);let X=V[ie];void 0===X&&(X=F.clone(),V[ie]=X),F=X}return F.visible=x.visible,F.wireframe=x.wireframe,F.side=3===S?null!==x.shadowSide?x.shadowSide:x.side:null!==x.shadowSide?x.shadowSide:d[x.side],F.alphaMap=x.alphaMap,F.alphaTest=x.alphaTest,F.clipShadows=x.clipShadows,F.clippingPlanes=x.clippingPlanes,F.clipIntersection=x.clipIntersection,F.displacementMap=x.displacementMap,F.displacementScale=x.displacementScale,F.displacementBias=x.displacementBias,F.wireframeLinewidth=x.wireframeLinewidth,F.linewidth=x.linewidth,!0===w.isPointLight&&!0===F.isMeshDistanceMaterial&&(F.referencePosition.setFromMatrixPosition(w.matrixWorld),F.nearDistance=A,F.farDistance=M),F}function v(b,x,w,A,M){if(!1===b.visible)return;if(b.layers.test(x.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&3===M)&&(!b.frustumCulled||n.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,b.matrixWorld);const B=t.update(b),J=b.material;if(Array.isArray(J)){const ie=B.groups;for(let V=0,X=ie.length;V<X;V++){const L=ie[V],H=J[L.materialIndex];if(H&&H.visible){const G=y(b,H,A,w.near,w.far,M);i.renderBufferDirect(w,null,B,G,b,L)}}}else if(J.visible){const ie=y(b,J,A,w.near,w.far,M);i.renderBufferDirect(w,null,B,ie,b,null)}}const F=b.children;for(let B=0,J=F.length;B<J;B++)v(F[B],x,w,A,M)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,x,w){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===b.length)return;const A=i.getRenderTarget(),M=i.getActiveCubeFace(),S=i.getActiveMipmapLevel(),F=i.state;F.setBlending(0),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);for(let B=0,J=b.length;B<J;B++){const ie=b[B],V=ie.shadow;if(void 0===V){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(!1===V.autoUpdate&&!1===V.needsUpdate)continue;r.copy(V.mapSize);const X=V.getFrameExtents();r.multiply(X),s.copy(V.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/X.x),r.x=s.x*X.x,V.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/X.y),r.y=s.y*X.y,V.mapSize.y=s.y)),null===V.map&&(V.map=new Xi(r.x,r.y,3!==this.type?{minFilter:si,magFilter:si}:{}),V.map.texture.name=ie.name+".shadowMap",V.camera.updateProjectionMatrix()),i.setRenderTarget(V.map),i.clear();const L=V.getViewportCount();for(let H=0;H<L;H++){const G=V.getViewport(H);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),F.viewport(o),V.updateMatrices(ie,H),n=V.getFrustum(),v(x,w,V.camera,ie,this.type)}!0!==V.isPointLightShadow&&3===this.type&&_(V,w),V.needsUpdate=!1}g.needsUpdate=!1,i.setRenderTarget(A,M,S)}}function jse(i,t,e){const n=e.isWebGL2,a=new function r(){let T=!1;const ee=new dn;let oe=null;const ze=new dn(0,0,0,0);return{setMask:function(Pe){oe!==Pe&&!T&&(i.colorMask(Pe,Pe,Pe,Pe),oe=Pe)},setLocked:function(Pe){T=Pe},setClear:function(Pe,Qe,Te,st,Ot){!0===Ot&&(Pe*=st,Qe*=st,Te*=st),ee.set(Pe,Qe,Te,st),!1===ze.equals(ee)&&(i.clearColor(Pe,Qe,Te,st),ze.copy(ee))},reset:function(){T=!1,oe=null,ze.set(-1,0,0,0)}}},l=new function s(){let T=!1,ee=null,oe=null,ze=null;return{setTest:function(Pe){Pe?je(2929):ne(2929)},setMask:function(Pe){ee!==Pe&&!T&&(i.depthMask(Pe),ee=Pe)},setFunc:function(Pe){if(oe!==Pe){if(Pe)switch(Pe){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:default:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517)}else i.depthFunc(515);oe=Pe}},setLocked:function(Pe){T=Pe},setClear:function(Pe){ze!==Pe&&(i.clearDepth(Pe),ze=Pe)},reset:function(){T=!1,ee=null,oe=null,ze=null}}},c=new function o(){let T=!1,ee=null,oe=null,ze=null,Pe=null,Qe=null,Te=null,st=null,Ot=null;return{setTest:function(hn){T||(hn?je(2960):ne(2960))},setMask:function(hn){ee!==hn&&!T&&(i.stencilMask(hn),ee=hn)},setFunc:function(hn,nr,no){(oe!==hn||ze!==nr||Pe!==no)&&(i.stencilFunc(hn,nr,no),oe=hn,ze=nr,Pe=no)},setOp:function(hn,nr,no){(Qe!==hn||Te!==nr||st!==no)&&(i.stencilOp(hn,nr,no),Qe=hn,Te=nr,st=no)},setLocked:function(hn){T=hn},setClear:function(hn){Ot!==hn&&(i.clearStencil(hn),Ot=hn)},reset:function(){T=!1,ee=null,oe=null,ze=null,Pe=null,Qe=null,Te=null,st=null,Ot=null}}};let u={},d={},h=new WeakMap,f=[],p=null,m=!1,g=null,_=null,y=null,v=null,b=null,x=null,w=null,A=!1,M=null,S=null,F=null,B=null,J=null;const ie=i.getParameter(35661);let V=!1,X=0;const L=i.getParameter(7938);-1!==L.indexOf("WebGL")?(X=parseFloat(/^WebGL (\d)/.exec(L)[1]),V=X>=1):-1!==L.indexOf("OpenGL ES")&&(X=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),V=X>=2);let H=null,G={};const U=i.getParameter(3088),$=i.getParameter(2978),me=(new dn).fromArray(U),re=(new dn).fromArray($);function ve(T,ee,oe){const ze=new Uint8Array(4),Pe=i.createTexture();i.bindTexture(T,Pe),i.texParameteri(T,10241,9728),i.texParameteri(T,10240,9728);for(let Qe=0;Qe<oe;Qe++)i.texImage2D(ee+Qe,0,6408,1,1,0,6408,5121,ze);return Pe}const Me={};function je(T){!0!==u[T]&&(i.enable(T),u[T]=!0)}function ne(T){!1!==u[T]&&(i.disable(T),u[T]=!1)}Me[3553]=ve(3553,3553,1),Me[34067]=ve(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),je(2929),l.setFunc(3),Ce(!1),He(1),je(2884),ce(0);const Ee={100:32774,101:32778,102:32779};if(n)Ee[103]=32775,Ee[104]=32776;else{const T=t.get("EXT_blend_minmax");null!==T&&(Ee[103]=T.MIN_EXT,Ee[104]=T.MAX_EXT)}const gt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function ce(T,ee,oe,ze,Pe,Qe,Te,st){if(0!==T){if(!1===m&&(je(3042),m=!0),5===T)Pe=Pe||ee,Qe=Qe||oe,Te=Te||ze,(ee!==_||Pe!==b)&&(i.blendEquationSeparate(Ee[ee],Ee[Pe]),_=ee,b=Pe),(oe!==y||ze!==v||Qe!==x||Te!==w)&&(i.blendFuncSeparate(gt[oe],gt[ze],gt[Qe],gt[Te]),y=oe,v=ze,x=Qe,w=Te),g=T,A=null;else if(T!==g||st!==A){if((100!==_||100!==b)&&(i.blendEquation(32774),_=100,b=100),st)switch(T){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",T)}else switch(T){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",T)}y=null,v=null,x=null,w=null,g=T,A=st}}else!0===m&&(ne(3042),m=!1)}function Ce(T){M!==T&&(i.frontFace(T?2304:2305),M=T)}function He(T){0!==T?(je(2884),T!==S&&i.cullFace(1===T?1029:2===T?1028:1032)):ne(2884),S=T}function _t(T,ee,oe){T?(je(32823),(B!==ee||J!==oe)&&(i.polygonOffset(ee,oe),B=ee,J=oe)):ne(32823)}function tt(T){void 0===T&&(T=33984+ie-1),H!==T&&(i.activeTexture(T),H=T)}return{buffers:{color:a,depth:l,stencil:c},enable:je,disable:ne,bindFramebuffer:function dt(T,ee){return d[T]!==ee&&(i.bindFramebuffer(T,ee),d[T]=ee,n&&(36009===T&&(d[36160]=ee),36160===T&&(d[36009]=ee)),!0)},drawBuffers:function rt(T,ee){let oe=f,ze=!1;if(T)if(oe=h.get(ee),void 0===oe&&(oe=[],h.set(ee,oe)),T.isWebGLMultipleRenderTargets){const Pe=T.texture;if(oe.length!==Pe.length||36064!==oe[0]){for(let Qe=0,Te=Pe.length;Qe<Te;Qe++)oe[Qe]=36064+Qe;oe.length=Pe.length,ze=!0}}else 36064!==oe[0]&&(oe[0]=36064,ze=!0);else 1029!==oe[0]&&(oe[0]=1029,ze=!0);ze&&(e.isWebGL2?i.drawBuffers(oe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))},useProgram:function Ye(T){return p!==T&&(i.useProgram(T),p=T,!0)},setBlending:ce,setMaterial:function se(T,ee){2===T.side?ne(2884):je(2884);let oe=1===T.side;ee&&(oe=!oe),Ce(oe),1===T.blending&&!1===T.transparent?ce(0):ce(T.blending,T.blendEquation,T.blendSrc,T.blendDst,T.blendEquationAlpha,T.blendSrcAlpha,T.blendDstAlpha,T.premultipliedAlpha),l.setFunc(T.depthFunc),l.setTest(T.depthTest),l.setMask(T.depthWrite),a.setMask(T.colorWrite);const ze=T.stencilWrite;c.setTest(ze),ze&&(c.setMask(T.stencilWriteMask),c.setFunc(T.stencilFunc,T.stencilRef,T.stencilFuncMask),c.setOp(T.stencilFail,T.stencilZFail,T.stencilZPass)),_t(T.polygonOffset,T.polygonOffsetFactor,T.polygonOffsetUnits),!0===T.alphaToCoverage?je(32926):ne(32926)},setFlipSided:Ce,setCullFace:He,setLineWidth:function Oe(T){T!==F&&(V&&i.lineWidth(T),F=T)},setPolygonOffset:_t,setScissorTest:function at(T){T?je(3089):ne(3089)},activeTexture:tt,bindTexture:function rn(T,ee){null===H&&tt();let oe=G[H];void 0===oe&&(oe={type:void 0,texture:void 0},G[H]=oe),(oe.type!==T||oe.texture!==ee)&&(i.bindTexture(T,ee||Me[T]),oe.type=T,oe.texture=ee)},unbindTexture:function Kt(){const T=G[H];void 0!==T&&void 0!==T.type&&(i.bindTexture(T.type,null),T.type=void 0,T.texture=void 0)},compressedTexImage2D:function O(){try{i.compressedTexImage2D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},texImage2D:function ht(){try{i.texImage2D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},texImage3D:function P(){try{i.texImage3D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},texStorage2D:function Se(){try{i.texStorage2D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},texStorage3D:function Re(){try{i.texStorage3D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},texSubImage2D:function E(){try{i.texSubImage2D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},texSubImage3D:function Z(){try{i.texSubImage3D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},compressedTexSubImage2D:function ge(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(T){console.error("THREE.WebGLState:",T)}},scissor:function fe(T){!1===me.equals(T)&&(i.scissor(T.x,T.y,T.z,T.w),me.copy(T))},viewport:function De(T){!1===re.equals(T)&&(i.viewport(T.x,T.y,T.z,T.w),re.copy(T))},reset:function R(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),!0===n&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),u={},H=null,G={},d={},h=new WeakMap,f=[],p=null,m=!1,g=null,_=null,y=null,v=null,b=null,x=null,w=null,A=!1,M=null,S=null,F=null,B=null,J=null,me.set(0,0,i.canvas.width,i.canvas.height),re.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),c.reset()}}}function Wse(i,t,e,n,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function y(O,E){return _?new OffscreenCanvas(O,E):cf("canvas")}function v(O,E,Z,ge){let Se=1;if((O.width>ge||O.height>ge)&&(Se=ge/Math.max(O.width,O.height)),Se<1||!0===E){if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap){const Re=E?l_:Math.floor,ht=Re(Se*O.width),P=Re(Se*O.height);void 0===m&&(m=y(ht,P));const fe=Z?y(ht,P):m;return fe.width=ht,fe.height=P,fe.getContext("2d").drawImage(O,0,0,ht,P),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+ht+"x"+P+")."),fe}return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O}return O}function b(O){return Sw(O.width)&&Sw(O.height)}function w(O,E){return O.generateMipmaps&&E&&O.minFilter!==si&&O.minFilter!==Vn}function A(O){i.generateMipmap(O)}function M(O,E,Z,ge,Se=!1){if(!1===a)return E;if(null!==O){if(void 0!==i[O])return i[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let Re=E;return 6403===E&&(5126===Z&&(Re=33326),5131===Z&&(Re=33325),5121===Z&&(Re=33321)),33319===E&&(5126===Z&&(Re=33328),5131===Z&&(Re=33327),5121===Z&&(Re=33323)),6408===E&&(5126===Z&&(Re=34836),5131===Z&&(Re=34842),5121===Z&&(Re=ge===nn&&!1===Se?35907:32856),32819===Z&&(Re=32854),32820===Z&&(Re=32855)),(33325===Re||33326===Re||33327===Re||33328===Re||34842===Re||34836===Re)&&t.get("EXT_color_buffer_float"),Re}function S(O,E,Z){return!0===w(O,Z)||O.isFramebufferTexture&&O.minFilter!==si&&O.minFilter!==Vn?Math.log2(Math.max(E.width,E.height))+1:void 0!==O.mipmaps&&O.mipmaps.length>0?O.mipmaps.length:O.isCompressedTexture&&Array.isArray(O.image)?E.mipmaps.length:1}function F(O){return O===si||1004===O||1005===O?9728:9729}function B(O){const E=O.target;E.removeEventListener("dispose",B),function ie(O){const E=n.get(O);if(void 0===E.__webglInit)return;const Z=O.source,ge=g.get(Z);if(ge){const Se=ge[E.__cacheKey];Se.usedTimes--,0===Se.usedTimes&&V(O),0===Object.keys(ge).length&&g.delete(Z)}n.remove(O)}(E),E.isVideoTexture&&p.delete(E)}function J(O){const E=O.target;E.removeEventListener("dispose",J),function X(O){const E=O.texture,Z=n.get(O),ge=n.get(E);if(void 0!==ge.__webglTexture&&(i.deleteTexture(ge.__webglTexture),o.memory.textures--),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)i.deleteFramebuffer(Z.__webglFramebuffer[Se]),Z.__webglDepthbuffer&&i.deleteRenderbuffer(Z.__webglDepthbuffer[Se]);else{if(i.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&i.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Se=0;Se<Z.__webglColorRenderbuffer.length;Se++)Z.__webglColorRenderbuffer[Se]&&i.deleteRenderbuffer(Z.__webglColorRenderbuffer[Se]);Z.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}if(O.isWebGLMultipleRenderTargets)for(let Se=0,Re=E.length;Se<Re;Se++){const ht=n.get(E[Se]);ht.__webglTexture&&(i.deleteTexture(ht.__webglTexture),o.memory.textures--),n.remove(E[Se])}n.remove(E),n.remove(O)}(E)}function V(O){const E=n.get(O);i.deleteTexture(E.__webglTexture),delete g.get(O.source)[E.__cacheKey],o.memory.textures--}let L=0;function $(O,E){const Z=n.get(O);if(O.isVideoTexture&&function rn(O){const E=o.render.frame;p.get(O)!==E&&(p.set(O,E),O.update())}(O),!1===O.isRenderTargetTexture&&O.version>0&&Z.__version!==O.version){const ge=O.image;if(null===ge)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ge.complete)return void rt(Z,O,E);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.activeTexture(33984+E),e.bindTexture(3553,Z.__webglTexture)}const Me={[Dl]:10497,[Yi]:33071,1002:33648},je={[si]:9728,1004:9984,1005:9986,[Vn]:9729,1007:9985,[ya]:9987};function ne(O,E,Z){if(Z?(i.texParameteri(O,10242,Me[E.wrapS]),i.texParameteri(O,10243,Me[E.wrapT]),(32879===O||35866===O)&&i.texParameteri(O,32882,Me[E.wrapR]),i.texParameteri(O,10240,je[E.magFilter]),i.texParameteri(O,10241,je[E.minFilter])):(i.texParameteri(O,10242,33071),i.texParameteri(O,10243,33071),(32879===O||35866===O)&&i.texParameteri(O,32882,33071),(E.wrapS!==Yi||E.wrapT!==Yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(O,10240,F(E.magFilter)),i.texParameteri(O,10241,F(E.minFilter)),E.minFilter!==si&&E.minFilter!==Vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const ge=t.get("EXT_texture_filter_anisotropic");if(E.type===va&&!1===t.has("OES_texture_float_linear")||!1===a&&E.type===rf&&!1===t.has("OES_texture_half_float_linear"))return;(E.anisotropy>1||n.get(E).__currentAnisotropy)&&(i.texParameterf(O,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,r.getMaxAnisotropy())),n.get(E).__currentAnisotropy=E.anisotropy)}}function dt(O,E){let Z=!1;void 0===O.__webglInit&&(O.__webglInit=!0,E.addEventListener("dispose",B));const ge=E.source;let Se=g.get(ge);void 0===Se&&(Se={},g.set(ge,Se));const Re=function U(O){const E=[];return E.push(O.wrapS),E.push(O.wrapT),E.push(O.magFilter),E.push(O.minFilter),E.push(O.anisotropy),E.push(O.internalFormat),E.push(O.format),E.push(O.type),E.push(O.generateMipmaps),E.push(O.premultiplyAlpha),E.push(O.flipY),E.push(O.unpackAlignment),E.push(O.encoding),E.join()}(E);if(Re!==O.__cacheKey){void 0===Se[Re]&&(Se[Re]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,Z=!0),Se[Re].usedTimes++;const ht=Se[O.__cacheKey];void 0!==ht&&(Se[O.__cacheKey].usedTimes--,0===ht.usedTimes&&V(E)),O.__cacheKey=Re,O.__webglTexture=Se[Re].texture}return Z}function rt(O,E,Z){let ge=3553;E.isDataArrayTexture&&(ge=35866),E.isData3DTexture&&(ge=32879);const Se=dt(O,E),Re=E.source;if(e.activeTexture(33984+Z),e.bindTexture(ge,O.__webglTexture),Re.version!==Re.__currentVersion||!0===Se){i.pixelStorei(37440,E.flipY),i.pixelStorei(37441,E.premultiplyAlpha),i.pixelStorei(3317,E.unpackAlignment),i.pixelStorei(37443,0);const ht=function x(O){return!a&&(O.wrapS!==Yi||O.wrapT!==Yi||O.minFilter!==si&&O.minFilter!==Vn)}(E)&&!1===b(E.image);let P=v(E.image,ht,!1,u);P=Kt(E,P);const fe=b(P)||a,De=s.convert(E.format,E.encoding);let ee,R=s.convert(E.type),T=M(E.internalFormat,De,R,E.encoding,E.isVideoTexture);ne(ge,E,fe);const oe=E.mipmaps,ze=a&&!0!==E.isVideoTexture,Pe=void 0===Re.__currentVersion||!0===Se,Qe=S(E,P,fe);if(E.isDepthTexture)T=6402,a?T=E.type===va?36012:E.type===Tl?33190:E.type===Cu?35056:33189:E.type===va&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),E.format===Pl&&6402===T&&1012!==E.type&&E.type!==Tl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),E.type=Tl,R=s.convert(E.type)),E.format===Su&&6402===T&&(T=34041,E.type!==Cu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=Cu,R=s.convert(E.type))),Pe&&(ze?e.texStorage2D(3553,1,T,P.width,P.height):e.texImage2D(3553,0,T,P.width,P.height,0,De,R,null));else if(E.isDataTexture)if(oe.length>0&&fe){ze&&Pe&&e.texStorage2D(3553,Qe,T,oe[0].width,oe[0].height);for(let Te=0,st=oe.length;Te<st;Te++)ee=oe[Te],ze?e.texSubImage2D(3553,Te,0,0,ee.width,ee.height,De,R,ee.data):e.texImage2D(3553,Te,T,ee.width,ee.height,0,De,R,ee.data);E.generateMipmaps=!1}else ze?(Pe&&e.texStorage2D(3553,Qe,T,P.width,P.height),e.texSubImage2D(3553,0,0,0,P.width,P.height,De,R,P.data)):e.texImage2D(3553,0,T,P.width,P.height,0,De,R,P.data);else if(E.isCompressedTexture){ze&&Pe&&e.texStorage2D(3553,Qe,T,oe[0].width,oe[0].height);for(let Te=0,st=oe.length;Te<st;Te++)ee=oe[Te],E.format!==ps?null!==De?ze?e.compressedTexSubImage2D(3553,Te,0,0,ee.width,ee.height,De,ee.data):e.compressedTexImage2D(3553,Te,T,ee.width,ee.height,0,ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?e.texSubImage2D(3553,Te,0,0,ee.width,ee.height,De,R,ee.data):e.texImage2D(3553,Te,T,ee.width,ee.height,0,De,R,ee.data)}else if(E.isDataArrayTexture)ze?(Pe&&e.texStorage3D(35866,Qe,T,P.width,P.height,P.depth),e.texSubImage3D(35866,0,0,0,0,P.width,P.height,P.depth,De,R,P.data)):e.texImage3D(35866,0,T,P.width,P.height,P.depth,0,De,R,P.data);else if(E.isData3DTexture)ze?(Pe&&e.texStorage3D(32879,Qe,T,P.width,P.height,P.depth),e.texSubImage3D(32879,0,0,0,0,P.width,P.height,P.depth,De,R,P.data)):e.texImage3D(32879,0,T,P.width,P.height,P.depth,0,De,R,P.data);else if(E.isFramebufferTexture){if(Pe)if(ze)e.texStorage2D(3553,Qe,T,P.width,P.height);else{let Te=P.width,st=P.height;for(let Ot=0;Ot<Qe;Ot++)e.texImage2D(3553,Ot,T,Te,st,0,De,R,null),Te>>=1,st>>=1}}else if(oe.length>0&&fe){ze&&Pe&&e.texStorage2D(3553,Qe,T,oe[0].width,oe[0].height);for(let Te=0,st=oe.length;Te<st;Te++)ee=oe[Te],ze?e.texSubImage2D(3553,Te,0,0,De,R,ee):e.texImage2D(3553,Te,T,De,R,ee);E.generateMipmaps=!1}else ze?(Pe&&e.texStorage2D(3553,Qe,T,P.width,P.height),e.texSubImage2D(3553,0,0,0,De,R,P)):e.texImage2D(3553,0,T,De,R,P);w(E,fe)&&A(ge),Re.__currentVersion=Re.version,E.onUpdate&&E.onUpdate(E)}O.__version=E.version}function Ee(O,E,Z,ge,Se){const Re=s.convert(Z.format,Z.encoding),ht=s.convert(Z.type),P=M(Z.internalFormat,Re,ht,Z.encoding);n.get(E).__hasExternalTextures||(32879===Se||35866===Se?e.texImage3D(Se,0,P,E.width,E.height,E.depth,0,Re,ht,null):e.texImage2D(Se,0,P,E.width,E.height,0,Re,ht,null)),e.bindFramebuffer(36160,O),tt(E)?h.framebufferTexture2DMultisampleEXT(36160,ge,Se,n.get(Z).__webglTexture,0,at(E)):i.framebufferTexture2D(36160,ge,Se,n.get(Z).__webglTexture,0),e.bindFramebuffer(36160,null)}function gt(O,E,Z){if(i.bindRenderbuffer(36161,O),E.depthBuffer&&!E.stencilBuffer){let ge=33189;if(Z||tt(E)){const Se=E.depthTexture;Se&&Se.isDepthTexture&&(Se.type===va?ge=36012:Se.type===Tl&&(ge=33190));const Re=at(E);tt(E)?h.renderbufferStorageMultisampleEXT(36161,Re,ge,E.width,E.height):i.renderbufferStorageMultisample(36161,Re,ge,E.width,E.height)}else i.renderbufferStorage(36161,ge,E.width,E.height);i.framebufferRenderbuffer(36160,36096,36161,O)}else if(E.depthBuffer&&E.stencilBuffer){const ge=at(E);Z&&!1===tt(E)?i.renderbufferStorageMultisample(36161,ge,35056,E.width,E.height):tt(E)?h.renderbufferStorageMultisampleEXT(36161,ge,35056,E.width,E.height):i.renderbufferStorage(36161,34041,E.width,E.height),i.framebufferRenderbuffer(36160,33306,36161,O)}else{const ge=!0===E.isWebGLMultipleRenderTargets?E.texture:[E.texture];for(let Se=0;Se<ge.length;Se++){const Re=ge[Se],ht=s.convert(Re.format,Re.encoding),P=s.convert(Re.type),fe=M(Re.internalFormat,ht,P,Re.encoding),De=at(E);Z&&!1===tt(E)?i.renderbufferStorageMultisample(36161,De,fe,E.width,E.height):tt(E)?h.renderbufferStorageMultisampleEXT(36161,De,fe,E.width,E.height):i.renderbufferStorage(36161,fe,E.width,E.height)}}i.bindRenderbuffer(36161,null)}function se(O){const E=n.get(O),Z=!0===O.isWebGLCubeRenderTarget;if(O.depthTexture&&!E.__autoAllocateDepthBuffer){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");!function ce(O,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,O),!E.depthTexture||!E.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),$(E.depthTexture,0);const ge=n.get(E.depthTexture).__webglTexture,Se=at(E);if(E.depthTexture.format===Pl)tt(E)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,ge,0,Se):i.framebufferTexture2D(36160,36096,3553,ge,0);else{if(E.depthTexture.format!==Su)throw new Error("Unknown depthTexture format");tt(E)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,ge,0,Se):i.framebufferTexture2D(36160,33306,3553,ge,0)}}(E.__webglFramebuffer,O)}else if(Z){E.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)e.bindFramebuffer(36160,E.__webglFramebuffer[ge]),E.__webglDepthbuffer[ge]=i.createRenderbuffer(),gt(E.__webglDepthbuffer[ge],O,!1)}else e.bindFramebuffer(36160,E.__webglFramebuffer),E.__webglDepthbuffer=i.createRenderbuffer(),gt(E.__webglDepthbuffer,O,!1);e.bindFramebuffer(36160,null)}function at(O){return Math.min(d,O.samples)}function tt(O){const E=n.get(O);return a&&O.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==E.__useRenderToTexture}function Kt(O,E){const Z=O.encoding,ge=O.format,Se=O.type;return!0===O.isCompressedTexture||!0===O.isVideoTexture||1035===O.format||Z!==ba&&(Z===nn?!1===a?!0===t.has("EXT_sRGB")&&ge===ps?(O.format=1035,O.minFilter=Vn,O.generateMipmaps=!1):E=hL.sRGBToLinear(E):(ge!==ps||Se!==El)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Z)),E}this.allocateTextureUnit=function G(){const O=L;return O>=l&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+l),L+=1,O},this.resetTextureUnits=function H(){L=0},this.setTexture2D=$,this.setTexture2DArray=function me(O,E){const Z=n.get(O);O.version>0&&Z.__version!==O.version?rt(Z,O,E):(e.activeTexture(33984+E),e.bindTexture(35866,Z.__webglTexture))},this.setTexture3D=function re(O,E){const Z=n.get(O);O.version>0&&Z.__version!==O.version?rt(Z,O,E):(e.activeTexture(33984+E),e.bindTexture(32879,Z.__webglTexture))},this.setTextureCube=function ve(O,E){const Z=n.get(O);O.version>0&&Z.__version!==O.version?function Ye(O,E,Z){if(6!==E.image.length)return;const ge=dt(O,E),Se=E.source;if(e.activeTexture(33984+Z),e.bindTexture(34067,O.__webglTexture),Se.version!==Se.__currentVersion||!0===ge){i.pixelStorei(37440,E.flipY),i.pixelStorei(37441,E.premultiplyAlpha),i.pixelStorei(3317,E.unpackAlignment),i.pixelStorei(37443,0);const Re=E.isCompressedTexture||E.image[0].isCompressedTexture,ht=E.image[0]&&E.image[0].isDataTexture,P=[];for(let Te=0;Te<6;Te++)P[Te]=Re||ht?ht?E.image[Te].image:E.image[Te]:v(E.image[Te],!1,!0,c),P[Te]=Kt(E,P[Te]);const fe=P[0],De=b(fe)||a,R=s.convert(E.format,E.encoding),T=s.convert(E.type),ee=M(E.internalFormat,R,T,E.encoding),oe=a&&!0!==E.isVideoTexture,ze=void 0===Se.__currentVersion||!0===ge;let Qe,Pe=S(E,fe,De);if(ne(34067,E,De),Re){oe&&ze&&e.texStorage2D(34067,Pe,ee,fe.width,fe.height);for(let Te=0;Te<6;Te++){Qe=P[Te].mipmaps;for(let st=0;st<Qe.length;st++){const Ot=Qe[st];E.format!==ps?null!==R?oe?e.compressedTexSubImage2D(34069+Te,st,0,0,Ot.width,Ot.height,R,Ot.data):e.compressedTexImage2D(34069+Te,st,ee,Ot.width,Ot.height,0,Ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):oe?e.texSubImage2D(34069+Te,st,0,0,Ot.width,Ot.height,R,T,Ot.data):e.texImage2D(34069+Te,st,ee,Ot.width,Ot.height,0,R,T,Ot.data)}}}else{Qe=E.mipmaps,oe&&ze&&(Qe.length>0&&Pe++,e.texStorage2D(34067,Pe,ee,P[0].width,P[0].height));for(let Te=0;Te<6;Te++)if(ht){oe?e.texSubImage2D(34069+Te,0,0,0,P[Te].width,P[Te].height,R,T,P[Te].data):e.texImage2D(34069+Te,0,ee,P[Te].width,P[Te].height,0,R,T,P[Te].data);for(let st=0;st<Qe.length;st++){const hn=Qe[st].image[Te].image;oe?e.texSubImage2D(34069+Te,st+1,0,0,hn.width,hn.height,R,T,hn.data):e.texImage2D(34069+Te,st+1,ee,hn.width,hn.height,0,R,T,hn.data)}}else{oe?e.texSubImage2D(34069+Te,0,0,0,R,T,P[Te]):e.texImage2D(34069+Te,0,ee,R,T,P[Te]);for(let st=0;st<Qe.length;st++){const Ot=Qe[st];oe?e.texSubImage2D(34069+Te,st+1,0,0,R,T,Ot.image[Te]):e.texImage2D(34069+Te,st+1,ee,R,T,Ot.image[Te])}}}w(E,De)&&A(34067),Se.__currentVersion=Se.version,E.onUpdate&&E.onUpdate(E)}O.__version=E.version}(Z,O,E):(e.activeTexture(33984+E),e.bindTexture(34067,Z.__webglTexture))},this.rebindTextures=function Ce(O,E,Z){const ge=n.get(O);void 0!==E&&Ee(ge.__webglFramebuffer,O,O.texture,36064,3553),void 0!==Z&&se(O)},this.setupRenderTarget=function He(O){const E=O.texture,Z=n.get(O),ge=n.get(E);O.addEventListener("dispose",J),!0!==O.isWebGLMultipleRenderTargets&&(void 0===ge.__webglTexture&&(ge.__webglTexture=i.createTexture()),ge.__version=E.version,o.memory.textures++);const Se=!0===O.isWebGLCubeRenderTarget,Re=!0===O.isWebGLMultipleRenderTargets,ht=b(O)||a;if(Se){Z.__webglFramebuffer=[];for(let P=0;P<6;P++)Z.__webglFramebuffer[P]=i.createFramebuffer()}else{if(Z.__webglFramebuffer=i.createFramebuffer(),Re)if(r.drawBuffers){const P=O.texture;for(let fe=0,De=P.length;fe<De;fe++){const R=n.get(P[fe]);void 0===R.__webglTexture&&(R.__webglTexture=i.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&O.samples>0&&!1===tt(O)){const P=Re?E:[E];Z.__webglMultisampledFramebuffer=i.createFramebuffer(),Z.__webglColorRenderbuffer=[],e.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer);for(let fe=0;fe<P.length;fe++){const De=P[fe];Z.__webglColorRenderbuffer[fe]=i.createRenderbuffer(),i.bindRenderbuffer(36161,Z.__webglColorRenderbuffer[fe]);const R=s.convert(De.format,De.encoding),T=s.convert(De.type),ee=M(De.internalFormat,R,T,De.encoding),oe=at(O);i.renderbufferStorageMultisample(36161,oe,ee,O.width,O.height),i.framebufferRenderbuffer(36160,36064+fe,36161,Z.__webglColorRenderbuffer[fe])}i.bindRenderbuffer(36161,null),O.depthBuffer&&(Z.__webglDepthRenderbuffer=i.createRenderbuffer(),gt(Z.__webglDepthRenderbuffer,O,!0)),e.bindFramebuffer(36160,null)}}if(Se){e.bindTexture(34067,ge.__webglTexture),ne(34067,E,ht);for(let P=0;P<6;P++)Ee(Z.__webglFramebuffer[P],O,E,36064,34069+P);w(E,ht)&&A(34067),e.unbindTexture()}else if(Re){const P=O.texture;for(let fe=0,De=P.length;fe<De;fe++){const R=P[fe],T=n.get(R);e.bindTexture(3553,T.__webglTexture),ne(3553,R,ht),Ee(Z.__webglFramebuffer,O,R,36064+fe,3553),w(R,ht)&&A(3553)}e.unbindTexture()}else{let P=3553;(O.isWebGL3DRenderTarget||O.isWebGLArrayRenderTarget)&&(a?P=O.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(P,ge.__webglTexture),ne(P,E,ht),Ee(Z.__webglFramebuffer,O,E,36064,P),w(E,ht)&&A(P),e.unbindTexture()}O.depthBuffer&&se(O)},this.updateRenderTargetMipmap=function Oe(O){const E=b(O)||a,Z=!0===O.isWebGLMultipleRenderTargets?O.texture:[O.texture];for(let ge=0,Se=Z.length;ge<Se;ge++){const Re=Z[ge];if(w(Re,E)){const ht=O.isWebGLCubeRenderTarget?34067:3553,P=n.get(Re).__webglTexture;e.bindTexture(ht,P),A(ht),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function _t(O){if(a&&O.samples>0&&!1===tt(O)){const E=O.isWebGLMultipleRenderTargets?O.texture:[O.texture],Z=O.width,ge=O.height;let Se=16384;const Re=[],ht=O.stencilBuffer?33306:36096,P=n.get(O),fe=!0===O.isWebGLMultipleRenderTargets;if(fe)for(let De=0;De<E.length;De++)e.bindFramebuffer(36160,P.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+De,36161,null),e.bindFramebuffer(36160,P.__webglFramebuffer),i.framebufferTexture2D(36009,36064+De,3553,null,0);e.bindFramebuffer(36008,P.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,P.__webglFramebuffer);for(let De=0;De<E.length;De++){Re.push(36064+De),O.depthBuffer&&Re.push(ht);const R=void 0!==P.__ignoreDepthValues&&P.__ignoreDepthValues;if(!1===R&&(O.depthBuffer&&(Se|=256),O.stencilBuffer&&(Se|=1024)),fe&&i.framebufferRenderbuffer(36008,36064,36161,P.__webglColorRenderbuffer[De]),!0===R&&(i.invalidateFramebuffer(36008,[ht]),i.invalidateFramebuffer(36009,[ht])),fe){const T=n.get(E[De]).__webglTexture;i.framebufferTexture2D(36009,36064,3553,T,0)}i.blitFramebuffer(0,0,Z,ge,0,0,Z,ge,Se,9728),f&&i.invalidateFramebuffer(36008,Re)}if(e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,null),fe)for(let De=0;De<E.length;De++){e.bindFramebuffer(36160,P.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+De,36161,P.__webglColorRenderbuffer[De]);const R=n.get(E[De]).__webglTexture;e.bindFramebuffer(36160,P.__webglFramebuffer),i.framebufferTexture2D(36009,36064+De,3553,R,0)}e.bindFramebuffer(36009,P.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=se,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=tt}function $se(i,t,e){const n=e.isWebGL2;return{convert:function r(s,o=null){let a;if(s===El)return 5121;if(1017===s)return 32819;if(1018===s)return 32820;if(1010===s)return 5120;if(1011===s)return 5122;if(1012===s)return 5123;if(1013===s)return 5124;if(s===Tl)return 5125;if(s===va)return 5126;if(s===rf)return n?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===s)return 6406;if(s===ps)return 6408;if(1024===s)return 6409;if(1025===s)return 6410;if(s===Pl)return 6402;if(s===Su)return 34041;if(1028===s)return 6403;if(1022===s)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===s)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===s)return 36244;if(1030===s)return 33319;if(1031===s)return 33320;if(1033===s)return 36249;if(33776===s||33777===s||33778===s||33779===s)if(o===nn){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===s)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===s)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===s)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===s)return o===nn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return o===nn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===s)return o===nn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return s===Cu?n?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==i[s]?i[s]:null}}}class qse extends gn{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Uo extends Ei{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Yse={type:"move"};class sC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new C,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new C),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new C,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new C),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(c&&t.hand){o=!0;for(const m of t.hand.values()){const g=e.getJointPose(m,n);if(void 0===c.joints[m.jointName]){const y=new Uo;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[m.jointName]=y,c.add(y)}const _=c.joints[m.jointName];null!==g&&(_.matrix.fromArray(g.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=g.radius),_.visible=null!==g}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==l&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Yse)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}}class Xse extends qr{constructor(t,e,n,r,s,o,a,l,c,u){if((u=void 0!==u?u:Pl)!==Pl&&u!==Su)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Pl&&(n=Tl),void 0===n&&u===Su&&(n=Cu),super(null,r,s,o,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==a?a:si,this.minFilter=void 0!==l?l:si,this.flipY=!1,this.generateMipmaps=!1}}class Kse extends qs{constructor(t,e){super();const n=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,h=null,f=null;const p=e.getContextAttributes();let m=null,g=null;const _=[],y=[],v=new gn;v.layers.enable(1),v.viewport=new dn;const b=new gn;b.layers.enable(2),b.viewport=new dn;const x=[v,b],w=new qse;w.layers.enable(1),w.layers.enable(2);let A=null,M=null;function S(U){const $=y.indexOf(U.inputSource);if(-1===$)return;const me=_[$];void 0!==me&&me.dispatchEvent({type:U.type,data:U.inputSource})}function F(){r.removeEventListener("select",S),r.removeEventListener("selectstart",S),r.removeEventListener("selectend",S),r.removeEventListener("squeeze",S),r.removeEventListener("squeezestart",S),r.removeEventListener("squeezeend",S),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",B);for(let U=0;U<_.length;U++){const $=y[U];null!==$&&(y[U]=null,_[U].disconnect($))}A=null,M=null,t.setRenderTarget(m),h=null,d=null,u=null,r=null,g=null,G.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function B(U){for(let $=0;$<U.removed.length;$++){const me=U.removed[$],re=y.indexOf(me);re>=0&&(y[re]=null,_[re].dispatchEvent({type:"disconnected",data:me}))}for(let $=0;$<U.added.length;$++){const me=U.added[$];let re=y.indexOf(me);if(-1===re){for(let Me=0;Me<_.length;Me++){if(Me>=y.length){y.push(me),re=Me;break}if(null===y[Me]){y[Me]=me,re=Me;break}}if(-1===re)break}const ve=_[re];ve&&ve.dispatchEvent({type:"connected",data:me})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let $=_[U];return void 0===$&&($=new sC,_[U]=$),$.getTargetRaySpace()},this.getControllerGrip=function(U){let $=_[U];return void 0===$&&($=new sC,_[U]=$),$.getGripSpace()},this.getHand=function(U){let $=_[U];return void 0===$&&($=new sC,_[U]=$),$.getHandSpace()},this.setFramebufferScaleFactor=function(U){s=U,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(U){l=U},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=function(){var U=function Tee(i){return function(){var t=this,e=arguments;return new Promise(function(n,r){var s=i.apply(t,e);function o(l){SF(s,n,r,o,a,"next",l)}function a(l){SF(s,n,r,o,a,"throw",l)}o(void 0)})}}(function*($){if(r=$,null!==r){if(m=t.getRenderTarget(),r.addEventListener("select",S),r.addEventListener("selectstart",S),r.addEventListener("selectend",S),r.addEventListener("squeeze",S),r.addEventListener("squeezestart",S),r.addEventListener("squeezeend",S),r.addEventListener("end",F),r.addEventListener("inputsourceschange",B),!0!==p.xrCompatible&&(yield e.makeXRCompatible()),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2)h=new XRWebGLLayer(r,e,{antialias:void 0!==r.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),g=new Xi(h.framebufferWidth,h.framebufferHeight,{format:ps,type:El,encoding:t.outputEncoding});else{let me=null,re=null,ve=null;p.depth&&(ve=p.stencil?35056:33190,me=p.stencil?Su:Pl,re=p.stencil?Cu:Tl);const Me={colorFormat:32856,depthFormat:ve,scaleFactor:s};u=new XRWebGLBinding(r,e),d=u.createProjectionLayer(Me),r.updateRenderState({layers:[d]}),g=new Xi(d.textureWidth,d.textureHeight,{format:ps,type:El,depthTexture:new Xse(d.textureWidth,d.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,me),stencilBuffer:p.stencil,encoding:t.outputEncoding,samples:p.antialias?4:0}),t.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=yield r.requestReferenceSpace(a),G.setContext(r),G.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function($){return U.apply(this,arguments)}}();const J=new C,ie=new C;function X(U,$){null===$?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices($.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(null===r)return;w.near=b.near=v.near=U.near,w.far=b.far=v.far=U.far,(A!==w.near||M!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),A=w.near,M=w.far);const $=U.parent,me=w.cameras;X(w,$);for(let ve=0;ve<me.length;ve++)X(me[ve],$);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),U.position.copy(w.position),U.quaternion.copy(w.quaternion),U.scale.copy(w.scale),U.matrix.copy(w.matrix),U.matrixWorld.copy(w.matrixWorld);const re=U.children;for(let ve=0,Me=re.length;ve<Me;ve++)re[ve].updateMatrixWorld(!0);2===me.length?function V(U,$,me){J.setFromMatrixPosition($.matrixWorld),ie.setFromMatrixPosition(me.matrixWorld);const re=J.distanceTo(ie),ve=$.projectionMatrix.elements,Me=me.projectionMatrix.elements,je=ve[14]/(ve[10]-1),ne=ve[14]/(ve[10]+1),dt=(ve[9]+1)/ve[5],rt=(ve[9]-1)/ve[5],Ye=(ve[8]-1)/ve[0],Ee=(Me[8]+1)/Me[0],gt=je*Ye,ce=je*Ee,se=re/(-Ye+Ee),Ce=se*-Ye;$.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(Ce),U.translateZ(se),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const He=je+se,Oe=ne+se;U.projectionMatrix.makePerspective(gt-Ce,ce+(re-Ce),dt*ne/Oe*He,rt*ne/Oe*He,He,Oe)}(w,v,b):w.projectionMatrix.copy(v.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(U){null!==d&&(d.fixedFoveation=U),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=U)};let L=null;const G=new EL;G.setAnimationLoop(function H(U,$){if(c=$.getViewerPose(l||o),f=$,null!==c){const me=c.views;null!==h&&(t.setRenderTargetFramebuffer(g,h.framebuffer),t.setRenderTarget(g));let re=!1;me.length!==w.cameras.length&&(w.cameras.length=0,re=!0);for(let ve=0;ve<me.length;ve++){const Me=me[ve];let je=null;if(null!==h)je=h.getViewport(Me);else{const dt=u.getViewSubImage(d,Me);je=dt.viewport,0===ve&&(t.setRenderTargetTextures(g,dt.colorTexture,d.ignoreDepthValues?void 0:dt.depthStencilTexture),t.setRenderTarget(g))}let ne=x[ve];void 0===ne&&(ne=new gn,ne.layers.enable(ve),ne.viewport=new dn,x[ve]=ne),ne.matrix.fromArray(Me.transform.matrix),ne.projectionMatrix.fromArray(Me.projectionMatrix),ne.viewport.set(je.x,je.y,je.width,je.height),0===ve&&w.matrix.copy(ne.matrix),!0===re&&w.cameras.push(ne)}}for(let me=0;me<_.length;me++){const re=y[me],ve=_[me];null!==re&&void 0!==ve&&ve.update(re,$,l||o)}L&&L(U,$),f=null}),this.setAnimationLoop=function(U){L=U},this.dispose=function(){}}}function Zse(i,t){function r(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const _=t.get(g).envMap;if(_&&(m.envMap.value=_,m.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;const b=!0!==i.physicallyCorrectLights?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*b}let y,v;g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity),g.map?y=g.map:g.specularMap?y=g.specularMap:g.displacementMap?y=g.displacementMap:g.normalMap?y=g.normalMap:g.bumpMap?y=g.bumpMap:g.roughnessMap?y=g.roughnessMap:g.metalnessMap?y=g.metalnessMap:g.alphaMap?y=g.alphaMap:g.emissiveMap?y=g.emissiveMap:g.clearcoatMap?y=g.clearcoatMap:g.clearcoatNormalMap?y=g.clearcoatNormalMap:g.clearcoatRoughnessMap?y=g.clearcoatRoughnessMap:g.iridescenceMap?y=g.iridescenceMap:g.iridescenceThicknessMap?y=g.iridescenceThicknessMap:g.specularIntensityMap?y=g.specularIntensityMap:g.specularColorMap?y=g.specularColorMap:g.transmissionMap?y=g.transmissionMap:g.thicknessMap?y=g.thicknessMap:g.sheenColorMap?y=g.sheenColorMap:g.sheenRoughnessMap&&(y=g.sheenRoughnessMap),void 0!==y&&(y.isWebGLRenderTarget&&(y=y.texture),!0===y.matrixAutoUpdate&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix)),g.aoMap?v=g.aoMap:g.lightMap&&(v=g.lightMap),void 0!==v&&(v.isWebGLRenderTarget&&(v=v.texture),!0===v.matrixAutoUpdate&&v.updateMatrix(),m.uv2Transform.value.copy(v.matrix))}return{refreshFogUniforms:function e(m,g){m.fogColor.value.copy(g.color),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function n(m,g,_,y,v){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(m,g):g.isMeshToonMaterial?(r(m,g),function u(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(r(m,g),function c(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(r(m,g),function d(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function h(m,g,_){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,1===g.side&&m.clearcoatNormalScale.value.negate())),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=_.texture,m.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}(m,g,v)):g.isMeshMatcapMaterial?(r(m,g),function f(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?r(m,g):g.isMeshDistanceMaterial?(r(m,g),function p(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}(m,g)):g.isMeshNormalMaterial?r(m,g):g.isLineBasicMaterial?(function s(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}(m,g),g.isLineDashedMaterial&&function o(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function a(m,g,_,y){let v;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*_,m.scale.value=.5*y,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),void 0!==v&&(!0===v.matrixAutoUpdate&&v.updateMatrix(),m.uvTransform.value.copy(v.matrix))}(m,g,_,y):g.isSpriteMaterial?function l(m,g){let _;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),m.uvTransform.value.copy(_.matrix))}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function Xu(i={}){this.isWebGLRenderer=!0;const t=void 0!==i.canvas?i.canvas:function Qse(){const i=cf("canvas");return i.style.display="block",i}(),e=void 0!==i.context?i.context:null,n=void 0===i.depth||i.depth,r=void 0===i.stencil||i.stencil,s=void 0!==i.antialias&&i.antialias,o=void 0===i.premultipliedAlpha||i.premultipliedAlpha,a=void 0!==i.preserveDrawingBuffer&&i.preserveDrawingBuffer,l=void 0!==i.powerPreference?i.powerPreference:"default",c=void 0!==i.failIfMajorPerformanceCaveat&&i.failIfMajorPerformanceCaveat;let u;u=null!==e?e.getContextAttributes().alpha:void 0!==i.alpha&&i.alpha;let d=null,h=null;const f=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ba,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let g=!1,_=0,y=0,v=null,b=-1,x=null;const w=new dn,A=new dn;let M=null,S=t.width,F=t.height,B=1,J=null,ie=null;const V=new dn(0,0,S,F),X=new dn(0,0,S,F);let L=!1;const H=new Zw;let G=!1,U=!1,$=null;const me=new Ct,re=new q,ve=new C,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function je(){return null===v?B:1}let rt,Ye,Ee,gt,ce,se,Ce,He,Oe,_t,at,tt,rn,Kt,O,E,Z,ge,Se,Re,ht,P,fe,ne=e;function dt(I,j){for(let te=0;te<I.length;te++){const de=t.getContext(I[te],j);if(null!==de)return de}return null}try{const I={alpha:!0,depth:n,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r142"),t.addEventListener("webglcontextlost",T,!1),t.addEventListener("webglcontextrestored",ee,!1),t.addEventListener("webglcontextcreationerror",oe,!1),null===ne){const j=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&j.shift(),ne=dt(j,I),null===ne)throw dt(j)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ne.getShaderPrecisionFormat&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}function De(){rt=new dre(ne),Ye=new sre(ne,rt,i),rt.init(Ye),P=new $se(ne,rt,Ye),Ee=new jse(ne,rt,Ye),gt=new pre,ce=new Ose,se=new Wse(ne,rt,Ee,ce,Ye,P,gt),Ce=new are(m),He=new ure(m),Oe=new rne(ne,Ye),fe=new ire(ne,rt,Oe,Ye),_t=new hre(ne,Oe,gt,fe),at=new yre(ne,_t,Oe,gt),Se=new _re(ne,Ye,se),E=new ore(ce),tt=new Ise(m,Ce,He,rt,Ye,fe,E),rn=new Zse(m,ce),Kt=new Nse,O=new zse(rt,Ye),ge=new nre(m,Ce,Ee,at,u,o),Z=new Gse(m,at,Ye),Re=new rre(ne,rt,gt,Ye),ht=new fre(ne,rt,gt,Ye),gt.programs=tt.programs,m.capabilities=Ye,m.extensions=rt,m.properties=ce,m.renderLists=Kt,m.shadowMap=Z,m.state=Ee,m.info=gt}De();const R=new Kse(m,ne);function T(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function ee(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const I=gt.autoReset,j=Z.enabled,te=Z.autoUpdate,K=Z.needsUpdate,de=Z.type;De(),gt.autoReset=I,Z.enabled=j,Z.autoUpdate=te,Z.needsUpdate=K,Z.type=de}function oe(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function ze(I){const j=I.target;j.removeEventListener("dispose",ze),function Pe(I){(function Qe(I){const j=ce.get(I).programs;void 0!==j&&(j.forEach(function(te){tt.releaseProgram(te)}),I.isShaderMaterial&&tt.releaseShaderCache(I))})(I),ce.remove(I)}(j)}this.xr=R,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const I=rt.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=rt.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(I){void 0!==I&&(B=I,this.setSize(S,F,!1))},this.getSize=function(I){return I.set(S,F)},this.setSize=function(I,j,te){R.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=I,F=j,t.width=Math.floor(I*B),t.height=Math.floor(j*B),!1!==te&&(t.style.width=I+"px",t.style.height=j+"px"),this.setViewport(0,0,I,j))},this.getDrawingBufferSize=function(I){return I.set(S*B,F*B).floor()},this.setDrawingBufferSize=function(I,j,te){S=I,F=j,B=te,t.width=Math.floor(I*te),t.height=Math.floor(j*te),this.setViewport(0,0,I,j)},this.getCurrentViewport=function(I){return I.copy(w)},this.getViewport=function(I){return I.copy(V)},this.setViewport=function(I,j,te,K){I.isVector4?V.set(I.x,I.y,I.z,I.w):V.set(I,j,te,K),Ee.viewport(w.copy(V).multiplyScalar(B).floor())},this.getScissor=function(I){return I.copy(X)},this.setScissor=function(I,j,te,K){I.isVector4?X.set(I.x,I.y,I.z,I.w):X.set(I,j,te,K),Ee.scissor(A.copy(X).multiplyScalar(B).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(I){Ee.setScissorTest(L=I)},this.setOpaqueSort=function(I){J=I},this.setTransparentSort=function(I){ie=I},this.getClearColor=function(I){return I.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(I=!0,j=!0,te=!0){let K=0;I&&(K|=16384),j&&(K|=256),te&&(K|=1024),ne.clear(K)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",T,!1),t.removeEventListener("webglcontextrestored",ee,!1),t.removeEventListener("webglcontextcreationerror",oe,!1),Kt.dispose(),O.dispose(),ce.dispose(),Ce.dispose(),He.dispose(),at.dispose(),fe.dispose(),tt.dispose(),R.dispose(),R.removeEventListener("sessionstart",Ot),R.removeEventListener("sessionend",hn),$&&($.dispose(),$=null),nr.stop()},this.renderBufferDirect=function(I,j,te,K,de,vt){null===j&&(j=Me);const Et=de.isMesh&&de.matrixWorld.determinant()<0,kt=function she(I,j,te,K,de){!0!==j.isScene&&(j=Me),se.resetTextureUnits();const vt=j.fog,kt=null===v?m.outputEncoding:!0===v.isXRRenderTarget?v.texture.encoding:ba,Rt=(K.isMeshStandardMaterial?He:Ce).get(K.envMap||(K.isMeshStandardMaterial?j.environment:null)),fn=!0===K.vertexColors&&!!te.attributes.color&&4===te.attributes.color.itemSize,Xt=!!K.normalMap&&!!te.attributes.tangent,Zt=!!te.morphAttributes.position,Gn=!!te.morphAttributes.normal,Jl=!!te.morphAttributes.color,fd=K.toneMapped?m.toneMapping:0,pd=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,io=void 0!==pd?pd.length:0,ln=ce.get(K),md=h.state.lights;!0!==G||!0!==U&&I===x||E.setState(K,I,I===x&&K.id===b);let ci=!1;K.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==md.state.version||ln.outputEncoding!==kt||de.isInstancedMesh&&!1===ln.instancing||!de.isInstancedMesh&&!0===ln.instancing||de.isSkinnedMesh&&!1===ln.skinning||!de.isSkinnedMesh&&!0===ln.skinning||ln.envMap!==Rt||!0===K.fog&&ln.fog!==vt||void 0!==ln.numClippingPlanes&&(ln.numClippingPlanes!==E.numPlanes||ln.numIntersection!==E.numIntersection)||ln.vertexAlphas!==fn||ln.vertexTangents!==Xt||ln.morphTargets!==Zt||ln.morphNormals!==Gn||ln.morphColors!==Jl||ln.toneMapping!==fd||!0===Ye.isWebGL2&&ln.morphTargetsCount!==io)&&(ci=!0):(ci=!0,ln.__version=K.version);let ro=ln.currentProgram;!0===ci&&(ro=TS(K,j,de));let Fa=!1,Jf=!1,PS=!1;const ir=ro.getUniforms(),ep=ln.uniforms;if(Ee.useProgram(ro.program)&&(Fa=!0,Jf=!0,PS=!0),K.id!==b&&(b=K.id,Jf=!0),Fa||x!==I){if(ir.setValue(ne,"projectionMatrix",I.projectionMatrix),Ye.logarithmicDepthBuffer&&ir.setValue(ne,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),x!==I&&(x=I,Jf=!0,PS=!0),K.isShaderMaterial||K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshStandardMaterial||K.envMap){const so=ir.map.cameraPosition;void 0!==so&&so.setValue(ne,ve.setFromMatrixPosition(I.matrixWorld))}(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial)&&ir.setValue(ne,"isOrthographic",!0===I.isOrthographicCamera),(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial||K.isShadowMaterial||de.isSkinnedMesh)&&ir.setValue(ne,"viewMatrix",I.matrixWorldInverse)}if(de.isSkinnedMesh){ir.setOptional(ne,de,"bindMatrix"),ir.setOptional(ne,de,"bindMatrixInverse");const so=de.skeleton;so&&(Ye.floatVertexTextures?(null===so.boneTexture&&so.computeBoneTexture(),ir.setValue(ne,"boneTexture",so.boneTexture,se),ir.setValue(ne,"boneTextureSize",so.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const AS=te.morphAttributes;return(void 0!==AS.position||void 0!==AS.normal||void 0!==AS.color&&!0===Ye.isWebGL2)&&Se.update(de,te,K,ro),(Jf||ln.receiveShadow!==de.receiveShadow)&&(ln.receiveShadow=de.receiveShadow,ir.setValue(ne,"receiveShadow",de.receiveShadow)),Jf&&(ir.setValue(ne,"toneMappingExposure",m.toneMappingExposure),ln.needsLights&&function ohe(I,j){I.ambientLightColor.needsUpdate=j,I.lightProbe.needsUpdate=j,I.directionalLights.needsUpdate=j,I.directionalLightShadows.needsUpdate=j,I.pointLights.needsUpdate=j,I.pointLightShadows.needsUpdate=j,I.spotLights.needsUpdate=j,I.spotLightShadows.needsUpdate=j,I.rectAreaLights.needsUpdate=j,I.hemisphereLights.needsUpdate=j}(ep,PS),vt&&!0===K.fog&&rn.refreshFogUniforms(ep,vt),rn.refreshMaterialUniforms(ep,K,B,F,$),R_.upload(ne,ln.uniformsList,ep,se)),K.isShaderMaterial&&!0===K.uniformsNeedUpdate&&(R_.upload(ne,ln.uniformsList,ep,se),K.uniformsNeedUpdate=!1),K.isSpriteMaterial&&ir.setValue(ne,"center",de.center),ir.setValue(ne,"modelViewMatrix",de.modelViewMatrix),ir.setValue(ne,"normalMatrix",de.normalMatrix),ir.setValue(ne,"modelMatrix",de.matrixWorld),ro}(I,j,te,K,de);Ee.setMaterial(K,Et);let Rt=te.index;const fn=te.attributes.position;if(null===Rt){if(void 0===fn||0===fn.count)return}else if(0===Rt.count)return;let Xt=1;!0===K.wireframe&&(Rt=_t.getWireframeAttribute(te),Xt=2),fe.setup(de,K,kt,te,Rt);let Zt,Gn=Re;null!==Rt&&(Zt=Oe.get(Rt),Gn=ht,Gn.setIndex(Zt));const Jl=null!==Rt?Rt.count:fn.count,fd=te.drawRange.start*Xt,pd=te.drawRange.count*Xt,io=null!==vt?vt.start*Xt:0,ln=null!==vt?vt.count*Xt:1/0,md=Math.max(fd,io),ci=Math.min(Jl,fd+pd,io+ln)-1,ro=Math.max(0,ci-md+1);if(0!==ro){if(de.isMesh)!0===K.wireframe?(Ee.setLineWidth(K.wireframeLinewidth*je()),Gn.setMode(1)):Gn.setMode(4);else if(de.isLine){let Fa=K.linewidth;void 0===Fa&&(Fa=1),Ee.setLineWidth(Fa*je()),Gn.setMode(de.isLineSegments?1:de.isLineLoop?2:3)}else de.isPoints?Gn.setMode(0):de.isSprite&&Gn.setMode(4);if(de.isInstancedMesh)Gn.renderInstances(md,ro,de.count);else if(te.isInstancedBufferGeometry){const Fa=Math.min(te.instanceCount,te._maxInstanceCount);Gn.renderInstances(md,ro,Fa)}else Gn.render(md,ro)}},this.compile=function(I,j){h=O.get(I),h.init(),p.push(h),I.traverseVisible(function(te){te.isLight&&te.layers.test(j.layers)&&(h.pushLight(te),te.castShadow&&h.pushShadow(te))}),h.setupLights(m.physicallyCorrectLights),I.traverse(function(te){const K=te.material;if(K)if(Array.isArray(K))for(let de=0;de<K.length;de++)TS(K[de],I,te);else TS(K,I,te)}),p.pop(),h=null};let Te=null;function Ot(){nr.stop()}function hn(){nr.start()}const nr=new EL;function no(I,j,te,K){if(!1===I.visible)return;if(I.layers.test(j.layers))if(I.isGroup)te=I.renderOrder;else if(I.isLOD)!0===I.autoUpdate&&I.update(j);else if(I.isLight)h.pushLight(I),I.castShadow&&h.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||H.intersectsSprite(I)){K&&ve.setFromMatrixPosition(I.matrixWorld).applyMatrix4(me);const Et=at.update(I),kt=I.material;kt.visible&&d.push(I,Et,kt,te,ve.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(I.isSkinnedMesh&&I.skeleton.frame!==gt.render.frame&&(I.skeleton.update(),I.skeleton.frame=gt.render.frame),!I.frustumCulled||H.intersectsObject(I))){K&&ve.setFromMatrixPosition(I.matrixWorld).applyMatrix4(me);const Et=at.update(I),kt=I.material;if(Array.isArray(kt)){const Rt=Et.groups;for(let fn=0,Xt=Rt.length;fn<Xt;fn++){const Zt=Rt[fn],Gn=kt[Zt.materialIndex];Gn&&Gn.visible&&d.push(I,Et,Gn,te,ve.z,Zt)}}else kt.visible&&d.push(I,Et,kt,te,ve.z,null)}const vt=I.children;for(let Et=0,kt=vt.length;Et<kt;Et++)no(vt[Et],j,te,K)}function k5(I,j,te,K){const de=I.opaque,vt=I.transmissive,Et=I.transparent;h.setupLightsView(te),vt.length>0&&function ihe(I,j,te){const K=Ye.isWebGL2;null===$&&($=new Xi(1,1,{generateMipmaps:!0,type:rt.has("EXT_color_buffer_half_float")?rf:El,minFilter:ya,samples:K&&!0===s?4:0})),m.getDrawingBufferSize(re),K?$.setSize(re.x,re.y):$.setSize(l_(re.x),l_(re.y));const de=m.getRenderTarget();m.setRenderTarget($),m.clear();const vt=m.toneMapping;m.toneMapping=0,Fy(I,j,te),m.toneMapping=vt,se.updateMultisampleRenderTarget($),se.updateRenderTargetMipmap($),m.setRenderTarget(de)}(de,j,te),K&&Ee.viewport(w.copy(K)),de.length>0&&Fy(de,j,te),vt.length>0&&Fy(vt,j,te),Et.length>0&&Fy(Et,j,te),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function Fy(I,j,te){const K=!0===j.isScene?j.overrideMaterial:null;for(let de=0,vt=I.length;de<vt;de++){const Et=I[de],kt=Et.object,Rt=Et.geometry,fn=null===K?Et.material:K,Xt=Et.group;kt.layers.test(te.layers)&&rhe(kt,j,te,Rt,fn,Xt)}}function rhe(I,j,te,K,de,vt){I.onBeforeRender(m,j,te,K,de,vt),I.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),de.onBeforeRender(m,j,te,K,I,vt),!0===de.transparent&&2===de.side?(de.side=1,de.needsUpdate=!0,m.renderBufferDirect(te,j,K,de,I,vt),de.side=0,de.needsUpdate=!0,m.renderBufferDirect(te,j,K,de,I,vt),de.side=2):m.renderBufferDirect(te,j,K,de,I,vt),I.onAfterRender(m,j,te,K,de,vt)}function TS(I,j,te){!0!==j.isScene&&(j=Me);const K=ce.get(I),de=h.state.lights,Et=de.state.version,kt=tt.getParameters(I,de.state,h.state.shadowsArray,j,te),Rt=tt.getProgramCacheKey(kt);let fn=K.programs;K.environment=I.isMeshStandardMaterial?j.environment:null,K.fog=j.fog,K.envMap=(I.isMeshStandardMaterial?He:Ce).get(I.envMap||K.environment),void 0===fn&&(I.addEventListener("dispose",ze),fn=new Map,K.programs=fn);let Xt=fn.get(Rt);if(void 0!==Xt){if(K.currentProgram===Xt&&K.lightsStateVersion===Et)return F5(I,kt),Xt}else kt.uniforms=tt.getUniforms(I),I.onBuild(te,kt,m),I.onBeforeCompile(kt,m),Xt=tt.acquireProgram(kt,Rt),fn.set(Rt,Xt),K.uniforms=kt.uniforms;const Zt=K.uniforms;(!I.isShaderMaterial&&!I.isRawShaderMaterial||!0===I.clipping)&&(Zt.clippingPlanes=E.uniform),F5(I,kt),K.needsLights=function ahe(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&!0===I.lights}(I),K.lightsStateVersion=Et,K.needsLights&&(Zt.ambientLightColor.value=de.state.ambient,Zt.lightProbe.value=de.state.probe,Zt.directionalLights.value=de.state.directional,Zt.directionalLightShadows.value=de.state.directionalShadow,Zt.spotLights.value=de.state.spot,Zt.spotLightShadows.value=de.state.spotShadow,Zt.rectAreaLights.value=de.state.rectArea,Zt.ltc_1.value=de.state.rectAreaLTC1,Zt.ltc_2.value=de.state.rectAreaLTC2,Zt.pointLights.value=de.state.point,Zt.pointLightShadows.value=de.state.pointShadow,Zt.hemisphereLights.value=de.state.hemi,Zt.directionalShadowMap.value=de.state.directionalShadowMap,Zt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,Zt.spotShadowMap.value=de.state.spotShadowMap,Zt.spotShadowMatrix.value=de.state.spotShadowMatrix,Zt.pointShadowMap.value=de.state.pointShadowMap,Zt.pointShadowMatrix.value=de.state.pointShadowMatrix);const Gn=Xt.getUniforms(),Jl=R_.seqWithValue(Gn.seq,Zt);return K.currentProgram=Xt,K.uniformsList=Jl,Xt}function F5(I,j){const te=ce.get(I);te.outputEncoding=j.outputEncoding,te.instancing=j.instancing,te.skinning=j.skinning,te.morphTargets=j.morphTargets,te.morphNormals=j.morphNormals,te.morphColors=j.morphColors,te.morphTargetsCount=j.morphTargetsCount,te.numClippingPlanes=j.numClippingPlanes,te.numIntersection=j.numClipIntersection,te.vertexAlphas=j.vertexAlphas,te.vertexTangents=j.vertexTangents,te.toneMapping=j.toneMapping}nr.setAnimationLoop(function st(I){Te&&Te(I)}),typeof self<"u"&&nr.setContext(self),this.setAnimationLoop=function(I){Te=I,R.setAnimationLoop(I),null===I?nr.stop():nr.start()},R.addEventListener("sessionstart",Ot),R.addEventListener("sessionend",hn),this.render=function(I,j){if(void 0===j||!0===j.isCamera){if(!0!==g){if(!0===I.autoUpdate&&I.updateMatrixWorld(),null===j.parent&&j.updateMatrixWorld(),!0===R.enabled&&!0===R.isPresenting&&(!0===R.cameraAutoUpdate&&R.updateCamera(j),j=R.getCamera()),!0===I.isScene&&I.onBeforeRender(m,I,j,v),h=O.get(I,p.length),h.init(),p.push(h),me.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),H.setFromProjectionMatrix(me),U=this.localClippingEnabled,G=E.init(this.clippingPlanes,U,j),d=Kt.get(I,f.length),d.init(),f.push(d),no(I,j,0,m.sortObjects),d.finish(),!0===m.sortObjects&&d.sort(J,ie),!0===G&&E.beginShadows(),Z.render(h.state.shadowsArray,I,j),!0===G&&E.endShadows(),!0===this.info.autoReset&&this.info.reset(),ge.render(d,I),h.setupLights(m.physicallyCorrectLights),j.isArrayCamera){const K=j.cameras;for(let de=0,vt=K.length;de<vt;de++){const Et=K[de];k5(d,I,Et,Et.viewport)}}else k5(d,I,j);null!==v&&(se.updateMultisampleRenderTarget(v),se.updateRenderTargetMipmap(v)),!0===I.isScene&&I.onAfterRender(m,I,j),fe.resetDefaultState(),b=-1,x=null,p.pop(),h=p.length>0?p[p.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(I,j,te){ce.get(I.texture).__webglTexture=j,ce.get(I.depthTexture).__webglTexture=te;const K=ce.get(I);K.__hasExternalTextures=!0,K.__hasExternalTextures&&(K.__autoAllocateDepthBuffer=void 0===te,K.__autoAllocateDepthBuffer||!0===rt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),K.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(I,j){const te=ce.get(I);te.__webglFramebuffer=j,te.__useDefaultFramebuffer=void 0===j},this.setRenderTarget=function(I,j=0,te=0){v=I,_=j,y=te;let K=!0;if(I){const Rt=ce.get(I);void 0!==Rt.__useDefaultFramebuffer?(Ee.bindFramebuffer(36160,null),K=!1):void 0===Rt.__webglFramebuffer?se.setupRenderTarget(I):Rt.__hasExternalTextures&&se.rebindTextures(I,ce.get(I.texture).__webglTexture,ce.get(I.depthTexture).__webglTexture)}let de=null,vt=!1,Et=!1;if(I){const Rt=I.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture)&&(Et=!0);const fn=ce.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(de=fn[j],vt=!0):de=Ye.isWebGL2&&I.samples>0&&!1===se.useMultisampledRTT(I)?ce.get(I).__webglMultisampledFramebuffer:fn,w.copy(I.viewport),A.copy(I.scissor),M=I.scissorTest}else w.copy(V).multiplyScalar(B).floor(),A.copy(X).multiplyScalar(B).floor(),M=L;if(Ee.bindFramebuffer(36160,de)&&Ye.drawBuffers&&K&&Ee.drawBuffers(I,de),Ee.viewport(w),Ee.scissor(A),Ee.setScissorTest(M),vt){const Rt=ce.get(I.texture);ne.framebufferTexture2D(36160,36064,34069+j,Rt.__webglTexture,te)}else if(Et){const Rt=ce.get(I.texture);ne.framebufferTextureLayer(36160,36064,Rt.__webglTexture,te||0,j||0)}b=-1},this.readRenderTargetPixels=function(I,j,te,K,de,vt,Et){if(!I||!I.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let kt=ce.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&void 0!==Et&&(kt=kt[Et]),kt){Ee.bindFramebuffer(36160,kt);try{const Rt=I.texture,fn=Rt.format,Xt=Rt.type;if(fn!==ps&&P.convert(fn)!==ne.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Zt=Xt===rf&&(rt.has("EXT_color_buffer_half_float")||Ye.isWebGL2&&rt.has("EXT_color_buffer_float"));if(!(Xt===El||P.convert(Xt)===ne.getParameter(35738)||Xt===va&&(Ye.isWebGL2||rt.has("OES_texture_float")||rt.has("WEBGL_color_buffer_float"))||Zt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");j>=0&&j<=I.width-K&&te>=0&&te<=I.height-de&&ne.readPixels(j,te,K,de,P.convert(fn),P.convert(Xt),vt)}finally{const Rt=null!==v?ce.get(v).__webglFramebuffer:null;Ee.bindFramebuffer(36160,Rt)}}},this.copyFramebufferToTexture=function(I,j,te=0){const K=Math.pow(2,-te),de=Math.floor(j.image.width*K),vt=Math.floor(j.image.height*K);se.setTexture2D(j,0),ne.copyTexSubImage2D(3553,te,0,0,I.x,I.y,de,vt),Ee.unbindTexture()},this.copyTextureToTexture=function(I,j,te,K=0){const de=j.image.width,vt=j.image.height,Et=P.convert(te.format),kt=P.convert(te.type);se.setTexture2D(te,0),ne.pixelStorei(37440,te.flipY),ne.pixelStorei(37441,te.premultiplyAlpha),ne.pixelStorei(3317,te.unpackAlignment),j.isDataTexture?ne.texSubImage2D(3553,K,I.x,I.y,de,vt,Et,kt,j.image.data):j.isCompressedTexture?ne.compressedTexSubImage2D(3553,K,I.x,I.y,j.mipmaps[0].width,j.mipmaps[0].height,Et,j.mipmaps[0].data):ne.texSubImage2D(3553,K,I.x,I.y,Et,kt,j.image),0===K&&te.generateMipmaps&&ne.generateMipmap(3553),Ee.unbindTexture()},this.copyTextureToTexture3D=function(I,j,te,K,de=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const vt=I.max.x-I.min.x+1,Et=I.max.y-I.min.y+1,kt=I.max.z-I.min.z+1,Rt=P.convert(K.format),fn=P.convert(K.type);let Xt;if(K.isData3DTexture)se.setTexture3D(K,0),Xt=32879;else{if(!K.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");se.setTexture2DArray(K,0),Xt=35866}ne.pixelStorei(37440,K.flipY),ne.pixelStorei(37441,K.premultiplyAlpha),ne.pixelStorei(3317,K.unpackAlignment);const Zt=ne.getParameter(3314),Gn=ne.getParameter(32878),Jl=ne.getParameter(3316),fd=ne.getParameter(3315),pd=ne.getParameter(32877),io=te.isCompressedTexture?te.mipmaps[0]:te.image;ne.pixelStorei(3314,io.width),ne.pixelStorei(32878,io.height),ne.pixelStorei(3316,I.min.x),ne.pixelStorei(3315,I.min.y),ne.pixelStorei(32877,I.min.z),te.isDataTexture||te.isData3DTexture?ne.texSubImage3D(Xt,de,j.x,j.y,j.z,vt,Et,kt,Rt,fn,io.data):te.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(Xt,de,j.x,j.y,j.z,vt,Et,kt,Rt,io.data)):ne.texSubImage3D(Xt,de,j.x,j.y,j.z,vt,Et,kt,Rt,fn,io),ne.pixelStorei(3314,Zt),ne.pixelStorei(32878,Gn),ne.pixelStorei(3316,Jl),ne.pixelStorei(3315,fd),ne.pixelStorei(32877,pd),0===de&&K.generateMipmaps&&ne.generateMipmap(Xt),Ee.unbindTexture()},this.initTexture=function(I){I.isCubeTexture?se.setTextureCube(I,0):I.isData3DTexture?se.setTexture3D(I,0):I.isDataArrayTexture?se.setTexture2DArray(I,0):se.setTexture2D(I,0),Ee.unbindTexture()},this.resetState=function(){_=0,y=0,v=null,Ee.reset(),fe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class Jse extends Xu{}).prototype.isWebGL1Renderer=!0;class mf extends Ei{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}class lC{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Er()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=e.array[n+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Er()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Er()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ji=new C;class Hl{constructor(t,e,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Ji.fromBufferAttribute(this,e),Ji.applyMatrix4(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Ji.fromBufferAttribute(this,e),Ji.applyNormalMatrix(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Ji.fromBufferAttribute(this,e),Ji.transformDirection(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,s){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return new ai(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Hl(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const l2=new C,c2=new dn,u2=new dn,noe=new C,d2=new Ct;class h2 extends li{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new dn,e=this.geometry.attributes.skinWeight;for(let n=0,r=e.count;n<r;n++){t.fromBufferAttribute(e,n);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,r=this.geometry;c2.fromBufferAttribute(r.attributes.skinIndex,t),u2.fromBufferAttribute(r.attributes.skinWeight,t),l2.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const o=u2.getComponent(s);if(0!==o){const a=c2.getComponent(s);d2.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),e.addScaledVector(noe.copy(l2).applyMatrix4(d2),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class uC extends Ei{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vf extends qr{constructor(t=null,e=1,n=1,r,s,o,a,l,c=si,u=si,d,h){super(null,o,a,l,c,u,r,s,d,h),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const f2=new Ct,ioe=new Ct;class B_{constructor(t=[],e=[]){this.uuid=Er(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new Ct;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,o=t.length;s<o;s++)f2.multiplyMatrices(t[s]?t[s].matrixWorld:ioe,e[s]),f2.toArray(n,16*s);null!==r&&(r.needsUpdate=!0)}clone(){return new B_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=cL(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new vf(e,t,t,ps,va);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,r=t.bones.length;n<r;n++){const s=t.bones[n];let o=e[s];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new uC),this.bones.push(o),this.boneInverses.push((new Ct).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let r=0,s=e.length;r<s;r++)t.bones.push(e[r].uuid),t.boneInverses.push(n[r].toArray());return t}}class fr extends vs{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const g2=new C,_2=new C,y2=new Ct,dC=new __,z_=new Ll;class Ul extends Ei{constructor(t=new Pt,e=new fr){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let r=1,s=e.count;r<s;r++)g2.fromBufferAttribute(e,r-1),_2.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=g2.distanceTo(_2);t.setAttribute("lineDistance",new Ue(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),z_.copy(n.boundingSphere),z_.applyMatrix4(r),z_.radius+=s,!1===t.ray.intersectsSphere(z_))return;y2.copy(r).invert(),dC.copy(t.ray).applyMatrix4(y2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new C,u=new C,d=new C,h=new C,f=this.isLineSegments?2:1,p=n.index,g=n.attributes.position;if(null!==p)for(let v=Math.max(0,o.start),b=Math.min(p.count,o.start+o.count)-1;v<b;v+=f){const x=p.getX(v),w=p.getX(v+1);if(c.fromBufferAttribute(g,x),u.fromBufferAttribute(g,w),dC.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const M=t.ray.origin.distanceTo(h);M<t.near||M>t.far||e.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(let v=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count)-1;v<b;v+=f){if(c.fromBufferAttribute(g,v),u.fromBufferAttribute(g,v+1),dC.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const w=t.ray.origin.distanceTo(h);w<t.near||w>t.far||e.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const v2=new C,b2=new C;class hC extends Ul{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[];for(let r=0,s=e.count;r<s;r+=2)v2.fromBufferAttribute(e,r),b2.fromBufferAttribute(e,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+v2.distanceTo(b2);t.setAttribute("lineDistance",new Ue(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class M2 extends Ul{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class fC extends vs{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const x2=new Ct,pC=new __,H_=new Ll,U_=new C;class w2 extends Ei{constructor(t=new Pt,e=new fC){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,s=t.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),H_.copy(n.boundingSphere),H_.applyMatrix4(r),H_.radius+=s,!1===t.ray.intersectsSphere(H_))return;x2.copy(r).invert(),pC.copy(t.ray).applyMatrix4(x2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,d=n.attributes.position;if(null!==c)for(let p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);p<m;p++){const g=c.getX(p);U_.fromBufferAttribute(d,g),C2(U_,g,l,r,t,e,this)}else for(let p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);p<m;p++)U_.fromBufferAttribute(d,p),C2(U_,p,l,r,t,e,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function C2(i,t,e,n,r,s,o){const a=pC.distanceSqToPoint(i);if(a<e){const l=new C;pC.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}class Gl extends Pt{constructor(t=1,e=32,n=16,r=0,s=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new C,h=new C,f=[],p=[],m=[],g=[];for(let _=0;_<=n;_++){const y=[],v=_/n;let b=0;0==_&&0==o?b=.5/e:_==n&&l==Math.PI&&(b=-.5/e);for(let x=0;x<=e;x++){const w=x/e;d.x=-t*Math.cos(r+w*s)*Math.sin(o+v*a),d.y=t*Math.cos(o+v*a),d.z=t*Math.sin(r+w*s)*Math.sin(o+v*a),p.push(d.x,d.y,d.z),h.copy(d).normalize(),m.push(h.x,h.y,h.z),g.push(w+b,1-v),y.push(c++)}u.push(y)}for(let _=0;_<n;_++)for(let y=0;y<e;y++){const v=u[_][y+1],b=u[_][y],x=u[_+1][y],w=u[_+1][y+1];(0!==_||o>0)&&f.push(v,b,w),(_!==n-1||l<Math.PI)&&f.push(b,x,w)}this.setIndex(f),this.setAttribute("position",new Ue(p,3)),this.setAttribute("normal",new Ue(m,3)),this.setAttribute("uv",new Ue(g,2))}static fromJSON(t){return new Gl(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Ia extends vs{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Oa extends Ia{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new q(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new xe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}const En={arraySlice:function(i,t,e){return En.isTypedArray(i)?new i.constructor(i.subarray(t,void 0!==e?e:i.length)):i.slice(t,e)},convertArray:function(i,t,e){return!i||!e&&i.constructor===t?i:"number"==typeof t.BYTES_PER_ELEMENT?new t(i):Array.prototype.slice.call(i)},isTypedArray:function(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)},getKeyframeOrder:function(i){const e=i.length,n=new Array(e);for(let r=0;r!==e;++r)n[r]=r;return n.sort(function t(r,s){return i[r]-i[s]}),n},sortedArray:function(i,t,e){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=e[s]*t;for(let l=0;l!==t;++l)r[o++]=i[a+l]}return r},flattenJSON:function(i,t,e,n){let r=1,s=i[0];for(;void 0!==s&&void 0===s[n];)s=i[r++];if(void 0===s)return;let o=s[n];if(void 0!==o)if(Array.isArray(o))do{o=s[n],void 0!==o&&(t.push(s.time),e.push.apply(e,o)),s=i[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[n],void 0!==o&&(t.push(s.time),o.toArray(e,e.length)),s=i[r++]}while(void 0!==s);else do{o=s[n],void 0!==o&&(t.push(s.time),e.push(o)),s=i[r++]}while(void 0!==s)},subclip:function(i,t,e,n,r=30){const s=i.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let f=0;f<c.times.length;++f){const p=c.times[f]*r;if(!(p<e||p>=n)){d.push(c.times[f]);for(let m=0;m<u;++m)h.push(c.values[f*u+m])}}0!==d.length&&(c.times=En.convertArray(d,c.times.constructor),c.values=En.convertArray(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(i,t=0,e=i,n=30){n<=0&&(n=30);const r=e.tracks.length,s=t/n;for(let o=0;o<r;++o){const a=e.tracks[o],l=a.ValueTypeName;if("bool"===l||"string"===l)continue;const c=i.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(void 0===c)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const p=a.times.length-1;let m;if(s<=a.times[0])m=En.arraySlice(a.values,u,d-u);else if(s>=a.times[p]){const _=p*d+u;m=En.arraySlice(a.values,_,_+d-u)}else{const _=a.createInterpolant(),y=u,v=d-u;_.evaluate(s),m=En.arraySlice(_.resultBuffer,y,v)}"quaternion"===l&&(new zn).fromArray(m).normalize().conjugate().toArray(m);const g=c.times.length;for(let _=0;_<g;++_){const y=_*f+h;if("quaternion"===l)zn.multiplyQuaternionsFlat(c.values,y,m,0,c.values,y);else{const v=f-2*h;for(let b=0;b<v;++b)c.values[y+b]-=m[b]}}}return i.blendMode=2501,i}};class Pf{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],s=e[n-1];e:{t:{let o;n:{i:if(!(t<r)){for(let a=n+2;;){if(void 0===r){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=r,r=e[++n],t<r)break t}o=e.length;break n}if(t>=s)break e;{const a=e[1];t<a&&(n=2,s=a);for(let l=n-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=s,s=e[--n-1],t>=s)break t}o=n,n=0}}for(;n<o;){const a=n+o>>>1;t<e[a]?o=a:n=a+1}if(r=e[n],s=e[n-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=t*r;for(let o=0;o!==r;++o)e[o]=n[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Yoe extends Pf{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const r=this.parameterPositions;let s=t-2,o=t+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=t,a=2*e-n;break;case 2402:s=r.length-2,a=e+r[s]-r[s+1];break;default:s=t,a=n}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=t,l=2*n-e;break;case 2402:o=1,l=n+r[1]-r[0];break;default:o=t-1,l=e}const c=.5*(n-e),u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(t,e,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-e)/(r-e),m=p*p,g=m*p,_=-h*g+2*h*m-h*p,y=(1+h)*g+(-1.5-2*h)*m+(-.5+h)*p+1,v=(-1-f)*g+(1.5+f)*m+.5*p,b=f*g-f*m;for(let x=0;x!==a;++x)s[x]=_*o[u+x]+y*o[c+x]+v*o[l+x]+b*o[d+x];return s}}class B2 extends Pf{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=(n-e)/(r-e),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class Xoe extends Pf{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ks{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=En.convertArray(e,this.TimeBufferType),this.values=En.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:En.convertArray(t.times,Array),values:En.convertArray(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Xoe(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new B2(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Yoe(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case sf:e=this.InterpolantFactoryMethodDiscrete;break;case Du:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sf;case this.InterpolantFactoryMethodLinear:return Du;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<t;)++s;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=En.arraySlice(n,s,o),this.values=En.arraySlice(this.values,s*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(void 0!==r&&En.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){const t=En.arraySlice(this.times),e=En.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),s=t.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=t[a];if(c!==t[a+1]&&(1!==a||c!==t[0]))if(r)l=!0;else{const d=a*n,h=d-n,f=d+n;for(let p=0;p!==n;++p){const m=e[d+p];if(m!==e[h+p]||m!==e[f+p]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const d=a*n,h=o*n;for(let f=0;f!==n;++f)e[h+f]=e[d+f]}++o}}if(s>0){t[o]=t[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)e[l+c]=e[a+c];++o}return o!==t.length?(this.times=En.arraySlice(t,0,o),this.values=En.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this}clone(){const t=En.arraySlice(this.times,0),e=En.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Ks.prototype.TimeBufferType=Float32Array,Ks.prototype.ValueBufferType=Float32Array,Ks.prototype.DefaultInterpolation=Du;class id extends Ks{}id.prototype.ValueTypeName="bool",id.prototype.ValueBufferType=Array,id.prototype.DefaultInterpolation=sf,id.prototype.InterpolantFactoryMethodLinear=void 0,id.prototype.InterpolantFactoryMethodSmooth=void 0;class V2 extends Ks{}V2.prototype.ValueTypeName="color";class Af extends Ks{}Af.prototype.ValueTypeName="number";class Koe extends Pf{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-e)/(r-e);let c=t*a;for(let u=c+a;c!==u;c+=4)zn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class jl extends Ks{InterpolantFactoryMethodLinear(t){return new Koe(this.times,this.values,this.getValueSize(),t)}}jl.prototype.ValueTypeName="quaternion",jl.prototype.DefaultInterpolation=Du,jl.prototype.InterpolantFactoryMethodSmooth=void 0;class rd extends Ks{}rd.prototype.ValueTypeName="string",rd.prototype.ValueBufferType=Array,rd.prototype.DefaultInterpolation=sf,rd.prototype.InterpolantFactoryMethodLinear=void 0,rd.prototype.InterpolantFactoryMethodSmooth=void 0;class If extends Ks{}If.prototype.ValueTypeName="vector";class Of{constructor(t,e=-1,n,r=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=Er(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let o=0,a=n.length;o!==a;++o)e.push(Qoe(n[o]).scale(r));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,o=n.length;s!==o;++s)e.push(Ks.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(t,e,n,r){const s=e.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=En.getKeyframeOrder(l);l=En.sortedArray(l,1,u),c=En.sortedArray(c,1,u),!r&&0===l[0]&&(l.push(s),c.push(c[0])),o.push(new Af(".morphTargetInfluences["+e[a].name+"]",l,c).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const r=t;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){const c=t[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(d,h,f,p,m){if(0!==f.length){const g=[],_=[];En.flattenJSON(f,g,_,p),0!==g.length&&m.push(new d(h,g,_))}},r=[],s=t.name||"default",o=t.fps||30,a=t.blendMode;let l=t.length||-1;const c=t.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(h&&0!==h.length)if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let m=0;m<h[p].morphTargets.length;m++)f[h[p].morphTargets[m]]=-1;for(const m in f){const g=[],_=[];for(let y=0;y!==h[p].morphTargets.length;++y){const v=h[p];g.push(v.time),_.push(v.morphTarget===m?1:0)}r.push(new Af(".morphTargetInfluence["+m+"]",g,_))}l=f.length*o}else{const f=".bones["+e[d].name+"]";n(If,f+".position",h,"pos",r),n(jl,f+".quaternion",h,"rot",r),n(If,f+".scale",h,"scl",r)}}return 0===r.length?null:new this(s,l,r,a)}resetDuration(){let e=0;for(let n=0,r=this.tracks.length;n!==r;++n){const s=this.tracks[n];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Qoe(i){if(void 0===i.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function Zoe(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Af;case"vector":case"vector2":case"vector3":case"vector4":return If;case"color":return V2;case"quaternion":return jl;case"bool":case"boolean":return id;case"string":return rd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(i.type);if(void 0===i.times){const e=[],n=[];En.flattenJSON(i.keys,e,n,"value"),i.times=e,i.values=n}return void 0!==t.parse?t.parse(i):new t(i.name,i.times,i.values,i.interpolation)}const sd={enabled:!1,files:{},add:function(i,t){!1!==this.enabled&&(this.files[i]=t)},get:function(i){if(!1!==this.enabled)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};const Rf=new class z2{constructor(t,e,n){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}};class Nf{constructor(t){this.manager=void 0!==t?t:Rf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(r,s){n.load(t,r,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const jo={};class Zs extends Nf{constructor(t){super(t)}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=sd.get(t);if(void 0!==s)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(void 0!==jo[t])return void jo[t].push({onLoad:e,onProgress:n,onError:r});jo[t]=[],jo[t].push({onLoad:e,onProgress:n,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===c.body||void 0===c.body.getReader)return c;const u=jo[t],d=c.body.getReader(),h=c.headers.get("Content-Length"),f=h?parseInt(h):0,p=0!==f;let m=0;const g=new ReadableStream({start(_){!function y(){d.read().then(({done:v,value:b})=>{if(v)_.close();else{m+=b.byteLength;const x=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:f});for(let w=0,A=u.length;w<A;w++){const M=u[w];M.onProgress&&M.onProgress(x)}_.enqueue(b),y()}})}()}});return new Response(g)}throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>(new DOMParser).parseFromString(u,a));case"json":return c.json();default:if(void 0===a)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{sd.add(t,c);const u=jo[t];delete jo[t];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{const u=jo[t];if(void 0===u)throw this.manager.itemError(t),c;delete jo[t];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onError&&f.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class cy extends Nf{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=sd.get(t);if(void 0!==o)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a=cf("img");function l(){u(),sd.add(t,this),e&&e(this),s.manager.itemEnd(t)}function c(d){u(),r&&r(d),s.manager.itemError(t),s.manager.itemEnd(t)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(t),a.src=t,a}}class H2 extends Nf{constructor(t){super(t)}load(t,e,n,r){const s=new qr,o=new cy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(a){s.image=a,s.needsUpdate=!0,void 0!==e&&e(s)},n,r),s}}class uy extends Ei{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new xe(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}const U2=new Ct,G2=new C,j2=new C;class SC{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new q(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zw,this._frameExtents=new q(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;G2.setFromMatrixPosition(t.matrixWorld),e.position.copy(G2),j2.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(j2),e.updateMatrixWorld(),U2.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(U2),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class eae extends SC{constructor(){super(new gn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=2*af*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(n!==e.fov||r!==e.aspect||s!==e.far)&&(e.fov=n,e.aspect=r,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class DC extends uy{constructor(t,e,n=0,r=Math.PI/3,s=0,o=1){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.target=new Ei,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new eae}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const W2=new Ct,kf=new C,EC=new C;class tae extends SC{constructor(){super(new gn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new q(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new C(1,0,0),new C(-1,0,0),new C(0,0,1),new C(0,0,-1),new C(0,1,0),new C(0,-1,0)],this._cubeUps=[new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,0,1),new C(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,s=t.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),kf.setFromMatrixPosition(t.matrixWorld),n.position.copy(kf),EC.copy(n.position),EC.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(EC),n.updateMatrixWorld(),r.makeTranslation(-kf.x,-kf.y,-kf.z),W2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(W2)}}class Ff extends uy{constructor(t,e,n=0,r=1){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new tae}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class nae extends SC{constructor(){super(new bs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $2 extends uy{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.target=new Ei,this.shadow=new nae}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class q2 extends uy{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class Wo{static decodeText(t){if(typeof TextDecoder<"u")return(new TextDecoder).decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class cae extends Nf{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=sd.get(t);if(void 0!==o)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){sd.add(t,l),e&&e(l),s.manager.itemEnd(t)}).catch(function(l){r&&r(l),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}}class hy{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=J2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=J2();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function J2(){return(typeof performance>"u"?Date:performance).now()}const PC="\\[\\]\\.:\\/",fae=new RegExp("["+PC+"]","g"),AC="[^"+PC+"]",pae="[^"+PC.replace("\\.","")+"]",vae=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",AC)+/(WCOD+)?/.source.replace("WCOD",pae)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AC)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AC)+"$"),bae=["material","materials","bones"];class Mae{constructor(t,e,n){const r=n||Cn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}let Cn=(()=>{class i{constructor(e,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,r):new i(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fae,"")}static parseTrackName(e){const n=vae.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==bae.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(void 0!==r)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)e[n++]=r[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let o=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==u){if(void 0===e[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[u]}}const a=e[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+s+" but it wasn't found.",e);let l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[o]&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=Mae,i})();Cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Cn.prototype.GetterByBindingType=[Cn.prototype._getValue_direct,Cn.prototype._getValue_array,Cn.prototype._getValue_arrayElement,Cn.prototype._getValue_toArray],Cn.prototype.SetterByBindingTypeAndVersioning=[[Cn.prototype._setValue_direct,Cn.prototype._setValue_direct_setNeedsUpdate,Cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_array,Cn.prototype._setValue_array_setNeedsUpdate,Cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_arrayElement,Cn.prototype._setValue_arrayElement_setNeedsUpdate,Cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_fromArray,Cn.prototype._setValue_fromArray_setNeedsUpdate,Cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class IC{constructor(t,e,n=0,r=1/0){this.ray=new __(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new Fu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,n=[]){return OC(t,this,n,e),n.sort(r3),n}intersectObjects(t,e=!0,n=[]){for(let r=0,s=t.length;r<s;r++)OC(t[r],this,n,e);return n.sort(r3),n}}function r3(i,t){return i.distance-t.distance}function OC(i,t,e,n){if(i.layers.test(t.layers)&&i.raycast(t,e),!0===n){const r=i.children;for(let s=0,o=r.length;s<o;s++)OC(r[s],t,e,!0)}}class od{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Yn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function Aae(){const i=new ArrayBuffer(4),t=new Float32Array(i),e=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[256|l]=32768,r[l]=24,r[256|l]=24):c<-14?(n[l]=1024>>-c-14,n[256|l]=1024>>-c-14|32768,r[l]=-c-1,r[256|l]=-c-1):c<=15?(n[l]=c+15<<10,n[256|l]=c+15<<10|32768,r[l]=13,r[256|l]=13):c<128?(n[l]=31744,n[256|l]=64512,r[l]=24,r[256|l]=24):(n[l]=31744,n[256|l]=64512,r[l]=13,r[256|l]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;0==(8388608&c);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:e,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");class kC extends Nf{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new Lae(e)}),this.register(function(e){return new jae(e)}),this.register(function(e){return new Wae(e)}),this.register(function(e){return new Vae(e)}),this.register(function(e){return new zae(e)}),this.register(function(e){return new Hae(e)}),this.register(function(e){return new Uae(e)}),this.register(function(e){return new Fae(e)}),this.register(function(e){return new Gae(e)}),this.register(function(e){return new Bae(e)}),this.register(function(e){return new Nae(e)}),this.register(function(e){return new $ae(e)})}load(t,e,n,r){const s=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Wo.extractUrlBase(t),this.manager.itemStart(t);const a=function(c){r?r(c):console.error(c),s.manager.itemError(t),s.manager.itemEnd(t)},l=new Zs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(c){try{s.parse(c,o,function(u){e(u),s.manager.itemEnd(t)},a)}catch(u){a(u)}},n,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,r){let s;const o={},a={};if("string"==typeof t)s=t;else if(Wo.decodeText(new Uint8Array(t,0,4))===g3){try{o[Bt.KHR_BINARY_GLTF]=new qae(t)}catch(d){return void(r&&r(d))}s=o[Bt.KHR_BINARY_GLTF].content}else s=Wo.decodeText(new Uint8Array(t));const l=JSON.parse(s);if(void 0===l.asset||l.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new ole(l,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],h=l.extensionsRequired||[];switch(d){case Bt.KHR_MATERIALS_UNLIT:o[d]=new kae;break;case Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new Kae;break;case Bt.KHR_DRACO_MESH_COMPRESSION:o[d]=new Yae(l,this.dracoLoader);break;case Bt.KHR_TEXTURE_TRANSFORM:o[d]=new Xae;break;case Bt.KHR_MESH_QUANTIZATION:o[d]=new Zae;break;default:h.indexOf(d)>=0&&void 0===a[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(n,r)}parseAsync(t,e){const n=this;return new Promise(function(r,s){n.parse(t,e,r,s)})}}function Rae(){let i={};return{get:function(t){return i[t]},add:function(t,e){i[t]=e},remove:function(t){delete i[t]},removeAll:function(){i={}}}}const Bt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Nae{constructor(t){this.parser=t,this.name=Bt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,r=e.length;n<r;n++){const s=e[n];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&t._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let r=e.cache.get(n);if(r)return r;const s=e.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[t];let c;const u=new xe(16777215);void 0!==l.color&&u.fromArray(l.color);const d=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new $2(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ff(u),c.distance=d;break;case"spot":c=new DC(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,void 0!==l.intensity&&(c.intensity=l.intensity),c.name=e.createUniqueName(l.name||"light_"+t),r=Promise.resolve(c),e.cache.add(n,r),r}createNodeAttachment(t){const e=this,n=this.parser,s=n.json.nodes[t],a=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(l){return n._getNodeRef(e.cache,a,l)})}}class kae{constructor(){this.name=Bt.KHR_MATERIALS_UNLIT}getMaterialType(){return hr}extendParams(t,e,n){const r=[];t.color=new xe(1,1,1),t.opacity=1;const s=e.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}void 0!==s.baseColorTexture&&r.push(n.assignTexture(t,"map",s.baseColorTexture,nn))}return Promise.all(r)}}class Fae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return void 0!==s&&(e.emissiveIntensity=s),Promise.resolve()}}class Lae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const a=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new q(a,a)}return Promise.all(s)}}class Bae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(e.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&s.push(n.assignTexture(e,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(e.iridescenceIOR=o.iridescenceIor),void 0===e.iridescenceThicknessRange&&(e.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(e.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(e.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&s.push(n.assignTexture(e,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Vae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];e.sheenColor=new xe(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=r.extensions[this.name];return void 0!==o.sheenColorFactor&&e.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(e.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&s.push(n.assignTexture(e,"sheenColorMap",o.sheenColorTexture,nn)),void 0!==o.sheenRoughnessTexture&&s.push(n.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class zae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&s.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Hae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];e.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&s.push(n.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return e.attenuationColor=new xe(a[0],a[1],a[2]),Promise.all(s)}}class Uae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return e.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class Gae{constructor(t){this.parser=t,this.name=Bt.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?Oa:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];e.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&s.push(n.assignTexture(e,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return e.specularColor=new xe(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&s.push(n.assignTexture(e,"specularColorMap",o.specularColorTexture,nn)),Promise.all(s)}}class jae{constructor(t){this.parser=t,this.name=Bt.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,r=n.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,s.source,o)}}class Wae{constructor(t){this.parser=t,this.name=Bt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,r=n.json,s=r.textures[t];if(!s.extensions||!s.extensions[e])return null;const o=s.extensions[e],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(t,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class $ae{constructor(t){this.name=Bt.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,h=new ArrayBuffer(u*d),f=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(h),u,d,f,r.mode,r.filter),h})}return null}}const g3="glTF";class qae{constructor(t){this.name=Bt.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:Wo.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==g3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(t,12);let s=0;for(;s<n;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,1313821514===a){const l=new Uint8Array(t,12+s,o);this.content=Wo.decodeText(l)}else if(5130562===a){const l=12+s;this.body=t.slice(l,l+o)}s+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Yae{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Bt.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,r=this.dracoLoader,s=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=LC[u]||u.toLowerCase();a[d]=o[u]}for(const u in t.attributes){const d=LC[u]||u.toLowerCase();if(void 0!==o[u]){const h=n.accessors[t.attributes[u]];c[d]=Bf[h.componentType],l[d]=!0===h.normalized}}return e.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(h){for(const f in h.attributes){const p=h.attributes[f],m=l[f];void 0!==m&&(p.normalized=m)}d(h)},a,c)})})}}class Xae{constructor(){this.name=Bt.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class FC extends Ia{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new xe).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Kae{constructor(){this.name=Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return FC}extendParams(t,e,n){const r=e.extensions[this.name];t.color=new xe(1,1,1),t.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;t.color.fromArray(o),t.opacity=o[3]}if(void 0!==r.diffuseTexture&&s.push(n.assignTexture(t,"map",r.diffuseTexture,nn)),t.emissive=new xe(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new xe(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const o=r.specularGlossinessTexture;s.push(n.assignTexture(t,"glossinessMap",o)),s.push(n.assignTexture(t,"specularMap",o,nn))}return Promise.all(s)}createMaterial(t){const e=new FC(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=void 0===t.emissiveIntensity?1:t.emissiveIntensity,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e}}class Zae{constructor(){this.name=Bt.KHR_MESH_QUANTIZATION}}class y3 extends Pf{constructor(t,e,n,r){super(t,e,n,r)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=t*r*3+r;for(let o=0;o!==r;o++)e[o]=n[s+o];return e}interpolate_(t,e,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=2*a,c=3*a,u=r-e,d=(n-e)/u,h=d*d,f=h*d,p=t*c,m=p-c,g=-2*f+3*h,_=f-h,y=1-g,v=_-h+d;for(let b=0;b!==a;b++)s[b]=y*o[m+b+a]+v*(o[m+b+l]*u)+g*o[p+b+a]+_*(o[p+b]*u);return s}}const Qae=new zn;class Jae extends y3{interpolate_(t,e,n,r){const s=super.interpolate_(t,e,n,r);return Qae.fromArray(s).normalize().toArray(s),s}}const Bf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},v3={9728:si,9729:Vn,9984:1004,9985:1007,9986:1005,9987:ya},b3={33071:Yi,33648:1002,10497:Dl},M3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},LC={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Na={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ele={CUBICSPLINE:void 0,LINEAR:Du,STEP:sf};function Vf(i,t,e){for(const n in e.extensions)void 0===i[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=e.extensions[n])}function Kl(i,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(i.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ile(i,t){if(i.updateMorphTargets(),void 0!==t.weights)for(let e=0,n=t.weights.length;e<n;e++)i.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(i.morphTargetInfluences.length===e.length){i.morphTargetDictionary={};for(let n=0,r=e.length;n<r;n++)i.morphTargetDictionary[e[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function rle(i){const t=i.extensions&&i.extensions[Bt.KHR_DRACO_MESH_COMPRESSION];let e;return e=t?"draco:"+t.bufferView+":"+t.indices+":"+x3(t.attributes):i.indices+":"+x3(i.attributes)+":"+i.mode,e}function x3(i){let t="";const e=Object.keys(i).sort();for(let n=0,r=e.length;n<r;n++)t+=e[n]+":"+i[e[n]]+";";return t}function VC(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class ole{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new Rae,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;this.textureLoader=typeof createImageBitmap>"u"||n||r&&s<98?new H2(this.options.manager):new cae(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Zs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};Vf(s,a,r),Kl(a,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){t(a)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=e.length;r<s;r++){const o=e[r].joints;for(let a=0,l=o.length;a<l;a++)t[o[a]].isBone=!0}for(let r=0,s=t.length;r<s;r++){const o=t[r];void 0!==o.mesh&&(this._addNodeRef(this.meshCache,o.mesh),void 0!==o.skin&&(n[o.mesh].isSkinnedMesh=!0)),void 0!==o.camera&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const r=n.clone(),s=(o,a)=>{const l=this.associations.get(o);null!=l&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(n,r),r.name+="_instance_"+t.uses[e]++,r}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const r=t(e[n]);if(r)return r}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let r=0;r<e.length;r++){const s=t(e[r]);s&&n.push(s)}return n}getDependency(t,e){const n=t+":"+e;let r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(e)});break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(e)});break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(e)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(e)});break;case"skin":r=this.loadSkin(e);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(e)});break;case"camera":r=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,r)}return r}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(s,o){return n.getDependency(t,o)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Bt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){n.load(Wo.resolveURL(e.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(n){const s=e.byteOffset||0;return n.slice(s,s+(e.byteLength||0))})}loadAccessor(t){const e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const s=[];return s.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=M3[r.type],c=Bf[r.componentType],u=c.BYTES_PER_ELEMENT,h=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;let m,g;if(f&&f!==u*l){const _=Math.floor(h/f),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count;let v=e.cache.get(y);v||(m=new c(a,_*f,r.count*f/u),v=new lC(m,f/u),e.cache.add(y,v)),g=new Hl(v,l,h%f/u,p)}else m=null===a?new c(r.count*l):new c(a,h,r.count*l),g=new ai(m,l,p);if(void 0!==r.sparse){const b=r.sparse.values.byteOffset||0,x=new(0,Bf[r.sparse.indices.componentType])(o[1],r.sparse.indices.byteOffset||0,r.sparse.count*M3.SCALAR),w=new c(o[2],b,r.sparse.count*l);null!==a&&(g=new ai(g.array.slice(),g.itemSize,g.normalized));for(let A=0,M=x.length;A<M;A++){const S=x[A];if(g.setX(S,w[A*l]),l>=2&&g.setY(S,w[A*l+1]),l>=3&&g.setZ(S,w[A*l+2]),l>=4&&g.setW(S,w[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(t){const e=this.json,s=e.textures[t].source,o=e.images[s];let a=this.textureLoader;if(o.uri){const l=this.options.manager.getHandler(o.uri);null!==l&&(a=l)}return this.loadTextureImage(t,s,a)}loadTextureImage(t,e,n){const r=this,s=this.json,o=s.textures[t],a=s.images[e],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(e,n).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=v3[h.magFilter]||Vn,u.minFilter=v3[h.minFilter]||ya,u.wrapS=b3[h.wrapS]||Dl,u.wrapT=b3[h.wrapT]||Dl,r.associations.set(u,{textures:t}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(t,e){const r=this.json,s=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(d=>d.clone());const o=r.images[t],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(void 0!==o.bufferView)l=this.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,f){let p=h;!0===e.isImageBitmapLoader&&(p=function(m){const g=new qr(m);g.needsUpdate=!0,h(g)}),e.load(Wo.resolveURL(d,s.path),p,void 0,f)})}).then(function(d){return!0===c&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||function sle(i){return i.search(/\.jpe?g($|\?)/i)>0||0===i.search(/^data\:image\/jpeg/)?"image/jpeg":i.search(/\.webp($|\?)/i)>0||0===i.search(/^data\:image\/webp/)?"image/webp":"image/png"}(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[t]=u,u}assignTexture(t,e,n,r){const s=this;return this.getDependency("texture",n.index).then(function(o){if(void 0!==n.texCoord&&0!=n.texCoord&&!("aoMap"===e&&1==n.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),s.extensions[Bt.KHR_TEXTURE_TRANSFORM]){const a=void 0!==n.extensions?n.extensions[Bt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Bt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return void 0!==r&&(o.encoding=r),t[e]=o,o})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const r=void 0===e.attributes.tangent,s=void 0!==e.attributes.color,o=void 0===e.attributes.normal;if(t.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new fC,vs.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(t.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new fr,vs.prototype.copy.call(l,n),l.color.copy(n.color),this.cache.add(a,l)),n=l}if(r||s||o){let a="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return Ia}loadMaterial(t){const e=this,r=this.extensions,s=this.json.materials[t];let o;const a={},l=s.extensions||{},c=[];if(l[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=r[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,e))}else if(l[Bt.KHR_MATERIALS_UNLIT]){const d=r[Bt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,e))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new xe(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}void 0!==d.baseColorTexture&&c.push(e.assignTexture(a,"map",d.baseColorTexture,nn)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(e.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(e.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(t,a)})))}!0===s.doubleSided&&(a.side=2);const u=s.alphaMode||"OPAQUE";if("BLEND"===u?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===u&&(a.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&o!==hr&&(c.push(e.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new q(1,1),void 0!==s.normalTexture.scale)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return void 0!==s.occlusionTexture&&o!==hr&&(c.push(e.assignTexture(a,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(a.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&o!==hr&&(a.emissive=(new xe).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&o!==hr&&c.push(e.assignTexture(a,"emissiveMap",s.emissiveTexture,nn)),Promise.all(c).then(function(){let d;return d=o===FC?r[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new o(a),s.name&&(d.name=s.name),Kl(d,s),e.associations.set(d,{materials:t}),s.extensions&&Vf(r,d,s),d})}createUniqueName(t){const e=Cn.sanitizeNodeName(t||"");let n=e;for(let r=1;this.nodeNamesUsed[n];++r)n=e+"_"+r;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,r=this.primitiveCache;function s(a){return n[Bt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,e).then(function(l){return C3(l,a,e)})}const o=[];for(let a=0,l=t.length;a<l;a++){const c=t[a],u=rle(c),d=r[u];if(d)o.push(d.promise);else{let h;h=c.extensions&&c.extensions[Bt.KHR_DRACO_MESH_COMPRESSION]?s(c):C3(new Pt,c,e),r[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(t){const e=this,r=this.extensions,s=this.json.meshes[t],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=void 0===o[l].material?(void 0===(i=this.cache).DefaultMaterial&&(i.DefaultMaterial=new Ia({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),i.DefaultMaterial):this.getDependency("material",o[l].material);a.push(u)}var i;return a.push(e.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],g=o[f];let _;const y=c[f];if(4===g.mode||5===g.mode||6===g.mode||void 0===g.mode)_=!0===s.isSkinnedMesh?new h2(m,y):new li(m,y),!0===_.isSkinnedMesh&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),5===g.mode?_.geometry=S3(_.geometry,1):6===g.mode&&(_.geometry=S3(_.geometry,2));else if(1===g.mode)_=new hC(m,y);else if(3===g.mode)_=new Ul(m,y);else if(2===g.mode)_=new M2(m,y);else{if(0!==g.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);_=new w2(m,y)}Object.keys(_.geometry.morphAttributes).length>0&&ile(_,s),_.name=e.createUniqueName(s.name||"mesh_"+t),Kl(_,s),g.extensions&&Vf(r,_,g),e.assignFinalMaterial(_),d.push(_)}for(let f=0,p=d.length;f<p;f++)e.associations.set(d[f],{meshes:t,primitives:f});if(1===d.length)return d[0];const h=new Uo;e.associations.set(h,{meshes:t});for(let f=0,p=d.length;f<p;f++)h.add(d[f]);return h})}loadCamera(t){let e;const n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new gn(dr.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new bs(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),Kl(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then(function(r){return n.inverseBindMatrices=r,n})}loadAnimation(t){const n=this.json.animations[t],r=[],s=[],o=[],a=[],l=[];for(let c=0,u=n.channels.length;c<u;c++){const d=n.channels[c],h=n.samplers[d.sampler],f=d.target,m=void 0!==n.parameters?n.parameters[h.input]:h.input,g=void 0!==n.parameters?n.parameters[h.output]:h.output;r.push(this.getDependency("node",void 0!==f.node?f.node:f.id)),s.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",g)),a.push(h),l.push(f)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2],f=c[3],p=c[4],m=[];for(let _=0,y=u.length;_<y;_++){const v=u[_],b=d[_],x=h[_],w=f[_],A=p[_];if(void 0===v)continue;let M;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,Na[A.path]){case Na.weights:M=Af;break;case Na.rotation:M=jl;break;default:M=If}const S=v.name?v.name:v.uuid,F=void 0!==w.interpolation?ele[w.interpolation]:Du,B=[];Na[A.path]===Na.weights?v.traverse(function(ie){ie.morphTargetInfluences&&B.push(ie.name?ie.name:ie.uuid)}):B.push(S);let J=x.array;if(x.normalized){const ie=VC(J.constructor),V=new Float32Array(J.length);for(let X=0,L=J.length;X<L;X++)V[X]=J[X]*ie;J=V}for(let ie=0,V=B.length;ie<V;ie++){const X=new M(B[ie]+"."+Na[A.path],b.array,J,F);"CUBICSPLINE"===w.interpolation&&(X.createInterpolant=function(H){return new(this instanceof jl?Jae:y3)(this.times,this.values,this.getValueSize()/3,H)},X.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(X)}}return new Of(n.name?n.name:"animation_"+t,void 0,m)})}createNodeMesh(t){const n=this,r=this.json.nodes[t];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,r.mesh,s);return void 0!==r.weights&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(t){const n=this.extensions,r=this,s=this.json.nodes[t],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(t)});return l&&a.push(l),void 0!==s.camera&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(t)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(l=!0===s.isBone?new uC:a.length>1?new Uo:1===a.length?a[0]:new Ei,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Kl(l,s),s.extensions&&Vf(n,l,s),void 0!==s.matrix){const c=new Ct;c.fromArray(s.matrix),l.applyMatrix4(c)}else void 0!==s.translation&&l.position.fromArray(s.translation),void 0!==s.rotation&&l.quaternion.fromArray(s.rotation),void 0!==s.scale&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=t,l})}loadScene(t){const e=this.json,n=this.extensions,r=this.json.scenes[t],s=this,o=new Uo;r.name&&(o.name=s.createUniqueName(r.name)),Kl(o,r),r.extensions&&Vf(n,o,r);const a=r.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(w3(a[c],o,e,s));return Promise.all(l).then(function(){return s.associations=(u=>{const d=new Map;for(const[h,f]of s.associations)(h instanceof vs||h instanceof qr)&&d.set(h,f);return u.traverse(h=>{const f=s.associations.get(h);null!=f&&d.set(h,f)}),d})(o),o})}}function w3(i,t,e,n){const r=e.nodes[i];return n.getDependency("node",i).then(function(s){if(void 0===r.skin)return s;let o;return n.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(n.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,h=a.length;d<h;d++){const f=a[d];if(f){c.push(f);const p=new Ct;void 0!==o.inverseBindMatrices&&p.fromArray(o.inverseBindMatrices.array,16*d),u.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new B_(c,u),l.matrixWorld)}),s})}).then(function(s){t.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,c=a.length;l<c;l++)o.push(w3(a[l],s,e,n))}return Promise.all(o)})}function C3(i,t,e){const n=t.attributes,r=[];function s(o,a){return e.getDependency("accessor",o).then(function(l){i.setAttribute(a,l)})}for(const o in n){const a=LC[o]||o.toLowerCase();a in i.attributes||r.push(s(n[o],a))}if(void 0!==t.indices&&!i.index){const o=e.getDependency("accessor",t.indices).then(function(a){i.setIndex(a)});r.push(o)}return Kl(i,t),function ale(i,t,e){const n=t.attributes,r=new Ma;if(void 0===n.POSITION)return;{const a=e.json.accessors[n.POSITION],l=a.min,c=a.max;if(void 0===l||void 0===c)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new C(l[0],l[1],l[2]),new C(c[0],c[1],c[2])),a.normalized){const u=VC(Bf[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}const s=t.targets;if(void 0!==s){const a=new C,l=new C;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(void 0!==d.POSITION){const h=e.json.accessors[d.POSITION],f=h.min,p=h.max;if(void 0!==f&&void 0!==p){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),h.normalized){const m=VC(Bf[h.componentType]);l.multiplyScalar(m)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}i.boundingBox=r;const o=new Ll;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=o}(i,t,e),Promise.all(r).then(function(){return void 0!==t.targets?function nle(i,t,e){let n=!1,r=!1,s=!1;for(let c=0,u=t.length;c<u;c++){const d=t[c];if(void 0!==d.POSITION&&(n=!0),void 0!==d.NORMAL&&(r=!0),void 0!==d.COLOR_0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const o=[],a=[],l=[];for(let c=0,u=t.length;c<u;c++){const d=t[c];if(n){const h=void 0!==d.POSITION?e.getDependency("accessor",d.POSITION):i.attributes.position;o.push(h)}if(r){const h=void 0!==d.NORMAL?e.getDependency("accessor",d.NORMAL):i.attributes.normal;a.push(h)}if(s){const h=void 0!==d.COLOR_0?e.getDependency("accessor",d.COLOR_0):i.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[1],h=c[2];return n&&(i.morphAttributes.position=c[0]),r&&(i.morphAttributes.normal=d),s&&(i.morphAttributes.color=h),i.morphTargetsRelative=!0,i})}(i,t.targets,e):i})}function S3(i,t){let e=i.getIndex();if(null===e){const o=[],a=i.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i;for(let l=0;l<a.count;l++)o.push(l);i.setIndex(o),e=i.getIndex()}const n=e.count-2,r=[];if(2===t)for(let o=1;o<=n;o++)r.push(e.getX(0)),r.push(e.getX(o)),r.push(e.getX(o+1));else for(let o=0;o<n;o++)o%2==0?(r.push(e.getX(o)),r.push(e.getX(o+1)),r.push(e.getX(o+2))):(r.push(e.getX(o+2)),r.push(e.getX(o+1)),r.push(e.getX(o)));r.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s}const D3={type:"change"},zC={type:"start"},E3={type:"end"};class HC extends qs{constructor(t,e){super(),void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new C,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(P){P.addEventListener("keydown",Kt),this._domElementKeyEvents=P},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(D3),n.update(),s=r.NONE},this.update=function(){const P=new C,fe=(new zn).setFromUnitVectors(t.up,new C(0,1,0)),De=fe.clone().invert(),R=new C,T=new zn,ee=2*Math.PI;return function(){const ze=n.object.position;P.copy(ze).sub(n.target),P.applyQuaternion(fe),a.setFromVector3(P),n.autoRotate&&s===r.NONE&&S(function A(){return 2*Math.PI/60/60*n.autoRotateSpeed}()),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let Pe=n.minAzimuthAngle,Qe=n.maxAzimuthAngle;return isFinite(Pe)&&isFinite(Qe)&&(Pe<-Math.PI?Pe+=ee:Pe>Math.PI&&(Pe-=ee),Qe<-Math.PI?Qe+=ee:Qe>Math.PI&&(Qe-=ee),a.theta=Pe<=Qe?Math.max(Pe,Math.min(Qe,a.theta)):a.theta>(Pe+Qe)/2?Math.max(Pe,a.theta):Math.min(Qe,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),P.setFromSpherical(a),P.applyQuaternion(De),ze.copy(n.target).add(P),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||R.distanceToSquared(n.object.position)>o||8*(1-T.dot(n.object.quaternion))>o)&&(n.dispatchEvent(D3),R.copy(n.object.position),T.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Z),n.domElement.removeEventListener("pointerdown",Ce),n.domElement.removeEventListener("pointercancel",_t),n.domElement.removeEventListener("wheel",rn),n.domElement.removeEventListener("pointermove",He),n.domElement.removeEventListener("pointerup",Oe),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Kt)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new od,l=new od;let c=1;const u=new C;let d=!1;const h=new q,f=new q,p=new q,m=new q,g=new q,_=new q,y=new q,v=new q,b=new q,x=[],w={};function M(){return Math.pow(.95,n.zoomSpeed)}function S(P){l.theta-=P}function F(P){l.phi-=P}const B=function(){const P=new C;return function(De,R){P.setFromMatrixColumn(R,0),P.multiplyScalar(-De),u.add(P)}}(),J=function(){const P=new C;return function(De,R){!0===n.screenSpacePanning?P.setFromMatrixColumn(R,1):(P.setFromMatrixColumn(R,0),P.crossVectors(n.object.up,P)),P.multiplyScalar(De),u.add(P)}}(),ie=function(){const P=new C;return function(De,R){const T=n.domElement;if(n.object.isPerspectiveCamera){P.copy(n.object.position).sub(n.target);let oe=P.length();oe*=Math.tan(n.object.fov/2*Math.PI/180),B(2*De*oe/T.clientHeight,n.object.matrix),J(2*R*oe/T.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(B(De*(n.object.right-n.object.left)/n.object.zoom/T.clientWidth,n.object.matrix),J(R*(n.object.top-n.object.bottom)/n.object.zoom/T.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function V(P){n.object.isPerspectiveCamera?c/=P:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*P)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function X(P){n.object.isPerspectiveCamera?c*=P:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/P)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(P){h.set(P.clientX,P.clientY)}function G(P){m.set(P.clientX,P.clientY)}function Me(){1===x.length?h.set(x[0].pageX,x[0].pageY):h.set(.5*(x[0].pageX+x[1].pageX),.5*(x[0].pageY+x[1].pageY))}function je(){1===x.length?m.set(x[0].pageX,x[0].pageY):m.set(.5*(x[0].pageX+x[1].pageX),.5*(x[0].pageY+x[1].pageY))}function ne(){const P=x[0].pageX-x[1].pageX,fe=x[0].pageY-x[1].pageY,De=Math.sqrt(P*P+fe*fe);y.set(0,De)}function Ye(P){if(1==x.length)f.set(P.pageX,P.pageY);else{const De=ht(P);f.set(.5*(P.pageX+De.x),.5*(P.pageY+De.y))}p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const fe=n.domElement;S(2*Math.PI*p.x/fe.clientHeight),F(2*Math.PI*p.y/fe.clientHeight),h.copy(f)}function Ee(P){if(1===x.length)g.set(P.pageX,P.pageY);else{const fe=ht(P);g.set(.5*(P.pageX+fe.x),.5*(P.pageY+fe.y))}_.subVectors(g,m).multiplyScalar(n.panSpeed),ie(_.x,_.y),m.copy(g)}function gt(P){const fe=ht(P),De=P.pageX-fe.x,R=P.pageY-fe.y,T=Math.sqrt(De*De+R*R);v.set(0,T),b.set(0,Math.pow(v.y/y.y,n.zoomSpeed)),V(b.y),y.copy(v)}function Ce(P){!1!==n.enabled&&(0===x.length&&(n.domElement.setPointerCapture(P.pointerId),n.domElement.addEventListener("pointermove",He),n.domElement.addEventListener("pointerup",Oe)),function ge(P){x.push(P)}(P),"touch"===P.pointerType?function O(P){switch(Re(P),x.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;Me(),s=r.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;je(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function dt(){n.enableZoom&&ne(),n.enablePan&&je()})(),s=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function rt(){n.enableZoom&&ne(),n.enableRotate&&Me()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(zC)}(P):function at(P){let fe;switch(P.button){case 0:fe=n.mouseButtons.LEFT;break;case 1:fe=n.mouseButtons.MIDDLE;break;case 2:fe=n.mouseButtons.RIGHT;break;default:fe=-1}switch(fe){case 1:if(!1===n.enableZoom)return;(function H(P){y.set(P.clientX,P.clientY)})(P),s=r.DOLLY;break;case 0:if(P.ctrlKey||P.metaKey||P.shiftKey){if(!1===n.enablePan)return;G(P),s=r.PAN}else{if(!1===n.enableRotate)return;L(P),s=r.ROTATE}break;case 2:if(P.ctrlKey||P.metaKey||P.shiftKey){if(!1===n.enableRotate)return;L(P),s=r.ROTATE}else{if(!1===n.enablePan)return;G(P),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(zC)}(P))}function He(P){!1!==n.enabled&&("touch"===P.pointerType?function E(P){switch(Re(P),s){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;Ye(P),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;Ee(P),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function ce(P){n.enableZoom&&gt(P),n.enablePan&&Ee(P)})(P),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function se(P){n.enableZoom&&gt(P),n.enableRotate&&Ye(P)})(P),n.update();break;default:s=r.NONE}}(P):function tt(P){if(!1!==n.enabled)switch(s){case r.ROTATE:if(!1===n.enableRotate)return;!function U(P){f.set(P.clientX,P.clientY),p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const fe=n.domElement;S(2*Math.PI*p.x/fe.clientHeight),F(2*Math.PI*p.y/fe.clientHeight),h.copy(f),n.update()}(P);break;case r.DOLLY:if(!1===n.enableZoom)return;!function $(P){v.set(P.clientX,P.clientY),b.subVectors(v,y),b.y>0?V(M()):b.y<0&&X(M()),y.copy(v),n.update()}(P);break;case r.PAN:if(!1===n.enablePan)return;!function me(P){g.set(P.clientX,P.clientY),_.subVectors(g,m).multiplyScalar(n.panSpeed),ie(_.x,_.y),m.copy(g),n.update()}(P)}}(P))}function Oe(P){Se(P),0===x.length&&(n.domElement.releasePointerCapture(P.pointerId),n.domElement.removeEventListener("pointermove",He),n.domElement.removeEventListener("pointerup",Oe)),n.dispatchEvent(E3),s=r.NONE}function _t(P){Se(P)}function rn(P){!1===n.enabled||!1===n.enableZoom||s!==r.NONE||(P.preventDefault(),n.dispatchEvent(zC),function re(P){P.deltaY<0?X(M()):P.deltaY>0&&V(M()),n.update()}(P),n.dispatchEvent(E3))}function Kt(P){!1===n.enabled||!1===n.enablePan||function ve(P){let fe=!1;switch(P.code){case n.keys.UP:ie(0,n.keyPanSpeed),fe=!0;break;case n.keys.BOTTOM:ie(0,-n.keyPanSpeed),fe=!0;break;case n.keys.LEFT:ie(n.keyPanSpeed,0),fe=!0;break;case n.keys.RIGHT:ie(-n.keyPanSpeed,0),fe=!0}fe&&(P.preventDefault(),n.update())}(P)}function Z(P){!1!==n.enabled&&P.preventDefault()}function Se(P){delete w[P.pointerId];for(let fe=0;fe<x.length;fe++)if(x[fe].pointerId==P.pointerId)return void x.splice(fe,1)}function Re(P){let fe=w[P.pointerId];void 0===fe&&(fe=new q,w[P.pointerId]=fe),fe.set(P.pageX,P.pageY)}function ht(P){return w[(P.pointerId===x[0].pointerId?x[1]:x[0]).pointerId]}n.domElement.addEventListener("contextmenu",Z),n.domElement.addEventListener("pointerdown",Ce),n.domElement.addEventListener("pointercancel",_t),n.domElement.addEventListener("wheel",rn,{passive:!1}),this.update()}}const lle=["threeCanvas"],cle=["lookupSize"];let ule=(()=>{class i{constructor(){this.srcModel="",this.srcTexture="",this.scene=new mf,this.loader=(new kC).setPath("assets/three-d-objects/room/"),this.textureLoader=new H2,this.setup=()=>{this.renderer=new Xu({canvas:this.threeCanvas.nativeElement,antialias:!0}),this.camera=new gn(100,this.lookupSize.nativeElement.offsetWidth/this.lookupSize.nativeElement.offsetHeight,.1,1e3),this.onResize(),this.controls=new HC(this.camera,this.renderer.domElement),this.scene.background=new xe(16251130),this.camera?.position.set(-1.8,100,2.7)},this.animate=()=>{requestAnimationFrame(this.animate),this.controls?.update(),this.renderer?.render(this.scene,this.camera)}}ngAfterViewInit(){this.setup(),this.loadRoom(),this.animate()}ngOnChanges(e){this.loadRoom()}loadRoom(){""!=this.srcModel&&(this.scene.clear(),this.loader.load("walls/"+this.srcModel,e=>{this.scene.add(e.scene)}),this.loader.load("floor/"+this.srcModel,e=>{this.scene.add(e.scene)}))}onResize(){this.camera&&(this.camera.aspect=this.lookupSize.nativeElement.offsetWidth/this.lookupSize.nativeElement.offsetHeight),this.renderer&&this.renderer.setSize(this.lookupSize.nativeElement.offsetWidth,this.lookupSize.nativeElement.offsetHeight)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-three-room-selection"]],viewQuery:function(e,n){if(1&e&&(mn(lle,5),mn(cle,5)),2&e){let r;We(r=$e())&&(n.threeCanvas=r.first),We(r=$e())&&(n.lookupSize=r.first)}},inputs:{srcModel:"srcModel",srcTexture:"srcTexture"},features:[Wn],decls:4,vars:0,consts:[[2,"width","100%","height","100%",3,"resize"],["threeCanvas",""],[1,"w-100","h-100",2,"visibility","hidden"],["lookupSize",""]],template:function(e,n){1&e&&(N(0,"canvas",0,1),ke("resize",function(){return n.onResize()},0,ib),k(),qe(2,"div",2,3))}}),i})();const dle=["resetButton"];function hle(i,t){if(1&i&&(bi(0),qe(1,"app-three-room-selection",13),Mi()),2&i){const e=Ae();W(1),Y("srcModel",e.room3dUrl)}}function fle(i,t){1&i&&(N(0,"div",14)(1,"h2",15),Q(2,"No Room selected"),k()())}const T3=function(i){return{disabled:i}};function ple(i,t){if(1&i){const e=Fn();N(0,"app-room-card",16),ke("click",function(){const s=qt(e).$implicit;return Yt(Ae().selectRoom(s.id))}),k()}if(2&i){const e=t.$implicit,n=Ae();Y("room",e)("ngClass",Ri(2,T3,e.id!=n.selectedRoom_id&&-1!=n.selectedRoom_id))}}function mle(i,t){if(1&i){const e=Fn();N(0,"app-room-card",16),ke("click",function(){const s=qt(e).$implicit;return Yt(Ae().selectRoom(s.id))}),k()}if(2&i){const e=t.$implicit,n=Ae();Y("room",e)("ngClass",Ri(2,T3,e.id!=n.selectedRoom_id&&-1!=n.selectedRoom_id))}}const gle=["*"];let _le=(()=>{class i{constructor(e){this.gs=e,this.rooms=[],this.selectedRoom_id=-1,this.room3dUrl="",this.rangevalue=1,this.roomSelectedEvent=new we}selectRoom(e){this.selectedRoom_id=e,this.roomSelectedEvent.emit(e),setTimeout(this.setRoomName(),500),console.log(this.room3dUrl)}setRoomName(){this.room3dUrl=this.rooms[this.selectedRoom_id-1].room_url}ngOnInit(){this.gs.getAllRooms().subscribe(e=>this.rooms=e)}test(e){this.rangevalue=parseInt(e)}}return i.\u0275fac=function(e){return new(e||i)(D(yl))},i.\u0275cmp=Ge({type:i,selectors:[["app-create-exhibition-roomselection"]],viewQuery:function(e,n){if(1&e&&mn(dle,5),2&e){let r;We(r=$e())&&(n.button=r.first)}},outputs:{roomSelectedEvent:"roomSelectedEvent"},ngContentSelectors:gle,decls:27,vars:5,consts:[[1,"row","position-absolute","top-0","w-100","h-100",2,"left","0"],[1,"col-lg-9","col-sm-7",2,"background-color","#C3C6E0","padding","0px"],[4,"ngIf","ngIfElse"],["noRoom",""],[1,"col-lg-3","col-sm-5","h-100","p-0"],[1,"create-exhibition-content-first","ps-5"],[1,"text-center","my-5"],[3,"click"],["resetButton",""],["type","range","min","0","max","11","value","1","step","1",3,"change"],["rangeInput",""],["class","room-card",3,"room","ngClass","click",4,"ngFor","ngForOf"],[1,"btn-end","w-100","clearfix","px-2","pt-3","shadow-inner"],[3,"srcModel"],[1,"d-flex","h-100","align-items-center","justify-content-center"],[1,"opacity-50"],[1,"room-card",3,"room","ngClass","click"]],template:function(e,n){if(1&e){const r=Fn();jt(),N(0,"div",0)(1,"div",1),be(2,hle,2,1,"ng-container",2),be(3,fle,3,0,"ng-template",null,3,ia),k(),N(5,"div",4)(6,"div",5)(7,"h3",6),Q(8,"Select Room"),k(),N(9,"button",7,8),ke("click",function(){return n.room3dUrl=""}),k(),N(11,"div")(12,"p"),Q(13),k(),N(14,"input",9,10),ke("change",function(){qt(r);const o=Tn(15);return Yt(n.test(o.value))}),k(),N(16,"h6"),Q(17,"Recommended:"),k(),N(18,"app-slideshow"),be(19,ple,1,4,"app-room-card",11),k(),qe(20,"hr"),N(21,"h6"),Q(22,"All:"),k(),N(23,"app-slideshow"),be(24,mle,1,4,"app-room-card",11),k()()(),N(25,"div",12),xt(26),k()()()}if(2&e){const r=Tn(4);W(2),Y("ngIf",n.room3dUrl)("ngIfElse",r),W(11),Pn(n.rangevalue),W(6),Y("ngForOf",n.rooms),W(5),Y("ngForOf",n.rooms)}},dependencies:[ks,Fs,Bn,Ix,Eee,ule],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}app-room-card[_ngcontent-%COMP%]{cursor:pointer}.room-card[_ngcontent-%COMP%]:hover{filter:saturate(1.6);transition:filter .25s ease-in-out}.disabled[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]:hover{filter:grayscale(1)}']}),i})();function yle(i,t){if(1&i){const e=Fn();N(0,"div",3)(1,"div",4)(2,"div"),xt(3),k(),N(4,"div")(5,"button",5),ke("click",function(){return qt(e),Yt(Ae().toggleVisiblity())}),Q(6,"got it"),k(),N(7,"p",6),ke("click",function(){return qt(e),Yt(Ae().toggleVisiblity())}),Q(8,"don't show again"),k()()()()}}const vle=["*"];let ble=(()=>{class i{constructor(){this.visible=!1}ngOnInit(){}toggleVisiblity(){this.visible=!this.visible}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-info-tag"]],ngContentSelectors:vle,decls:4,vars:1,consts:[["id","info-tag-wrapper",1,"hover-saturated",3,"click"],[1,"font-gradient","fs-2rem","w-auto","h-auto"],["id","info-overlay","class","vh-100 w-100",4,"ngIf"],["id","info-overlay",1,"vh-100","w-100"],[1,"container","d-flex","align-items-center","justify-content-center","flex-column","py-4","h-100"],[1,"action-button","p-2","w-100","my-3","hover-saturated",3,"click"],[1,"font-gradient","underlined","hover-saturated","pointer",3,"click"]],template:function(e,n){1&e&&(jt(),N(0,"div",0),ke("click",function(){return n.toggleVisiblity()}),N(1,"mat-icon",1),Q(2," help_outline "),k()(),be(3,yle,9,0,"div",2)),2&e&&(W(3),Y("ngIf",n.visible))},dependencies:[Bn,ua],styles:["#info-tag-wrapper[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:0;right:1em;margin-top:1%;z-index:9999}#info-overlay[_ngcontent-%COMP%]{z-index:10000;overflow:hidden;position:absolute;top:0;background:rgba(255,255,255,.5);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px)}"]}),i})();class vy{constructor(t,e,n,r,s){this.id=t,this.model_url=e,this.data_type=n,this.title=r,this.desc=s}}function Mle(i,t){if(1&i){const e=Fn();bi(0),N(1,"div",1)(2,"button",2),ke("click",function(){return qt(e),Yt(Ae().delete())}),N(3,"mat-icon"),Q(4,"close"),k()(),qe(5,"img",3),N(6,"div")(7,"p",4),Q(8),k()()(),Mi()}if(2&i){const e=Ae();W(8),Pn(e.exhibit.title)}}let xle=(()=>{class i{constructor(){this.exhibit=new vy(0,"","","statue",""),this.count=0,this.deleteEvent=new we}ngOnInit(){}delete(){this.deleteEvent.emit(this.count)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Ge({type:i,selectors:[["app-exhibit-card"]],inputs:{exhibit:"exhibit",count:"count"},outputs:{deleteEvent:"delete"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"rounded","shadow","mt-2","bg-white",2,"position","relative"],[2,"border-radius","100%","border","0","background-color","red","color","white","position","absolute","right","-2%","top","-2%","padding","0",3,"click"],["src","./assets/image/statue.png",1,"w-100","h-auto",2,"aspect-ratio","4/3","object-fit","contain"],[1,"text-center","py-2"]],template:function(e,n){1&e&&be(0,Mle,9,1,"ng-container",0),2&e&&Y("ngIf",n.exhibit)},dependencies:[Bn,ua]}),i})();function wle(i,t){if(1&i){const e=Fn();N(0,"app-exhibit-card",12),ke("delete",function(r){return qt(e),Yt(Ae().deleteExhibit(r))}),k()}if(2&i){const n=t.index;Y("exhibit",t.$implicit)("count",n)}}const Cle=function(i){return{"btn-disabled":i}};let Sle=(()=>{class i{constructor(e,n){this.gs=e,this.bs=n,this.changedExhibitlistEvent=new we,this.exhibitForm=new yu({name:new fs("",Us.required),desc:new fs("")}),this.exhibitCollection=[]}ngOnInit(){}addExhibit(){this.bs.blobToBase64(this.exhibitFile.blob).then(e=>{this.exhibitCollection.push(new vy(this.exhibitCollection.length,e,this.exhibitFile?.filetype??"non",this.exhibitForm.value.name??"unnamed",this.exhibitForm.value.desc??"")),this.changedExhibitlistEvent.emit(this.exhibitCollection)})}deleteExhibit(e){0==e&&1==this.exhibitCollection.length?this.exhibitCollection.shift():this.exhibitCollection.splice(e,1),this.changedExhibitlistEvent.emit(this.exhibitCollection)}}return i.\u0275fac=function(e){return new(e||i)(D(yl),D(wF))},i.\u0275cmp=Ge({type:i,selectors:[["app-create-exhibition-exhibitselection"]],outputs:{changedExhibitlistEvent:"changedExhibitList"},decls:22,vars:6,consts:[[1,"d-flex","justify-content-center",2,"margin-top","3%","margin-bottom","15%"],[1,"create-div","w-50"],[1,"sign-up-text"],[1,"font-gradient","underlined","mx-2"],[3,"fileOutput"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","name","title","type","text","formControlName","name",1,"input"],["matInput","","placeholder","Description","name","description","type","text","formControlName","desc",1,"input"],["type","submit",1,"py-1","rounded",3,"ngClass","disabled"],[1,"collection-div","w-50"],[1,"container","list","rounded",2,"display","grid","grid-template-columns","1fr 1fr 1fr","grid-gap","1em"],[3,"exhibit","count","delete",4,"ngFor","ngForOf"],[3,"exhibit","count","delete"]],template:function(e,n){1&e&&(N(0,"div",0)(1,"div",1)(2,"h4"),Q(3,"Create Exhibits"),k(),N(4,"p",2),Q(5,"Upload Media"),N(6,"a",3),Q(7,"search in Files"),k()(),N(8,"app-file-upload",4),ke("fileOutput",function(s){return n.exhibitFile=s}),k(),N(9,"form",5),ke("ngSubmit",function(){return n.addExhibit()}),N(10,"p"),qe(11,"input",6),k(),N(12,"p"),qe(13,"input",7),k(),N(14,"button",8),Q(15,"Add to Collection"),k()()(),qe(16,"hr"),N(17,"div",9)(18,"h4"),Q(19,"Collection"),k(),N(20,"div",10),be(21,wle,1,2,"app-exhibit-card",11),k()()()),2&e&&(W(9),Y("formGroup",n.exhibitForm),W(5),Y("ngClass",Ri(4,Cle,n.exhibitForm.invalid||!n.exhibitFile))("disabled",n.exhibitForm.invalid||!n.exhibitFile),W(7),Y("ngForOf",n.exhibitCollection))},dependencies:[ks,Fs,$g,bl,Bh,Bg,_a,jh,CF,xle],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.create-div[_ngcontent-%COMP%]{margin-right:15%}button[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.5em;background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;box-shadow:0 4px 4px #00000020}hr[_ngcontent-%COMP%]{position:absolute;transform:rotate(90deg);margin-top:20%;width:33%;height:5px;color:#9197c6}.input[_ngcontent-%COMP%]{width:100%}.list[_ngcontent-%COMP%]{height:100%;width:100%;border:2px solid #9197C6}']}),i})();class er{constructor(t,e,n,r,s,o){this.id=t,this.thumbnail_url=e,this.mat_wall_or_object=n,this.mat_floor=s,this.light_intensity=r,this.model_path=o}}class P3{constructor(t,e,n,r,s,o){this.id=t,this.name=e,this.position_amount=n,this.room_img_url=r,this.room_url=s,this.positions=o}}class ad{constructor(t,e,n,r,s){this.id=t,this.room_id=e,this.x=n,this.y=r,this.is_Wall=s}}class Dle{constructor(t,e,n,r,s,o,a,l,c){this.position_id=t,this.material_id=e,this.exhibit_url=n,this.exhibit_type=r,this.uuid=a,this.alignment=s,this.scale_factor=o,this.description=l,this.title=c}}let A3=(()=>{class i{constructor(){this.positionConfigList=[],this.positionConfigListsubject=new lr(this.positionConfigList)}getPositionConfigList(){return this.positionConfigListsubject}setPositionConfigList(e){this.positionConfigListsubject.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ele=["trigger"],Tle=["panel"];function Ple(i,t){if(1&i&&(N(0,"span",8),Q(1),k()),2&i){const e=Ae();W(1),Pn(e.placeholder)}}function Ale(i,t){if(1&i&&(N(0,"span",12),Q(1),k()),2&i){const e=Ae(2);W(1),Pn(e.triggerValue)}}function Ile(i,t){1&i&&xt(0,0,["*ngSwitchCase","true"])}function Ole(i,t){1&i&&(N(0,"span",9),be(1,Ale,2,1,"span",10),be(2,Ile,1,0,"ng-content",11),k()),2&i&&(Y("ngSwitch",!!Ae().customTrigger),W(2),Y("ngSwitchCase",!0))}function Rle(i,t){if(1&i){const e=Fn();N(0,"div",13)(1,"div",14,15),ke("@transformPanel.done",function(r){return qt(e),Yt(Ae()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return qt(e),Yt(Ae()._handleKeydown(r))}),xt(3,1),k()()}if(2&i){const e=Ae();Y("@transformPanelWrap",void 0),W(1),Kb("mat-select-panel ",e._getPanelTheme(),""),Ja("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Y("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),At("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Nle=[[["mat-select-trigger"]],"*"],kle=["mat-select-trigger","*"],I3={transformPanelWrap:da("transformPanelWrap",[hs("* => void",rx("@transformPanel",[ix()],{optional:!0}))]),transformPanel:da("transformPanel",[ur("void",On({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ur("showing",On({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ur("showing-multiple",On({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),hs("void => *",zs("120ms cubic-bezier(0, 0, 0.2, 1)")),hs("* => void",zs("100ms 25ms linear",On({opacity:0})))])};let O3=0;const N3=new he("mat-select-scroll-strategy"),Vle=new he("MAT_SELECT_CONFIG"),zle={provide:N3,deps:[Ur],useFactory:function Ble(i){return()=>i.scrollStrategies.reposition()}};class Hle{constructor(t,e){this.source=t,this.value=e}}const Ule=fl(KM(XM(_R(class{constructor(i,t,e,n,r){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new Be}})))),Gle=new he("MatSelectTrigger");let jle=(()=>{class i extends Ule{constructor(e,n,r,s,o,a,l,c,u,d,h,f,p,m){super(o,s,l,c,d),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=p,this._defaultOptions=m,this._panelOpen=!1,this._compareWith=(g,_)=>g===_,this._uid="mat-select-"+O3++,this._triggerAriaLabelledBy=null,this._destroy=new Be,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+O3++,this._panelDoneAnimatingStream=new Be,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Kc(()=>{const g=this.options;return g?g.changes.pipe(In(g),ni(()=>di(...g.map(_=>_.onSelectionChange)))):this._ngZone.onStable.pipe(wn(1),ni(()=>this.optionSelectionChanges))}),this.openedChange=new we,this._openedStream=this.openedChange.pipe(an(g=>g),Je(()=>{})),this._closedStream=this.openedChange.pipe(an(g=>!g),Je(()=>{})),this.selectionChange=new we,this.valueChange=new we,this.ngControl&&(this.ngControl.valueAccessor=this),null!=m?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Us.required)??!1}set required(e){this._required=wt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=wt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=wt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=og(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new kg(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cu(),Vt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Vt(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(In(null),Vt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!Fi(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,r=e.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||Fi(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=n.activeItemIndex;n.onKeydown(e),this._multiple&&s&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(wn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new lR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Vt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Vt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=di(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Vt(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),di(...this.options.map(n=>n._stateChanges)).pipe(Vt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,n){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(D(Yh),D($n),D(ot),D(fu),D(mt),D(ds,8),D(Gh,8),D(_a,8),D(Zx,8),D(Gs,10),Ss("tabindex"),D(N3),D(xq),D(Vle,8))},i.\u0275dir=ue({type:i,viewQuery:function(e,n){if(1&e&&(mn(Ele,5),mn(Tle,5),mn(Jk,5)),2&e){let r;We(r=$e())&&(n.trigger=r.first),We(r=$e())&&(n.panel=r.first),We(r=$e())&&(n._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[ye,Wn]}),i})(),Wle=(()=>{class i extends jle{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,n,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-n+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Vt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(wn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const n=tx(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===n?0:DR((e+n)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Hle(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let c=this._selectionModel.selected[0]||this.options.first;o=c&&c.group?32:16}r||(o*=-1);const a=0-(e.left+o-(r?s:0)),l=e.right+o-n.width+(r?0:s);a>0?o+=a+8:l>0&&(o-=l+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,n,r){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,a=Math.floor(256/s);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-a))*s+(s-(this._getItemCount()*s-256)%s):n-s/2,Math.round(-1*l-o))}_checkOverlayWithinViewport(e){const n=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=r.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),c=Math.min(this._getItemCount()*n,256)-a-this._triggerRect.height;c>o?this._adjustPanelUp(c,o):a>s?this._adjustPanelDown(a,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,n){const r=Math.round(e-n);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,n,r){const s=Math.round(e-n);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*e,256),o=n*e-r;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=tx(a,this.options,this.optionGroups);const l=r/2;this._scrollTop=this._calculateOverlayScroll(a,l,o),this._offsetY=this._calculateOverlayOffsetY(a,l,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const e=this._getItemHeight(),n=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["mat-select"]],contentQueries:function(e,n,r){if(1&e&&(Ht(r,Gle,5),Ht(r,fg,5),Ht(r,ex,5)),2&e){let s;We(s=$e())&&(n.customTrigger=s.first),We(s=$e())&&(n.options=s),We(s=$e())&&(n.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,n){1&e&&ke("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&e&&(At("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),vn("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[nt([{provide:qg,useExisting:i},{provide:JM,useExisting:i}]),ye],ngContentSelectors:kle,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,n){if(1&e&&(jt(Nle),N(0,"div",0,1),ke("click",function(){return n.toggle()}),N(3,"div",2),be(4,Ple,2,1,"span",3),be(5,Ole,3,2,"span",4),k(),N(6,"div",5),qe(7,"div",6),k()(),be(8,Rle,4,14,"ng-template",7),ke("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&e){const r=Tn(1);At("aria-owns",n.panelOpen?n.id+"-panel":null),W(3),Y("ngSwitch",n.empty),At("id",n._valueId),W(1),Y("ngSwitchCase",!0),W(1),Y("ngSwitchCase",!1),W(3),Y("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},dependencies:[ks,rl,uh,W0,Jk,Qk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[I3.transformPanelWrap,I3.transformPanel]},changeDetection:0}),i})(),$le=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[zle],imports:[So,Zh,pg,tn,Mu,Ak,pg,tn]}),i})();const k3=new C,UC=new od,GC=new C;class qle{constructor(t,e){void 0===e&&(console.warn('THREE.FirstPersonControls: The second parameter "domElement" is now mandatory.'),e=document),this.object=t,this.domElement=e,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.viewHalfX=0,this.viewHalfY=0;let n=0,r=0;this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(d){if(this.domElement!==document&&this.domElement.focus(),this.activeLook)switch(d.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}this.mouseDragOn=!0},this.onMouseUp=function(d){if(this.activeLook)switch(d.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1},this.onMouseMove=function(d){this.domElement===document?(this.mouseX=d.pageX-this.viewHalfX,this.mouseY=d.pageY-this.viewHalfY):(this.mouseX=d.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=d.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(d){switch(d.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"KeyR":this.moveUp=!0;break;case"KeyF":this.moveDown=!0}},this.onKeyUp=function(d){switch(d.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1;break;case"KeyR":this.moveUp=!1;break;case"KeyF":this.moveDown=!1}},this.lookAt=function(d,h,f){return d.isVector3?GC.copy(d):GC.set(d,h,f),this.object.lookAt(GC),u(this),this},this.update=function(){const d=new C;return function(f){if(!1===this.enabled)return;if(this.heightSpeed){const x=dr.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=f*(x*this.heightCoef)}else this.autoSpeedFactor=0;const p=f*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(p+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(p),this.moveLeft&&this.object.translateX(-p),this.moveRight&&this.object.translateX(p),this.moveUp&&this.object.translateY(p),this.moveDown&&this.object.translateY(-p);let m=f*this.lookSpeed;this.activeLook||(m=0);let g=1;this.constrainVertical&&(g=Math.PI/(this.verticalMax-this.verticalMin)),r-=this.mouseX*m,this.lookVertical&&(n-=this.mouseY*m*g),n=Math.max(-85,Math.min(85,n));let _=dr.degToRad(90-n);const y=dr.degToRad(r);this.constrainVertical&&(_=dr.mapLinear(_,0,Math.PI,this.verticalMin,this.verticalMax));const v=this.object.position;d.setFromSphericalCoords(1,_,y).add(v),this.object.lookAt(d)}}(),this.dispose=function(){this.domElement.removeEventListener("contextmenu",F3),this.domElement.removeEventListener("mousedown",o),this.domElement.removeEventListener("mousemove",s),this.domElement.removeEventListener("mouseup",a),window.removeEventListener("keydown",l),window.removeEventListener("keyup",c)};const s=this.onMouseMove.bind(this),o=this.onMouseDown.bind(this),a=this.onMouseUp.bind(this),l=this.onKeyDown.bind(this),c=this.onKeyUp.bind(this);function u(d){const h=d.object.quaternion;k3.set(0,0,-1).applyQuaternion(h),UC.setFromVector3(k3),n=90-dr.radToDeg(UC.phi),r=dr.radToDeg(UC.theta)}this.domElement.addEventListener("contextmenu",F3),this.domElement.addEventListener("mousemove",s),this.domElement.addEventListener("mousedown",o),this.domElement.addEventListener("mouseup",a),window.addEventListener("keydown",l),window.addEventListener("keyup",c),this.handleResize(),u(this)}}function F3(i){i.preventDefault()}function Yle(i,t){}class My{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let L3=(()=>{class i extends sw{constructor(e,n,r,s,o,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=eg(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=eg();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=eg())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(qM),D(ut,8),D(My),D(cg),D(ot),D(Kh),D(ca))},i.\u0275cmp=Ge({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(1&e&&mn(Zg,7),2&e){let r;We(r=$e())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){2&e&&At("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[ye],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&be(0,Yle,0,0,"ng-template",0)},dependencies:[Zg],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class jC{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Be,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!Fi(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const B3=new he("DialogScrollStrategy"),Xle=new he("DialogData"),Kle=new he("DefaultDialogConfig"),Qle={provide:B3,deps:[Ur],useFactory:function Zle(i){return()=>i.scrollStrategies.block()}};let Jle=0,V3=(()=>{class i{constructor(e,n,r,s,o,a){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Be,this._afterOpenedAtThisLevel=new Be,this._ariaHiddenElements=new Map,this.afterAllClosed=Kc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(In(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,n){(n={...this._defaultOptions||new My,...n}).id=n.id||"cdk-dialog-"+Jle++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),a=new jC(o,n),l=this._attachContainer(o,a,n);return a.containerInstance=l,this._attachDialogContent(e,a,l,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){WC(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){WC(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),WC(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new Xh({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const s=r.injector??r.viewContainerRef?.injector,o=[{provide:My,useValue:r},{provide:jC,useValue:n},{provide:Kh,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,o.push(...r.container.providers(r))):a=L3;const l=new rw(a,r.viewContainerRef,Jn.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,n,r,s){const o=this._createInjector(s,n,r);if(e instanceof Ci){let a={$implicit:s.data,dialogRef:n};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new bu(e,null,a,o))}else{const a=r.attachComponentPortal(new rw(e,s.viewContainerRef,o,s.componentFactoryResolver));n.componentInstance=a.instance}}_createInjector(e,n,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:Xle,useValue:e.data},{provide:jC,useValue:n}];return e.providers&&("function"==typeof e.providers?o.push(...e.providers(n,e,r)):o.push(...e.providers)),e.direction&&(!s||!s.get(ds,null,lt.Optional))&&o.push({provide:ds,useValue:{value:e.direction,change:Ve()}}),Jn.create({parent:s||this._injector,providers:o})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(e){return new(e||i)(z(Ur),z(Jn),z(Kle,8),z(i,12),z(Qg),z(B3))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();function WC(i,t){let e=i.length;for(;e--;)t(i[e])}let ece=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[V3,Qle],imports:[Zh,$h,Cq,$h]}),i})();function tce(i,t){}const cd={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},nce={dialogContainer:da("dialogContainer",[ur("void, exit",On({opacity:0,transform:"scale(0.7)"})),ur("enter",On({transform:"none"})),hs("* => enter",NR([zs("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",On({transform:"none",opacity:1})),rx("@*",ix(),{optional:!0})]),cd),hs("* => void, * => exit",NR([zs("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",On({opacity:0})),rx("@*",ix(),{optional:!0})]),cd)])};class xy{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=cd.params.enterAnimationDuration,this.exitAnimationDuration=cd.params.exitAnimationDuration}}let ice=(()=>{class i extends L3{constructor(e,n,r,s,o,a,l,c){super(e,n,r,s,o,a,l,c),this._animationStateChanged=new we}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(qM),D(ut,8),D(xy),D(cg),D(ot),D(Kh),D(ca))},i.\u0275cmp=Ge({type:i,selectors:[["ng-component"]],features:[ye],decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})(),rce=(()=>{class i extends ice{constructor(e,n,r,s,o,a,l,c,u){super(e,n,r,s,o,a,l,u),this._changeDetectorRef=c,this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?this._openAnimationDone(n):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:n})}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||cd.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||cd.params.exitAnimationDuration}}}}return i.\u0275fac=function(e){return new(e||i)(D(mt),D(qM),D(ut,8),D(xy),D(cg),D(ot),D(Kh),D($n),D(ca))},i.\u0275cmp=Ge({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,n){1&e&&qb("@dialogContainer.start",function(s){return n._onAnimationStart(s)})("@dialogContainer.done",function(s){return n._onAnimationDone(s)}),2&e&&(as("id",n._config.id),At("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),Zb("@dialogContainer",n._getAnimationState()))},features:[ye],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&be(0,tce,0,0,"ng-template",0)},dependencies:[Zg],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[nce.dialogContainer]}}),i})();class $C{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new Be,this._beforeClosed=new Be,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(an(r=>"opened"===r.state),wn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(an(r=>"closed"===r.state),wn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),di(this.backdropClick(),this.keydownEvents().pipe(an(r=>27===r.keyCode&&!this.disableClose&&!Fi(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),z3(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(an(e=>"closing"===e.state),wn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function z3(i,t,e){return i._closeInteractionType=t,i.close(e)}const H3=new he("MatDialogData"),sce=new he("mat-dialog-default-options"),U3=new he("mat-dialog-scroll-strategy"),ace={provide:U3,deps:[Ur],useFactory:function oce(i){return()=>i.scrollStrategies.block()}};let lce=0,cce=(()=>{class i{constructor(e,n,r,s,o,a,l,c,u,d){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Be,this._afterOpenedAtThisLevel=new Be,this._idPrefix="mat-dialog-",this.afterAllClosed=Kc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(In(void 0))),this._scrollStrategy=a,this._dialog=n.get(V3)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){let r;(n={...this._defaultOptions||new xy,...n}).id=n.id||`${this._idPrefix}${lce++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:xy,useValue:n},{provide:My,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,a,l)=>(r=new this._dialogRefConstructor(o,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return i.\u0275fac=function(e){Tc()},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),qC=(()=>{class i extends cce{constructor(e,n,r,s,o,a,l,c){super(e,n,s,a,l,o,$C,rce,H3,c)}}return i.\u0275fac=function(e){return new(e||i)(z(Ur),z(Jn),z(ah,8),z(sce,8),z(U3),z(i,12),z(Qg),z(Os,8))},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),uce=(()=>{class i{constructor(e,n,r){this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function fce(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){z3(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(e){return new(e||i)(D($C,8),D(mt),D(qC))},i.\u0275dir=ue({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,n){1&e&&ke("click",function(s){return n._onButtonClick(s)}),2&e&&At("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Wn]}),i})(),dce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),i})(),hce=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,n){2&e&&vn("mat-dialog-actions-align-center","center"===n.align)("mat-dialog-actions-align-end","end"===n.align)},inputs:{align:"align"}}),i})(),pce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[qC,ace],imports:[ece,Zh,$h,tn,tn]}),i})();class Hf{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const mce=new bs(-1,1,1,-1,0,1),YC=new Pt;YC.setAttribute("position",new Ue([-1,3,0,-1,-1,0,3,-1,0],3)),YC.setAttribute("uv",new Ue([0,2,0,0,2,0],2));class G3{constructor(t){this._mesh=new li(YC,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,mce)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}const wy={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};class ka extends Hf{constructor(t,e,n,r){super(),this.renderScene=e,this.renderCamera=n,this.selectedObjects=void 0!==r?r:[],this.visibleEdgeColor=new xe(1,1,1),this.hiddenEdgeColor=new xe(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=void 0!==t?new q(t.x,t.y):new q(256,256);const s=Math.round(this.resolution.x/this.downSampleRatio),o=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new Xi(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new rC,this.depthMaterial.side=2,this.depthMaterial.depthPacking=3201,this.depthMaterial.blending=0,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=2,this.prepareMaskMaterial.fragmentShader=function u(d,h){return d.replace(/DEPTH_TO_VIEW_Z/g,(h.isPerspectiveCamera?"perspective":"orthographic")+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new Xi(this.resolution.x,this.resolution.y),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new Xi(s,o),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new Xi(s,o),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new Xi(Math.round(s/2),Math.round(o/2)),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new Xi(s,o),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new Xi(Math.round(s/2),Math.round(o/2)),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1,this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value.set(s,o),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(s/2),Math.round(o/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===wy&&console.error("THREE.OutlinePass relies on CopyShader");const c=wy;this.copyUniforms=Yw.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Ki({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new xe,this.oldClearAlpha=1,this.fsQuad=new G3(null),this.tempPulseColor1=new xe,this.tempPulseColor2=new xe,this.textureMatrix=new Ct}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()}setSize(t,e){this.renderTargetMaskBuffer.setSize(t,e),this.renderTargetDepthBuffer.setSize(t,e);let n=Math.round(t/this.downSampleRatio),r=Math.round(e/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(n,r),this.renderTargetBlurBuffer1.setSize(n,r),this.renderTargetEdgeBuffer1.setSize(n,r),this.separableBlurMaterial1.uniforms.texSize.value.set(n,r),n=Math.round(n/2),r=Math.round(r/2),this.renderTargetBlurBuffer2.setSize(n,r),this.renderTargetEdgeBuffer2.setSize(n,r),this.separableBlurMaterial2.uniforms.texSize.value.set(n,r)}changeVisibilityOfSelectedObjects(t){const e=this._visibilityCache;function n(r){r.isMesh&&(!0===t?r.visible=e.get(r):(e.set(r,r.visible),r.visible=t))}for(let r=0;r<this.selectedObjects.length;r++)this.selectedObjects[r].traverse(n)}changeVisibilityOfNonSelectedObjects(t){const e=this._visibilityCache,n=[];function r(o){o.isMesh&&n.push(o)}for(let o=0;o<this.selectedObjects.length;o++)this.selectedObjects[o].traverse(r);this.renderScene.traverse(function s(o){if(o.isMesh||o.isSprite){let a=!1;for(let l=0;l<n.length;l++)if(n[l].id===o.id){a=!0;break}if(!1===a){const l=o.visible;(!1===t||!0===e.get(o))&&(o.visible=t),e.set(o,l)}}else(o.isPoints||o.isLine)&&(!0===t?o.visible=e.get(o):(e.set(o,o.visible),o.visible=t))})}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(t,e,n,r,s){if(this.selectedObjects.length>0){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const o=t.autoClear;t.autoClear=!1,s&&t.state.buffers.stencil.setTest(!1),t.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const a=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,t.setRenderTarget(this.renderTargetDepthBuffer),t.clear(),t.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,t.setRenderTarget(this.renderTargetMaskBuffer),t.clear(),t.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=a,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,t.setRenderTarget(this.renderTargetMaskDownSampleBuffer),t.clear(),this.fsQuad.render(t),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const l=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(l),this.tempPulseColor2.multiplyScalar(l)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,t.setRenderTarget(this.renderTargetEdgeBuffer1),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=ka.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,t.setRenderTarget(this.renderTargetBlurBuffer1),t.clear(),this.fsQuad.render(t),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=ka.BlurDirectionY,t.setRenderTarget(this.renderTargetEdgeBuffer1),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=ka.BlurDirectionX,t.setRenderTarget(this.renderTargetBlurBuffer2),t.clear(),this.fsQuad.render(t),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=ka.BlurDirectionY,t.setRenderTarget(this.renderTargetEdgeBuffer2),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,s&&t.state.buffers.stencil.setTest(!0),t.setRenderTarget(n),this.fsQuad.render(t),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=o}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=n.texture,t.setRenderTarget(null),this.fsQuad.render(t))}getPrepareMaskMaterial(){return new Ki({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new q(.5,.5)},textureMatrix:{value:null}},vertexShader:"#include <morphtarget_pars_vertex>\n\t\t\t\t#include <skinning_pars_vertex>\n\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <morphtarget_vertex>\n\t\t\t\t\t#include <skinning_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t\tvPosition = mvPosition;\n\t\t\t\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\n\t\t\t\t}",fragmentShader:"#include <packing>\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tuniform sampler2D depthTexture;\n\t\t\t\tuniform vec2 cameraNearFar;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n\t\t\t\t\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );\n\t\t\t\t\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\n\t\t\t\t\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);\n\n\t\t\t\t}"})}getEdgeDetectionMaterial(){return new Ki({uniforms:{maskTexture:{value:null},texSize:{value:new q(.5,.5)},visibleEdgeColor:{value:new C(1,1,1)},hiddenEdgeColor:{value:new C(1,1,1)}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec3 visibleEdgeColor;\n\t\t\t\tuniform vec3 hiddenEdgeColor;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\n\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\n\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\n\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\n\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\n\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\n\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\n\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\n\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\n\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\n\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\n\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\n\t\t\t\t}"})}getSeperableBlurMaterial(t){return new Ki({defines:{MAX_RADIUS:t},uniforms:{colorTexture:{value:null},texSize:{value:new q(.5,.5)},direction:{value:new q(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float kernelRadius;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat sigma = kernelRadius/2.0;\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, sigma);\n\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\n\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\n\t\t\t\t\tvec2 uvOffset = delta;\n\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = kernelRadius * float(i) / float(MAX_RADIUS);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, sigma);\n\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\n\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\n\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\n\t\t\t\t\t\tweightSum += (2.0 * w);\n\t\t\t\t\t\tuvOffset += delta;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\n\t\t\t\t}"})}getOverlayMaterial(){return new Ki({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform sampler2D edgeTexture1;\n\t\t\t\tuniform sampler2D edgeTexture2;\n\t\t\t\tuniform sampler2D patternTexture;\n\t\t\t\tuniform float edgeStrength;\n\t\t\t\tuniform float edgeGlow;\n\t\t\t\tuniform bool usePatternTexture;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\n\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\n\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\n\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\n\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\n\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\n\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\n\t\t\t\t\tif(usePatternTexture)\n\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\n\t\t\t\t\tgl_FragColor = finalColor;\n\t\t\t\t}",blending:2,depthTest:!1,depthWrite:!1,transparent:!0})}}ka.BlurDirectionX=new q(1,0),ka.BlurDirectionY=new q(0,1);class j3 extends Hf{constructor(t,e){super(),this.textureID=void 0!==e?e:"tDiffuse",t instanceof Ki?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=Yw.clone(t.uniforms),this.material=new Ki({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new G3(this.material)}render(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}}class W3 extends Hf{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,n){const r=t.getContext(),s=t.state;let o,a;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0),this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),s.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(r.EQUAL,1,4294967295),s.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),s.buffers.stencil.setLocked(!0)}}class gce extends Hf{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class _ce{constructor(t,e){if(this.renderer=t,void 0===e){const n=t.getSize(new q);this._pixelRatio=t.getPixelRatio(),this._width=n.width,this._height=n.height,(e=new Xi(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===wy&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===j3&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new j3(wy),this.clock=new hy}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){void 0===t&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let n=!1;for(let r=0,s=this.passes.length;r<s;r++){const o=this.passes[r];if(!1!==o.enabled){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,t,n),o.needsSwap){if(n){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==W3&&(o instanceof W3?n=!0:o instanceof gce&&(n=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(void 0===t){const e=this.renderer.getSize(new q);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(n,r)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}}new bs(-1,1,1,-1,0,1);const XC=new Pt;XC.setAttribute("position",new Ue([-1,3,0,-1,-1,0,3,-1,0],3)),XC.setAttribute("uv",new Ue([0,2,0,0,2,0],2));class vce extends Hf{constructor(t,e,n,r,s){super(),this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=void 0!==s?s:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new xe}render(t,e,n){const r=t.autoClear;let s,o;t.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),s=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,s),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),t.autoClear=r}}const bce=["threeCanvas"],Mce=["lookupSize"],xce=function(i){return{position:i}},wce=["threeDetailCanvas"],Cce=["lookUpSizeDetail"],$3=".detail[_ngcontent-%COMP%]{position:absolute;margin-top:3%;margin-left:5%;width:40%;height:50%;box-shadow:20px 15px 10px #00000040}.detail-exhibit[_ngcontent-%COMP%]{margin-left:55%}";let q3=(()=>{class i{constructor(e,n){this.exhibitArrangeService=e,this.dialog=n,this.position_arr=[new ad(1,2,0,0,!1),new ad(2,2,1,1,!1),new ad(3,2,1,0,!1)],this.room=new P3(2,"small room",0,"https://www.smb.museum/uploads/tx_smb/news/news_67970/Neues-Museum_Raum-Prolog_Achim_Kleuker_xl.jpg","2.gltf",this.position_arr),this.mode="create",this.scene=new mf,this.clock=new hy,this.loader=(new kC).setPath("assets/three-d-objects/"),this.raycaster=new IC,this.collisionRaycaster=new IC,this.pointer=new q,this.potests=new Ho(20,70,20),this.basic_material=new hr({color:60928,opacity:.5}),this.isAboutToDestroy=!1,this.factor=100,this.dialogOpen=!1,this.selectedObjects=[],this.setup=()=>{this.camera=new gn(80,this.lookupSize.nativeElement.offsetWidth/this.lookupSize.nativeElement.offsetHeight,.1,1e3),this.renderer=new Xu({canvas:this.threeCanvas.nativeElement}),this.renderer?.setSize(this.lookupSize.nativeElement.offsetWidth,this.lookupSize.nativeElement.offsetHeight),this.scene.background=new xe(16251130),this.camera?.position.set(-1.8,100,2.7),"create"==this.mode?(this.controls=new HC(this.camera,this.renderer.domElement),this.camera?.position.set(-1.8,180,10)):(this.controls=new qle(this.camera,this.renderer.domElement),this.controls.lookSpeed=.002,this.controls.movementSpeed=100,this.controls.lookVertical=!1,this.controls.mouseDragOn=!1,this.controls.autoForward=!1,window.addEventListener("pointerdown",r=>{this.pointer.x=r.clientX/window.innerWidth*2-1,this.pointer.y=-r.clientY/window.innerHeight*2+1,this.clickExhibit()}),window.addEventListener("pointermove",r=>{this.pointer.x=r.clientX/window.innerWidth*2-1,this.pointer.y=-r.clientY/window.innerHeight*2+1,this.hoverExhibit()}),this.camera2=this.camera.clone(),document.addEventListener("keydown",r=>{this.handleCollision()}))},this.animate=()=>{!this.isAboutToDestroy&&!this.dialogOpen&&(this.animationid=requestAnimationFrame(this.animate)),this.controls?.update(this.clock.getDelta()),"create"!=this.mode&&this.compareCameras(this.camera,this.camera2)&&this.detectCollision(),this.renderer?.render(this.scene,this.camera),this.composer?.render(),"create"!=this.mode&&this.camera2?.copy(this.camera)},e.getPositionConfigList().subscribe(r=>{for(let s of r){if(s.uuid){const o=this.scene.getObjectByProperty("uuid",s.uuid);o&&(this.scene.remove(o),o.clear())}!s.position_id||-1==s.position_id||this.loader.load(s.exhibit_url,o=>{s.uuid=o.scene.uuid;let a=this.getSize(o.scene);o.scene.scale.set(1/a.x*s.scale_factor,1/a.y*s.scale_factor,1/a.z*s.scale_factor);let l=this.room.positions[s.position_id-1].x*this.factor,c=this.potests.parameters.height+this.getSize(o.scene).y,u=this.room.positions[s.position_id-1].y*this.factor;switch(s.alignment){case"l":u+=1/a.z*s.scale_factor;break;case"r":u-=1/a.z*s.scale_factor;break;case"t":l+=1/a.x*s.scale_factor;break;case"b":l-=1/a.x*s.scale_factor}o.scene.position.set(l,c,u),this.scene.add(o.scene),console.log(`loaded object: ${s.exhibit_url}`),console.log(this.getSize(o.scene)),console.log(o.scene.getWorldScale(new C)),console.log(o.scene.getWorldPosition(new C))})}})}ngOnChanges(e){console.log(e)}ngAfterViewInit(){if(!this.room)return;this.setup();const e=new Gl(.02,16,8),n=new Ff(16772744,3,1e3,2),r=new Ia({emissive:16777198,emissiveIntensity:1,color:0});n.add(new li(e,r)),n.position.set(0,100,0),n.castShadow=!0,this.scene.add(n),this.loader.load(`room/walls/${this.room.id}.gltf`,s=>{s.scene.scale.y=350,this.scene.add(s.scene)}),this.loader.load(`room/floor/${this.room.id}.gltf`,s=>{this.scene.add(s.scene)});for(let s=0;s<this.room.positions.length;s++){let o=new li(this.potests,this.basic_material);o.position.set(this.room.positions[s].x*this.factor,this.potests.parameters.height/2,this.room.positions[s].y*this.factor),this.scene.add(o)}this.animate()}onResize(e){this.camera&&(this.camera.aspect=this.lookupSize.nativeElement.offsetWidth/this.lookupSize.nativeElement.offsetHeight,console.log(this.camera.aspect),console.log(this.lookupSize.nativeElement.offsetWidth/this.lookupSize.nativeElement.offsetHeight)),this.renderer&&this.renderer?.setSize(this.lookupSize.nativeElement.offsetWidth,this.lookupSize.nativeElement.offsetHeight)}openDialog(e,n){const r=this.dialog.open(Sce,{maxWidth:"100vw",maxHeight:"50vh",width:"100%",height:"100%",data:{description:this.objectDescription,title:this.objectTitle,objectUrl:this.objectUrl},enterAnimationDuration:e,exitAnimationDuration:n});this.dialogOpen=!0,console.log(this.animationid),cancelAnimationFrame(this.animationid),this.clock.stop(),r.afterClosed().subscribe(s=>{this.dialogOpen=!1,this.animate(),this.clock.start()})}handleCollision(){this.detectCollision(),this.clock.start()}clickExhibit(){this.raycaster.setFromCamera(this.pointer,this.camera);const e=this.raycaster.intersectObjects(this.scene.children);console.log(this.pointer.x);const n=this.exhibitArrangeService.getPositionConfigList().getValue();for(let r of n)r.uuid==e[0].object.parent?.parent?.uuid&&null!=r.uuid&&(this.scene.getObjectByProperty("uuid",r.uuid),this.objectDescription=r.description,this.objectTitle=r.title,this.objectUrl=r.exhibit_url,this.openDialog("1000ms","300ms"))}hoverExhibit(){this.raycaster.setFromCamera(this.pointer,this.camera);const e=this.raycaster.intersectObjects(this.scene.children),n=this.exhibitArrangeService.getPositionConfigList().getValue();for(let r of n)if(r.uuid==e[0].object.parent?.parent?.uuid&&null!=r.uuid){const s=this.scene.getObjectByProperty("uuid",r.uuid),o=new vce(this.scene,this.camera);this.composer=new _ce(this.renderer),this.composer.addPass(o);const a=new ka(new q(window.innerWidth,window.innerHeight),this.scene,this.camera);this.composer.addPass(a),this.addSelectedObjects(s),a.selectedObjects=this.selectedObjects}}addSelectedObjects(e){this.selectedObjects=[],this.selectedObjects.push(e)}detectCollision(){this.collisionRaycaster.set(this.camera.position,this.camera2.position.normalize()),this.collisionRaycaster.far=100,this.collisionRaycaster.intersectObjects(this.scene.children).length>0&&this.clock.stop()}ngOnDestroy(){this.isAboutToDestroy=!0,this.scene.clear()}getSize(e){return(new Ma).setFromObject(e).getSize(new C)}compareCameras(e,n){return!(e.position.x==n.position.x&&e.position.y==n.position.y)}}return i.\u0275fac=function(e){return new(e||i)(D(A3),D(qC))},i.\u0275cmp=Ge({type:i,selectors:[["app-three-room"]],viewQuery:function(e,n){if(1&e&&(mn(bce,5),mn(Mce,5)),2&e){let r;We(r=$e())&&(n.threeCanvas=r.first),We(r=$e())&&(n.lookupSize=r.first)}},inputs:{room:"room",mode:"mode"},features:[Wn],decls:4,vars:3,consts:[[2,"width","100%","height","100%",3,"resize"],["threeCanvas",""],[1,"w-100","h-100",2,"visibility","hidden","top","0px",3,"ngStyle"],["lookupSize",""]],template:function(e,n){1&e&&(N(0,"canvas",0,1),ke("resize",function(s){return n.onResize(s)},0,ib),k(),qe(2,"div",2,3)),2&e&&(W(2),Y("ngStyle",Ri(1,xce,"view"==n.mode?"absolute":"static")))},dependencies:[wm],styles:[$3]}),i})(),Sce=(()=>{class i{constructor(e,n){this.data=e,this.dialogRef=n,this.sceneDetail=new mf,this.loaderDetail=(new kC).setPath("assets/three-d-objects/"),this.setup=()=>{this.rendererDetail=new Xu({canvas:this.threeDetailCanvas.nativeElement}),this.cameraDetail=new gn(100,this.lookUpSizeDetail.nativeElement.offsetWidth/this.lookUpSizeDetail.nativeElement.offsetWidth,.1,1e3),this.cameraDetail?.position.set(-1.8,180,10),this.controlsDetail=new HC(this.cameraDetail,this.rendererDetail.domElement),this.sceneDetail.background=new xe(16251130)},this.animate=()=>{requestAnimationFrame(this.animate),this.controlsDetail?.update(),this.rendererDetail?.render(this.sceneDetail,this.cameraDetail)}}ngAfterViewInit(){this.setup(),this.animate(),this.loadExhibit()}loadExhibit(){this.loaderDetail.load(this.data.objectUrl,s=>{this.sceneDetail.add(s.scene)});const e=new Gl(.02,16,8),n=new Ff(16772744,3,1e3,2),r=new Ia({emissive:16777198,emissiveIntensity:1,color:0});n.add(new li(e,r)),n.position.set(0,100,0),n.castShadow=!0,this.sceneDetail.add(n)}}return i.\u0275fac=function(e){return new(e||i)(D(H3),D($C))},i.\u0275cmp=Ge({type:i,selectors:[["exhibit-dialog"]],viewQuery:function(e,n){if(1&e&&(mn(wce,5),mn(Cce,5)),2&e){let r;We(r=$e())&&(n.threeDetailCanvas=r.first),We(r=$e())&&(n.lookUpSizeDetail=r.first)}},decls:12,vars:2,consts:[["lookUpSizeDetail",""],[1,"detail"],["threeDetailCanvas",""],[1,"detail-exhibit"],[1,"font-gradient"],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",1,"action-button"]],template:function(e,n){1&e&&(N(0,"div",null,0),qe(2,"canvas",1,2),k(),N(4,"div",3)(5,"h3",4),Q(6),k(),N(7,"div",5),Q(8),k(),N(9,"div",6)(10,"button",7),Q(11,"Close"),k()()()),2&e&&(W(6),Pn(n.data.title),W(2),wr(" ",n.data.description,""))},dependencies:[uce,dce,hce],styles:[$3]}),i})();const Dce=function(i){return{"font-weight":i}};function Ece(i,t){if(1&i){const e=Fn();N(0,"tr")(1,"td",13),ke("click",function(){const s=qt(e).$implicit;return Yt(Ae().exhibitOption(s.id))}),Q(2),k()()}if(2&i){const e=t.$implicit,n=Ae();W(1),Y("ngStyle",Ri(2,Dce,n.isLoadedInThe3DScene(e.id)?"bold":"normal")),W(1),Pn(e.title)}}function Tce(i,t){if(1&i&&(N(0,"mat-option",31),Q(1),k()),2&i){const e=t.$implicit;zc("value",e.id),W(1),wr("Position ",e.id,"")}}const Pce=function(i){return{border:i}};function Ace(i,t){if(1&i){const e=Fn();N(0,"img",32),ke("click",function(){const s=qt(e).$implicit;return Yt(Ae(2).selectedMaterial(s.id))}),k()}if(2&i){const e=t.$implicit,n=Ae(2);zc("src",e.thumbnail_url,xc),Y("ngStyle",Ri(2,Pce,n.isMaterialSelected(e.id)?"solid 3px black":""))}}function Ice(i,t){if(1&i){const e=Fn();bi(0),N(1,"div",14)(2,"h3",15),Q(3),k(),N(4,"p",16),Q(5),k(),N(6,"div")(7,"mat-form-field")(8,"mat-select",17),ke("valueChange",function(r){return qt(e),Yt(Ae().selected=r)})("selectionChange",function(){return qt(e),Yt(Ae().selectedPosition())}),N(9,"mat-option",18),Q(10,"No position"),k(),be(11,Tce,2,2,"mat-option",19),k()()(),N(12,"div")(13,"h6"),Q(14,"Styling"),k(),N(15,"p"),Q(16,"Alignment"),k(),N(17,"mat-form-field")(18,"mat-select",20,21),ke("selectionChange",function(){qt(e);const r=Tn(19);return Yt(Ae().selecteAligment(r.value))}),N(20,"mat-option",22),Q(21,"Centered"),k(),N(22,"mat-option",23),Q(23,"Left"),k(),N(24,"mat-option",24),Q(25,"Right"),k(),N(26,"mat-option",25),Q(27,"Top"),k(),N(28,"mat-option",26),Q(29,"Bottom"),k()()(),N(30,"p"),Q(31,"Themas"),k(),N(32,"app-slideshow",27),be(33,Ace,1,4,"img",28),k(),N(34,"p"),Q(35,"Scaling"),k(),N(36,"input",29,30),ke("change",function(){qt(e);const r=Tn(37);return Yt(Ae().setObjectScale(r.value))}),k()()(),Mi()}if(2&i){const e=Ae();W(3),Pn(e.exhibitList[e.selectedId].title),W(2),Pn(e.exhibitList[e.selectedId].desc),W(3),Y("value",e.selected),W(3),Y("ngForOf",e.room.positions),W(7),Y("value",e.getAlignment()),W(15),Y("ngForOf",e.materialList),W(3),Y("value",e.getObjectScale())}}function Oce(i,t){1&i&&(N(0,"div",33)(1,"h4",34),Q(2,"No Exhibit selected"),k()())}const Rce=["*"];let Nce=(()=>{class i{constructor(e){this.exhibitArrangeService=e,this.selectedId=-1,this.position_arr=[new ad(1,2,0,0,!1),new ad(2,2,1,1,!1),new ad(3,2,1,0,!1)],this.room=new P3(2,"small room",0,"https://www.smb.museum/uploads/tx_smb/news/news_67970/Neues-Museum_Raum-Prolog_Achim_Kleuker_xl.jpg","2.gltf",this.position_arr),this.exhibitList=[new vy(0,"cheese.gltf","","K\xe4se","Tolle K\xe4ser, nichtmal stinkig"),new vy(1,"podest_01.gltf","","1.0 Podest","The first desigend podest for this website")],this.materialList=[new er(1,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(2,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(3,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(4,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(5,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(6,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(7,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(8,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(9,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(10,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(11,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(12,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(13,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(14,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"",""),new er(15,"https://cdn.shopify.com/s/files/1/0561/2168/8256/products/trumerholz-gehackte-larche-wohnwand_695x695.jpg?v=1660934418","",0,"","")],this.selected="-1";let n=[];for(var r=0;r<this.exhibitList.length;r++)n[r]=new Dle(-1,-1,this.exhibitList[r].model_url,"","c",4,void 0,this.exhibitList[r].desc,this.exhibitList[r].title);this.exhibitArrangeService.setPositionConfigList(n),this.exhibitArrangeService.getPositionConfigList().subscribe(s=>{-1!=this.selectedId&&(this.selected=this.exhibitArrangeService.getPositionConfigList().getValue()[this.selectedId].position_id.toString())})}ngOnInit(){}print(e){this.fileUploadRes=e,console.log(e)}exhibitOption(e){this.selectedId=e,this.selected=this.exhibitArrangeService.getPositionConfigList().getValue()[e].position_id.toString()}containsInConfigArray(e){return console.log("hihi"),null!=this.exhibitArrangeService.getPositionConfigList().getValue().find(n=>n.position_id==e)}isMaterialSelected(e){return this.exhibitArrangeService.getPositionConfigList().getValue()[this.selectedId].material_id==e}selectedMaterial(e){this.exhibitArrangeService.getPositionConfigList().getValue()[this.selectedId].material_id=e}selectedPosition(){var e=Number(this.selected);if(-1!=e){let n=this.exhibitArrangeService.getPositionConfigList().getValue(),r=n[this.selectedId].position_id,s=n.map(o=>o.position_id).indexOf(e);-1!=s&&(n[s].position_id=r),console.log("here"),n[this.selectedId].position_id=e,this.exhibitArrangeService.setPositionConfigList(n)}}automaticalPlacement(){let e=this.exhibitArrangeService.getPositionConfigList().getValue();for(var n=0;n<e.length;n++)e[n].position_id=n+1;this.exhibitArrangeService.setPositionConfigList(e)}isLoadedInThe3DScene(e){return-1!=this.exhibitArrangeService.getPositionConfigList().getValue()[e].position_id}getAlignment(){return this.exhibitArrangeService.getPositionConfigList().getValue()[this.selectedId].alignment}selecteAligment(e){let n=this.exhibitArrangeService.getPositionConfigList().getValue();n[this.selectedId].alignment=e,this.exhibitArrangeService.setPositionConfigList(n)}setObjectScale(e){let n=this.exhibitArrangeService.getPositionConfigList().getValue();n[this.selectedId].scale_factor=+e,this.exhibitArrangeService.setPositionConfigList(n)}getObjectScale(){return""+this.exhibitArrangeService.getPositionConfigList().getValue()[this.selectedId].scale_factor}}return i.\u0275fac=function(e){return new(e||i)(D(A3))},i.\u0275cmp=Ge({type:i,selectors:[["app-create-exhibition-arrange"]],inputs:{room:"room",exhibitList:["ExhibitList","exhibitList"],materialList:["MaterialList","materialList"]},ngContentSelectors:Rce,decls:19,vars:4,consts:[[1,"row","position-absolute","top-0","w-100","h-100",2,"left","0"],[1,"col-lg-9","col-sm-7",2,"background-color","#C3C6E0","padding","0px"],[3,"mode"],[1,"col-lg-3","col-sm-5","h-100","p-0"],[1,"create-exhibition-content-first","ps-5"],[1,"pt-5","text-center"],[1,"w-100","action-button","p-2",3,"click"],[1,"exhibit-container","my-2"],[4,"ngFor","ngForOf"],[1,"d-flex","exhibit-container","my-2","px-4","w-100",2,"overflow-y","scroll","overflow-x","hidden"],[4,"ngIf","ngIfElse"],["NoExhibitionOption",""],[1,"btn-end","w-100","clearfix","px-2","pt-3","shadow-inner"],[3,"ngStyle","click"],[2,"display","flex","flex-direction","column","width","inherit"],[1,"font-gradient","m-3","exhibit-name","px-0","mx-0"],[2,"font-size","1rem"],[3,"value","valueChange","selectionChange"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value","selectionChange"],["AligmentSelection",""],["value","c"],["value","l"],["value","r"],["value","t"],["value","b"],[1,"w-100"],["class","shadow rounded","style","aspect-ratio: 1; object-fit: contain; width: 20%; height: auto;",3,"ngStyle","src","click",4,"ngFor","ngForOf"],["type","range","min","1","max","10",3,"value","change"],["ScalingSelection",""],[3,"value"],[1,"shadow","rounded",2,"aspect-ratio","1","object-fit","contain","width","20%","height","auto",3,"ngStyle","src","click"],[1,"d-flex","h-100","align-items-center","justify-content-center","text-center"],[1,"opacity-50"]],template:function(e,n){if(1&e&&(jt(),N(0,"div",0)(1,"div",1),qe(2,"app-three-room",2),k(),N(3,"div",3)(4,"div",4)(5,"h3",5),Q(6,"Arrange Exhibition"),k(),N(7,"div")(8,"button",6),ke("click",function(){return n.automaticalPlacement()}),Q(9," Auto-Generate "),k()(),N(10,"div",7)(11,"table"),be(12,Ece,3,4,"tr",8),k()(),N(13,"div",9),be(14,Ice,38,7,"ng-container",10),be(15,Oce,3,0,"ng-template",null,11,ia),k()(),N(17,"div",12),xt(18),k()()()),2&e){const r=Tn(16);W(2),Y("mode","create"),W(10),Y("ngForOf",n.exhibitList),W(2),Y("ngIf",-1!=n.selectedId)("ngIfElse",r)}},dependencies:[Fs,Bn,wm,$Z,fg,Wle,Ix,q3],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .exhibit-container[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.exhibit-container[_ngcontent-%COMP%]{border:2px #9096c5 solid;width:100%;height:33vh}.exhibit-container[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{width:100%;background-color:#eee}.exhibit-container[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{padding:1em;width:100%;background-color:#eeeeee9f}.exhibit-container[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#9096c59f}.exhibit-name[_ngcontent-%COMP%]{font-size:2rem}']}),i})();const kce=["stepper"];function Fce(i,t){1&i&&Q(0,"Exhibition Metadata")}function Lce(i,t){1&i&&Q(0,"Exhibits")}function Bce(i,t){1&i&&Q(0,"Select Room")}function Vce(i,t){1&i&&Q(0,"Arrange Exhibition")}const KC=function(i){return{disabled:i}};let zce=(()=>{class i{constructor(e,n){this.navbar=e,this.footer=n,this.stepsCompleted=[],this.exhibitionList=[]}ngOnInit(){this.navbar.white=!1,this.navbar.hide(),this.footer.hide(),this.stepsCompleted=new Array(this.stepper?.steps.length).fill(!1)}selectionChanged(e){}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i))},i.\u0275cmp=Ge({type:i,selectors:[["app-create-exhibition-page"]],viewQuery:function(e,n){if(1&e&&mn(kce,5),2&e){let r;We(r=$e())&&(n.stepper=r.first)}},decls:37,vars:15,consts:[[1,""],[3,"linear","selectedIndex","selectionChange"],["stepper",""],[3,"completed"],["matStepLabel",""],[1,"container","mt-5"],[1,"w-100"],["mat-button","","matStepperNext","",1,"w-100",3,"ngClass"],[1,"text-center"],[3,"changedExhibitList"],[1,"w-100","clearfix"],["mat-button","","matStepperPrevious","",1,"w-49","backbutton"],["mat-button","","matStepperNext","",1,"float-end","w-49",3,"ngClass"],[3,"roomSelectedEvent"],["mat-button","",1,"float-end","w-49",3,"click"]],template:function(e,n){if(1&e){const r=Fn();qe(0,"app-info-tag"),N(1,"div",0)(2,"div")(3,"mat-horizontal-stepper",1,2),ke("selectionChange",function(o){return n.selectionChanged(o)}),N(5,"mat-step",3),be(6,Fce,1,0,"ng-template",4),N(7,"div",5),qe(8,"app-create-exhibition-metadata"),N(9,"div",6)(10,"button",7),Q(11,"Next"),k()()()(),N(12,"mat-step",3),be(13,Lce,1,0,"ng-template",4),N(14,"div",5)(15,"h2",8),Q(16,"Exhibits"),k(),N(17,"app-create-exhibition-exhibitselection",9),ke("changedExhibitList",function(o){qt(r);const a=Tn(4);return n.exhibitionList=o,Yt(n.stepsCompleted[a.selectedIndex]=0!=o.length)}),k(),N(18,"div",10)(19,"button",11),Q(20,"Back"),k(),N(21,"button",12),Q(22,"Next"),k()()()(),N(23,"mat-step",3),be(24,Bce,1,0,"ng-template",4),N(25,"app-create-exhibition-roomselection",13),ke("roomSelectedEvent",function(){qt(r);const o=Tn(4);return Yt(n.stepsCompleted[o.selectedIndex]=!0)}),N(26,"button",11),Q(27,"Back"),k(),N(28,"button",12),Q(29,"Next"),k()()(),N(30,"mat-step",3),be(31,Vce,1,0,"ng-template",4),N(32,"app-create-exhibition-arrange")(33,"button",11),Q(34,"Back"),k(),N(35,"button",14),ke("click",function(){return qt(r),Yt(Tn(4).reset())}),Q(36,"Reset"),k()()()()()()}if(2&e){const r=Tn(4);W(3),Y("linear",!1)("selectedIndex",3),W(2),Y("completed",n.stepsCompleted[r.selectedIndex]),W(5),Y("ngClass",Ri(9,KC,!n.stepsCompleted[r.selectedIndex])),W(2),Y("completed",n.stepsCompleted[r.selectedIndex]),W(9),Y("ngClass",Ri(11,KC,!n.stepsCompleted[r.selectedIndex])),W(2),Y("completed",n.stepsCompleted[r.selectedIndex]),W(5),Y("ngClass",Ri(13,KC,!n.stepsCompleted[r.selectedIndex])),W(2),Y("completed",n.stepsCompleted[r.selectedIndex])}},dependencies:[ks,yF,e_,vF,iee,ree,See,_le,ble,Sle,Nce],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}mat-horizontal-stepper[_ngcontent-%COMP%]{background-color:unset!important}.create-wrapper[_ngcontent-%COMP%]{top:0;left:0;right:0;width:100%}.w-49[_ngcontent-%COMP%]{width:49%}button[_ngcontent-%COMP%]{background-image:none;background-color:#9096c5}button.backbutton[_ngcontent-%COMP%]{filter:grayscale(.5)}@media (min-width: 992px){.create-wrapper[_ngcontent-%COMP%]{width:75%}}.disabled[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]:hover{filter:grayscale(1);cursor:not-allowed}']}),i})();class Hce{constructor(t,e,n,r){this.user_name=t,this.email=e,this.iconURL=n,this.password=r}}function Uce(i,t){1&i&&(N(0,"div",19)(1,"mat-error"),Q(2," Passw\xf6rter stimmen nicht \xfcbereinander "),k()())}const Gce=function(i){return{"btn-disabled":i}};let jce=(()=>{class i{constructor(e,n,r,s){this.navbar=e,this.footer=n,this.auth=r,this.router=s,this.signupForm=new yu({username:new fs("",Us.required),email:new fs("",[Us.email,Us.required]),password:new fs("",Us.required),confirmPassword:new fs("",Us.required)},[Wce.MatchValidator("password","confirmPassword")])}get passwordMatchError(){return this.signupForm.getError("mismatchError")&&this.signupForm.get("confirmPassword")?.touched}ngOnInit(){this.navbar.hide(),this.navbar.changeWhite(),this.footer.hide()}onSubmit(){if(this.signupForm.valid){const n=this.signupForm.value.username,r=this.signupForm.value.password;this.auth.newUsers(new Hce(n,this.signupForm.value.email,"https://randomuser.me/api/portraits/women/7.jpg",r)).subscribe({next:s=>{this.auth.login(new Lk(n,r)).subscribe({next:o=>{this.auth.setSaveJWT(o),this.router.navigateByUrl("/profile")},error:o=>{this.auth.logout()}})},error:s=>{}})}}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i),D(LM),D(gi))},i.\u0275cmp=Ge({type:i,selectors:[["app-signup-page"]],decls:27,vars:6,consts:[[1,"row","cover"],[1,"col","color-side","d-flex","justify-content-center","flex-column"],["src","../../../../assets/image/statue.png",1,"w-auto","h-75",2,"object-fit","cover"],[1,"font-secondary-c","m-5"],[1,"col","white-side"],[1,"content-wrapper"],["rel","logo","src","../../../../assets/image/3d-logo.png",1,"logo"],[1,"navbar-brand","no-after","title"],[1,"font-gradient"],[3,"formGroup","ngSubmit"],["formControlName","username","placeholder","Username","name","text","ngModel","","type","text",1,"input"],["formControlName","email","placeholder","email@example.com","name","email","ngModel","","type","email",1,"input"],["formControlName","password","placeholder","Password","name","password","ngModel","","type","password",1,"input"],["formControlName","confirmPassword","placeholder","Confirm Password","name","password","ngModel","","type","password",1,"input"],["class","mt-4",4,"ngIf"],["type","submit",1,"py-1","rounded",3,"disabled","ngClass"],[1,"mx-auto","my-5"],[1,"sign-up-text"],["routerLink","/log-signin",1,"font-gradient","underlined"],[1,"mt-4"]],template:function(e,n){1&e&&(N(0,"div",0)(1,"div",1),qe(2,"img",2),N(3,"p",3),Q(4,"A new way to experience in the infinite virutal space. "),k()(),N(5,"div",4)(6,"div",5),qe(7,"img",6),N(8,"a",7)(9,"b",8),Q(10,"Portfolio"),k()()(),N(11,"h2"),Q(12,"Create Art Today"),k(),N(13,"form",9),ke("ngSubmit",function(){return n.onSubmit()}),qe(14,"input",10)(15,"input",11)(16,"input",12)(17,"input",13),N(18,"div"),be(19,Uce,3,0,"div",14),k(),N(20,"button",15),Q(21,"Sign Up"),k()(),qe(22,"hr",16),N(23,"p",17),Q(24,"Already have an account? "),N(25,"a",18),Q(26,"Log In"),k()()()()),2&e&&(W(13),Y("formGroup",n.signupForm),W(6),Y("ngIf",n.passwordMatchError),W(1),Y("disabled",!n.signupForm.valid)("ngClass",Ri(4,Gce,!n.signupForm.valid)))},dependencies:[ks,Bn,aa,$g,bl,Bh,Bg,Dk,_a,jh],styles:['@font-face{font-family:Inter;src:url(Inter-Regular.8c0fe73bdbebb91d.ttf)}@font-face{font-family:Inter;src:url(Inter-Bold.1e3e4a3108c86bc3.ttf);font-weight:700}@font-face{font-family:Inter;src:url(Inter-ExtraBold.30e41037db00e166.ttf);font-weight:900}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Inter,San Francisco,Akkurat}h1[_ngcontent-%COMP%]{font-weight:900;font-size:84pt}h2[_ngcontent-%COMP%]{font-weight:900;font-size:64pt}h3[_ngcontent-%COMP%]{font-size:36pt;font-weight:700}h4[_ngcontent-%COMP%]{font-size:28pt;font-weight:400}h5[_ngcontent-%COMP%]{font-size:24pt;color:#9197c6;font-weight:400}h6[_ngcontent-%COMP%]{font-size:20pt;font-weight:400}p[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:16pt}a[_ngcontent-%COMP%]{cursor:pointer;font-size:16pt;transition:filter ease-in .25s;color:#222}a[_ngcontent-%COMP%]:visited{filter:invert(.2)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.wrapper[_ngcontent-%COMP%]{margin:0 7.5%}.shadow[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000020}.shadow_stronger[_ngcontent-%COMP%]{box-shadow:0 6px 12px #00000030}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset 0 4px 4px #00000020}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 4px 4px rgba(0,0,0,.2))}.drop-shadow-inner[_ngcontent-%COMP%]{filter:drop-shadow(inset 0px 4px 4px rgba(0,0,0,.2))}.rounded[_ngcontent-%COMP%], .custom_input[_ngcontent-%COMP%]{border:0px;border-radius:3px}.most-rounded[_ngcontent-%COMP%]{border:0px;border-radius:12px}.most-rounded-top[_ngcontent-%COMP%]{border:0px;border-radius:12px 12px 0 0}.bg-primary-c[_ngcontent-%COMP%]{background-color:#eee!important}.bg-secondary-c[_ngcontent-%COMP%]{background-color:#9096c5!important}.bg-gradient-c[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7)}.font-primary-c[_ngcontent-%COMP%]{color:#222!important}.font-secondary-c[_ngcontent-%COMP%]{color:#eee!important}.font-gradient[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.font-gradient.underlined[_ngcontent-%COMP%]:before, .link-activated[_ngcontent-%COMP%]:before{content:"";background:-webkit-linear-gradient(45deg,#576391,#B470B7);bottom:0;left:0;position:absolute;width:100%;height:2%}.underlined[_ngcontent-%COMP%], .link-activated[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.fs-2rem[_ngcontent-%COMP%]{font-size:2rem}.action-button[_ngcontent-%COMP%]{background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;border:none;border-radius:3px;box-shadow:0 4px 4px #00000020}.btn-disabled[_ngcontent-%COMP%]{filter:grayscale(.9);box-shadow:0 0}.custom_input[_ngcontent-%COMP%]{border:solid .2rem #9096c5}.error[_ngcontent-%COMP%]{color:red}.link-activated[_ngcontent-%COMP%]{font-width:bold}.hover-saturated[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]{transition:filter ease-in .25s}.hover-saturated[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{filter:saturate(1.5)}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 576px){.position-sm-static[_ngcontent-%COMP%]{position:static!important}.position-sm-relative[_ngcontent-%COMP%]{position:relative!important}.position-sm-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-sm-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sm-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 768px){.position-md-static[_ngcontent-%COMP%]{position:static!important}.position-md-relative[_ngcontent-%COMP%]{position:relative!important}.position-md-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-md-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-md-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 992px){.position-lg-static[_ngcontent-%COMP%]{position:static!important}.position-lg-relative[_ngcontent-%COMP%]{position:relative!important}.position-lg-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-lg-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-lg-sticky[_ngcontent-%COMP%]{position:sticky!important}}@media (min-width: 1200px){.position-xl-static[_ngcontent-%COMP%]{position:static!important}.position-xl-relative[_ngcontent-%COMP%]{position:relative!important}.position-xl-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-xl-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-xl-sticky[_ngcontent-%COMP%]{position:sticky!important}}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.custom_scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9096c5;border:0px;border-radius:5px}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap!important;width:100%;overflow-x:scroll}.exhibition-card-custom[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee}.input[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1em;border:5px solid #9197C6;border-radius:3px;box-shadow:0 4px 4px #00000020}.mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:0;left:50%;transform:translate(-50%)}.create-exhibition-content-first[_ngcontent-%COMP%]{height:93%;overflow-y:auto}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:0!important}.color-side[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:33.33%;height:100%;background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);z-index:-9}.white-side[_ngcontent-%COMP%]{position:absolute;top:0;left:33.33%;width:66.66%;height:100%}.logo[_ngcontent-%COMP%]{width:10%;margin-bottom:4%;margin-right:3%}.title[_ngcontent-%COMP%]{top:20%;font-size:40px}.content-wrapper[_ngcontent-%COMP%]{margin-top:5%;margin-left:40%}h2[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{margin-left:30%}button[_ngcontent-%COMP%]{margin-top:5%;width:60%;font-size:1.5em;background-image:-webkit-linear-gradient(45deg,#576391,#B470B7);color:#eee;box-shadow:0 4px 4px #00000020}hr[_ngcontent-%COMP%]{width:30%}.sign-up-text[_ngcontent-%COMP%]{text-align:center}.ps-2[_ngcontent-%COMP%]{text-decoration:none}']}),i})();class Wce{static MatchValidator(t,e){return n=>{const r=n.get(t),s=n.get(e);return r&&s&&r.value!==s.value?{mismatchError:!0}:null}}}const $ce=[{path:"",component:Fk},{path:"home",component:Fk},{path:"log-signin",component:dQ},{path:"search",component:vJ},{path:"profile",component:CJ},{path:"create",component:zce},{path:"signup",component:jce},{path:"room",component:(()=>{class i{constructor(e,n){this.navbar=e,this.footer=n}ngOnInit(){this.navbar.white=!1,this.navbar.hide(),this.footer.hide()}}return i.\u0275fac=function(e){return new(e||i)(D(ki),D($i))},i.\u0275cmp=Ge({type:i,selectors:[["app-room-page"]],decls:2,vars:1,consts:[[1,"position-absolute","top-0","w-100","h-100"],[1,"w-100","h-100",3,"mode"]],template:function(e,n){1&e&&(N(0,"div",0),qe(1,"app-three-room",1),k()),2&e&&(W(1),Y("mode","view"))},dependencies:[q3]}),i})()},{path:"**",redirectTo:"home"}];let qce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[So,TM.forRoot($ce),TM]}),i})();class ud extends Be{constructor(t=1/0,e=1/0,n=WM){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(n.push(t),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=n?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=e.now();let a=0;for(let l=1;l<n.length&&n[l]<=o;l+=2)a=l;a&&n.splice(0,a+1)}}}function ZC(i){return!!i&&(i instanceof cn||zt(i.lift)&&zt(i.subscribe))}const Kce=new class Xce extends sg{}(class Yce extends rg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});function Y3(...i){const t=$y(i);return bn((e,n)=>{const r=i.length,s=new Array(r);let o=i.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ti(i[l]).subscribe(sn(n,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(xs))&&(o=null))},tc));e.subscribe(sn(n,l=>{if(a){const c=[l,...s];n.next(t?t(...c):c)}}))})}const Jce=["rendererCanvas"];function eue(i,t){1&i&&vo(0,3),2&i&&(Ae(),Y("ngTemplateOutlet",Tn(4)))}function tue(i,t){1&i&&xt(0)}const nue=["*"];class dd extends lr{constructor(t){super(t||null)}set(t){this.next("function"==typeof t?t(this.value):t)}}const Ze={obj:i=>i===Object(i)&&!Ze.arr(i)&&"function"!=typeof i,material:i=>!!i&&i.isMaterial,geometry:i=>!!i&&i.isBufferGeometry,mesh:i=>!!i&&i.isMesh,orthographic:i=>!!i&&i.isOrthographicCamera,perspective:i=>!!i&&i.isPerspectiveCamera,camera:i=>!!i&&i.isCamera,glRenderer:i=>!!i&&i instanceof Xu,scene:i=>!!i&&i.isScene,object3d:i=>!!i&&i.isObject3D,instance:i=>!!i&&!!i.__ngt__,ref:i=>!!i&&i instanceof dd,vector3:i=>!!i&&i.isVector3,color:i=>!!i&&i.isColor,supportColorManagement:()=>!0,fun:i=>"function"==typeof i,str:i=>"string"==typeof i,num:i=>"number"==typeof i,boo:i=>"boolean"==typeof i,und:i=>void 0===i,eventEmitter:i=>i instanceof we,arr:i=>Array.isArray(i),equ(i,t,{arrays:e="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof t||!!i!=!!t)return!1;if(Ze.str(i)||Ze.num(i))return i===t;const s=Ze.obj(i);if(s&&"reference"===n)return i===t;const o=Ze.arr(i);if(o&&"reference"===e)return i===t;if((o||s)&&i===t)return!0;let a;for(a in i)if(!(a in t))return!1;for(a in r?t:i)if(i[a]!==t[a])return!1;if(Ze.und(a)){if(o&&0===i.length&&0===t.length||s&&0===Object.keys(i).length&&0===Object.keys(t).length)return!0;if(i!==t)return!1}return!0}};function tr(i,...t){return e=>[...(t||[]).map(n=>n(e)),{provide:i,useExisting:e}]}function Uf(i,{defaultValueOrFactory:t,provideValueFactory:e}={}){const r=new he(i,{factory:t&&"function"==typeof t?t:()=>t});return[function s(a={}){return Sn(r,a)},function o(a){return{provide:r,useValue:e?e(a):a}},r]}function Un(i,t,...e){Ze.fun(t)&&(e=[t,...e]);const n=new he(i);return[function r(o={}){return Sn(n,o)},function s(o,a){return[...(e||[]).map(l=>l(o,a)),{provide:n,useFactory:l=>a?()=>a(l):Ze.boo(t)?l.parentRef:()=>l.instance,deps:[o]}]},n]}const[rue,Qs,Hwe]=Un("NgtInstance ref"),[sue,oue,Uwe]=Un("NgtInstance host ref");let Gf=(()=>{class i{constructor(){this.destroySubject$=new ud(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new ud(1)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}get(e){let n;return this.stateSubject$.pipe(wn(1),jf(),Je(r=>e?e(r):r),jf()).subscribe(r=>{n=r}),n}set(e){const n="function"==typeof e?e(this.get()):e;this.updateState((r,s)=>({...r,...s}))(n)}select(...e){if(0===e.length)return this.stateSubject$.pipe(jf(),cu(),ic({connector:()=>new ud(1),resetOnComplete:!0,resetOnRefCountZero:!0,resetOnError:!0}),Vt(this.destroy$));ZC(e[e.length-1])&&e.push(()=>({}));const{observables:n,projector:r}=function aue(i){const t=Array.from(i),e=t.pop();return{observables:t,projector:e}}(e);let s;return s=0===n.length?this.stateSubject$.pipe(jf(),Je(r)):Am(n).pipe(Je(o=>r(...o))),s.pipe(jf(),cu(),ic({connector:()=>new ud(1),resetOnComplete:!0,resetOnRefCountZero:!0,resetOnError:!0}),Vt(this.destroy$))}effect(e){const n=new Be;return e(n).pipe(Vt(this.destroy$)).subscribe(),r=>(ZC(r)?r:Ve(r)).pipe(Vt(this.destroy$)).subscribe(o=>{n.next(o)})}updateState(e){return n=>(ZC(n)?n:Ve(n)).pipe(Do(s=>n1([s],Kce).pipe(Y3(this.stateSubject$.pipe(In({}))))),Vt(this.destroy$)).subscribe({next:([s,o])=>{this.stateSubject$.next(e(o||{},s))},error:s=>{this.stateSubject$.error(s)}})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i}),i})();function Kn(i){let n,t=tc,e=!1;const r=s=>()=>{t&&t({prev:n,complete:!0,error:s})};return Wt({next:s=>{t&&e&&t({prev:n,complete:!1,error:!1});const o=i(s);o&&(t=o),n=s,e||(e=!0)},complete:r(!1),unsubscribe:r(!1),error:r(!0)})}function jf(){return an(i=>void 0!==i)}const X3={current:1,min:.5,max:1,debounce:200},[Gwe,jwe,lue]=Uf("NgtPerformance options",{defaultValueOrFactory:X3,provideValueFactory:i=>({...X3,...i})}),[JC,,cue]=Uf("window",{defaultValueOrFactory:()=>{const{defaultView:i}=Sn(ut);if(!i)throw"window is not available!";return i}}),K3={box:"content-box",scroll:!1,offsetSize:!1,debounce:{scroll:50,resize:0}},[uue,Wwe,$we]=Uf("ngtResize Options",{defaultValueOrFactory:K3,provideValueFactory:i=>({...K3,...i})}),[due]=Uf("Resize Observer API support",{defaultValueOrFactory:()=>{const i=JC();return"ResizeObserver"in i&&null!=i.ResizeObserver}});let Z3=(()=>{class i extends cn{constructor(){const{nativeElement:e}=Sn(mt),n=Sn(ot),r=JC(),s=due(),{box:o,offsetSize:a,scroll:l,debounce:c}=uue();let u,d,h=[];const f=new Be,p=Q3(e),m=c?"number"==typeof c?c:c.scroll:null,g=c?"number"==typeof c?c:c.resize:null,_=y=>Uy(lu(y??0),Vt(f));return super(y=>{if(s)return n.runOutsideAngular(()=>{const v=x=>{h=x;const{left:w,top:A,width:M,height:S,bottom:F,right:B,x:J,y:ie}=e.getBoundingClientRect(),V={left:w,top:A,width:M,height:S,bottom:F,right:B,x:J,y:ie};e instanceof HTMLElement&&a&&(V.height=e.offsetHeight,V.width=e.offsetWidth),Object.freeze(V),y.next({entries:x,dpr:r.devicePixelRatio,...V}),fue(d||{},V)||(d=V)},b=()=>{v(h)};u=new ResizeObserver(v),u.observe(e,{box:o}),l&&(p&&p.forEach(x=>{js(x,"scroll",{capture:!0,passive:!0}).pipe(_(m)).subscribe(b)}),js(r,"scroll",{capture:!0,passive:!0}).pipe(_(m)).subscribe(b)),js(r,"resize").pipe(_(g)).subscribe(b)}),()=>{u&&(u.unobserve(e),u.disconnect()),f.next(),f.complete()};y.error("ResizeObserver is not supported in your browser. Please use a polyfill")}),this.pipe(lu(m||0),ic({connector:()=>new ud(1),resetOnRefCountZero:!0,resetOnComplete:!0}))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();function Q3(i){const t=[];if(!i||i===document.body)return t;const{overflow:e,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[e,n,r].some(s=>"auto"===s||"scroll"===s)&&t.push(i),[...t,...Q3(i.parentElement)]}const hue=["x","y","top","bottom","left","right","width","height"],fue=(i,t)=>hue.every(e=>i[e]===t[e]);function Zl(i){null!==i&&"object"==typeof i&&"needsUpdate"in i&&(i.needsUpdate=!0,"uniformsNeedUpdate"in i&&(i.uniformsNeedUpdate=!0))}function Xr(i){if(i)return i.__ngt__}function eS(i,t,e,n,r=!1){const s=Xr(n?.value),o=e||(s?s.parent:void 0);return Ze.scene(i)&&qo(i,{dispose:null}),Object.assign(i,{__ngt__:{root:t,primitive:r||s?.primitive,eventCount:s?.eventCount??0,handlers:s?.handlers??{},objects:s?.objects??new dd([]),parent:o?o===i?null:o:null}})}function pue(i,t,e=!1){const n=Object.entries(t);return 0===n.length?Ve({}):i.select(...n.map(([r,s])=>{const o=i.select(a=>a[r]);return s?o.pipe(function QC(){return In(void 0)}()):o}),(...r)=>r.reduce((s,o,a)=>(s[n[a][0]]=o,s),{})).pipe(In({}),function Zce(){return bn((i,t)=>{let e,n=!1;i.subscribe(sn(t,r=>{const s=e;e=r,n&&t.next([s,r]),n=!0}))})}(),Je(([r,s])=>Object.entries(s).reduce((o,[a,l])=>((!Ze.equ(r[a],l)||e&&Ze.equ(r[a],l))&&(o[a]=l),o),{})))}function tS(i){Ze.object3d(i)?i.updateMatrix():Ze.camera(i)&&((Ze.perspective(i)||Ze.orthographic(i))&&i.updateProjectionMatrix(),i.updateMatrixWorld()),Zl(i)}function qo(i,t){if(!Object.keys(t).length)return;const n=(Xr(i)||{}).root?.()??{};"__ngt__"in t&&(i.__ngt__=Xr(t));for(const r of Object.entries(t)){const s=r[0];let o=r[1];if("raycast"===s&&null==o)continue;Ze.ref(o)&&(o=o.value);const a=i,l=a[s];if(l&&l.set&&(l.copy||l instanceof Fu)){if(Ze.arr(o))l.fromArray?l.fromArray(o):l.set(...o);else if(l.copy&&o&&o.constructor&&l.constructor.name===o.constructor.name)l.copy(o);else if(void 0!==o){const c=l instanceof xe;!c&&l.setScalar?l.setScalar(o):l instanceof Fu&&o instanceof Fu?l.mask=o.mask:l.set(o),!Ze.supportColorManagement()&&!n.linear&&c&&l.convertSRGBToLinear()}}else a[s]=o,!n.linear&&a[s]instanceof qr&&(a[s].encoding=nn);Zl(o),Zl(l)}}function Ql(i,t){return t?t instanceof i?t:(Ze.arr(t)||(t="number"==typeof t?[t,t,t]:[t]),new i(...t)):new i}function nS(i){return Ze.arr(i)?Math.min(Math.max(i[0],window.devicePixelRatio),i[1]):i}const J3={};function Wf(i){if(i)return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId;const t=dr.generateUUID();return J3[t]?Wf():(J3[t]=!0,t)}function e5(i,t,e,n){const r=e.get(t);r&&(e.delete(t),0===e.size&&(i.delete(n),r.target.releasePointerCapture(n)))}var $f,Cy,iS,Sy,qf,rS,Yf,sS,oS,aS,lS,cS,uS,t5,n5,i5;const r5={click:!1,contextmenu:!1,dblclick:!1,wheel:!1,pointerdown:!0,pointerup:!0,pointerleave:!0,pointermove:!0,pointercancel:!0,lostpointercapture:!0},dS={objects:"shallow",strict:!1};class Js extends Gf{constructor({nativeElement:{clientWidth:t,clientHeight:e}},n,{devicePixelRatio:r},s,o,a){super(),this.parentStore=s,this.resizeResult$=o,this.zone=a,$f.add(this),Cy.set(this,new q),iS.set(this,new C),Sy.set(this,new C),qf.set(this,new C),this.ready$=this.select(l=>l.ready).pipe(an(l=>l)),rS.set(this,this.select(this.select(l=>l.camera),this.select(l=>l.scene),this.select(l=>l.gl),this.select(l=>l.raycaster),this.select(l=>l.internal.active),(l,c,u,d,h)=>({ready:!!(l&&u&&c&&d&&!0===h)}))),Yf.set(this,void 0),sS.set(this,this.select(this.select(l=>l.size),this.select(l=>l.viewport))),this.startLoop=this.effect(Wt(({invalidate:l})=>{l()})),oS.set(this,this.effect(Kn(({canvasElement:l,rootStateMap:c,advance:u,invalidate:d})=>{const h=this.get(),f=eS(new mf,()=>this.get(),this.parentStore?.get(w=>w.sceneRef));qo(f,h.sceneOptions),this.get(w=>w.sceneRef).set(f);let p=h.gl;h.gl||(p=function vue(i,t){const e="function"==typeof i?i(t):i;return null!=e?.render?e:new Xu({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...i})}(h.glOptions,l)),this.set({gl:p});let m=h.raycaster;h.raycaster||(m=new IC);const{params:g,..._}=h.raycasterOptions||{};Ze.equ(_,m,dS)||qo(m,{..._}),Ze.equ(g,m.params,dS)||qo(m,{params:{...m.params,...g||{}}});let y=h.camera;if(!h.camera){const w=Ze.camera(h.cameraOptions);y=w?h.cameraOptions:function gue(i){return i.orthographic?new bs(0,0,0,0,.1,1e3):new gn(75,i.size.width/i.size.height,.1,1e3)}(h),w||(h.cameraOptions&&qo(y,h.cameraOptions),h.cameraOptions?.position||(y.position.z=5),h.cameraOptions?.rotation||y.lookAt(h.lookAt??Ql(C)),y.updateProjectionMatrix()),Ze.instance(y)||(y=eS(y,()=>this.get(),this.parentStore?.get(A=>A.cameraRef))),this.get(A=>A.cameraRef).set(y)}let v=h.xr;if(!h.xr){const w=(M,S)=>{"never"!==this.get().frameloop&&u(M,!0,this.get.bind(this),S)},A=()=>{const M=this.get(S=>S.gl);M.xr.enabled=M.xr.isPresenting,M.xr.setAnimationLoop(M.xr.isPresenting?w:null),M.xr.isPresenting||d(this.get.bind(this))};v={connect:()=>{const M=this.get(S=>S.gl);M.xr.addEventListener("sessionstart",A),M.xr.addEventListener("sessionend",A)},disconnect:()=>{const M=this.get(S=>S.gl);M.xr.removeEventListener("sessionstart",A),M.xr.removeEventListener("sessionend",A)}},p.xr&&v.connect(),this.set({xr:v})}if(p.shadowMap){const w=Ze.boo(h.shadows);if(w&&p.shadowMap.enabled!==h.shadows||!Ze.equ(h.shadows,p.shadowMap,dS)){const A=p.shadowMap.enabled;p.shadowMap.enabled=!!h.shadows,w?p.shadowMap.type=2:Object.assign(p.shadowMap,h.shadows),A!==p.shadowMap.enabled&&Zl(p.shadowMap)}}Ze.supportColorManagement()&&($r.legacyMode=h.legacy);const b=h.linear?ba:nn,x=h.flat?0:4;return p.outputEncoding!==b&&(p.outputEncoding=b),p.toneMapping!==x&&(p.toneMapping=x),p.setClearAlpha(0),p.setPixelRatio(nS(h.viewport.dpr)),p.setSize(h.size.width,h.size.height),Ze.obj(h.glOptions)&&!Ze.fun(h.glOptions)&&!Ze.glRenderer(h.glOptions)&&qo(p,h.glOptions),this.set({gl:p,camera:y,scene:f,raycaster:m}),()=>{const{gl:w,xr:A,cameraRef:M,sceneRef:S,events:F}=this.get();w&&(F.disconnect&&F.disconnect(),w.renderLists.dispose(),w.forceContextLoss(),w.xr&&w.xr.enabled&&(w.xr.setAnimationLoop(null),A.disconnect()),M.complete(),S.complete(),this.set(B=>({...B,internal:{...B.internal,active:!1}})),c.delete(l))}}))),aS.set(this,this.effect(Wt(({width:l,height:c,dpr:u})=>{this.set(({viewport:d,camera:h})=>{const f={width:l,height:c};return{size:f,viewport:{...d,...d.getCurrentViewport(h,Zn(this,Sy,"f"),f),dpr:nS(u)}}})}))),lS.set(this,this.effect(Wt(()=>{const{camera:l,gl:c,ready:u,cameraOptions:d,size:h,viewport:f}=this.get();u&&(function mue(i,t,e){Ze.camera(i)||t.manual||(Ze.orthographic(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}(d,l,h),c.setPixelRatio(f.dpr),c.setSize(h.width,h.height))}))),cS.set(this,this.effect(Kn(({uuid:l,...c})=>(l&&this.set(u=>({internal:{...u.internal,animations:new Map(u.internal.animations).set(l,c),priority:u.internal.priority+((c.priority||0)>0?1:0)}})),({prev:{uuid:u}={},complete:d})=>{(u!==l||d)&&this.unregisterBeforeRender(l)})))),uS.set(this,this.effect(Wt(()=>{const l=this.get(u=>u.internal);if(!l.animations.size)return;const c=Array.from(l.animations.values());c.sort((u,d)=>(u.priority||0)-(d.priority||0)),this.set(u=>({internal:{...u.internal,subscribers:c}}))}))),this.set({ready:!1,clock:new hy,frameloop:"always",legacy:!1,linear:!1,flat:!1,orthographic:!1,shadows:!1,controls:null,pointer:Zn(this,Cy,"f"),mouse:Zn(this,Cy,"f"),sceneRef:new dd,cameraRef:new dd,events:{priority:1,enabled:!0,connected:void 0,handlers:{},compute:(l,c)=>{c.pointer.set(l.offsetX/c.size.width*2-1,-l.offsetY/c.size.height*2+1),c.raycaster.setFromCamera(c.pointer,c.camera)}},cameraOptions:{},glOptions:{},raycasterOptions:{},sceneOptions:{},pointerMissed:()=>{},internal:{active:!1,lastEvent:null,priority:0,frames:0,interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,animations:new Map},dpr:[1,2],size:{width:t,height:e},viewport:{initialDpr:r||1,dpr:r||1,width:t,height:e,aspect:t/e,distance:0,factor:0,getCurrentViewport:(l=this.get(d=>d.camera),c=Zn(this,Sy,"f"),u=this.get(d=>d.size))=>{const{width:d,height:h}=u,f=d/h;c instanceof C?Zn(this,qf,"f").copy(c):Zn(this,qf,"f").set(...c);const p=l.getWorldPosition(Zn(this,iS,"f")).distanceTo(Zn(this,qf,"f"));if(Ze.orthographic(l))return{width:d/l.zoom,height:h/l.zoom,factor:1,distance:p,aspect:f};const m=l.fov*Math.PI/180,g=2*Math.tan(m/2)*p,_=g*(d/h);return{width:_,height:g,factor:d/_,distance:p,aspect:f}}},performance:{...n,regress:()=>{this.zone.runOutsideAngular(()=>{const l=this.get(c=>c.performance);Zn(this,Yf,"f")&&clearTimeout(Zn(this,Yf,"f")),l.current!==l.min&&this.set(c=>({performance:{...c.performance,current:l.min}})),function eB(i,t,e,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?i!==t||!r:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?r.call(i,e):r?r.value=e:t.set(i,e)}(this,Yf,setTimeout(()=>this.set(c=>({performance:{...c.performance,current:this.get(u=>u.performance.max)}})),l.debounce),"f")})}},previousState:s?.get()})}init(t,e,n,r){Zn(this,$f,"m",t5).call(this,t),Zn(this,aS,"f").call(this,this.resizeResult$),Zn(this,lS,"f").call(this,Zn(this,sS,"f")),Zn(this,oS,"f").call(this,{canvasElement:t,rootStateMap:e,advance:r,invalidate:n}),Zn(this,uS,"f").call(this,this.select(this.select(s=>s.internal.animations),this.select(s=>s.internal.priority))),this.set(s=>({invalidate:()=>n(this.get.bind(this)),advance:(o,a)=>r(o,a,this.get.bind(this)),internal:{...s.internal,active:!0}})),this.set(Zn(this,rS,"f"))}onReady(t){return this.effect(Kn(t))(this.ready$)}registerBeforeRender(t){const e=Ze.object3d(t.obj)?t.obj.uuid:Ze.ref(t.obj)?t.obj.value.uuid:Wf();return Zn(this,cS,"f").call(this,{...t,uuid:e}),()=>{this.unregisterBeforeRender(e)}}unregisterBeforeRender(t){if(!t)return;const e=this.get(s=>s.internal.animations),n=e.get(t);e.delete(t)&&n&&this.set(s=>({internal:{...s.internal,animations:e,priority:s.internal.priority-((n.priority||0)>0?1:0)}}))}addInteraction(t){this.set(e=>({...e,internal:{...e.internal,interaction:[...e.internal.interaction,t]}}))}removeInteraction(t){this.set(e=>({...e,internal:{...e.internal,interaction:e.internal.interaction.filter(n=>n.uuid!==t)}}))}setFrameloop(t="always"){const e=this.get(n=>n.clock);e.stop(),e.elapsedTime=0,"never"!==t&&(e.start(),e.elapsedTime=0),this.set({frameloop:t})}setDpr(t){const e=nS(t);this.set(({viewport:n})=>({dpr:e,viewport:{...n,dpr:e,initialDpr:n.initialDpr||e}}))}ngOnDestroy(){Zn(this,$f,"m",i5).call(this),super.ngOnDestroy()}}function et(i){return null!=i&&"false"!=`${i}`}function Ie(i,t=0){return function bue(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):Ie(t)}function hS(i,t,e){const{decomposedPath:n,base:r}=function Mue(i){return i.length<1?{base:"",decomposedPath:[]}:{base:i[0],decomposedPath:i}}(t);void 0!==r&&(function xue(i,t){!Object.prototype.hasOwnProperty.call(i,t)&&Reflect&&Reflect.has&&!Reflect.has(i,t)&&(i[t]={})}(i,r),n.length<=1?qo(i,{[r]:e}):hS(i[r],n.slice(1),e))}Cy=new WeakMap,iS=new WeakMap,Sy=new WeakMap,qf=new WeakMap,rS=new WeakMap,Yf=new WeakMap,sS=new WeakMap,oS=new WeakMap,aS=new WeakMap,lS=new WeakMap,cS=new WeakMap,uS=new WeakMap,$f=new WeakSet,t5=function(t){const{handlePointer:e}=function yue(i){const t=new C;function n(c){return c.filter(u=>["move","over","enter","out","leave"].some(d=>Xr(u)?.handlers?.["pointer"+d]))}function o(c){const u=i().internal;Array.from(u.hovered.values()).forEach(d=>{if(!c.length||!c.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const f=Xr(d.eventObject),p=f?.handlers;if(u.hovered.delete(Wf(d)),f?.eventCount){const m={...d,intersections:c||[]};p.pointerout?.(m),p.pointerleave?.(m)}}})}function l(c,u){u.forEach(d=>Xr(d)?.handlers?.pointermissed?.(c))}return{handlePointer:c=>{switch(c){case"pointerleave":case"pointercancel":return()=>o([]);case"lostpointercapture":return u=>{const d=i().internal;"pointerId"in u&&!d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),o([]))}}return u=>{const{pointerMissed:d,internal:h}=i();h.lastEvent=u;const f="pointermove"===c,p="click"===c||"contextmenu"===c||"dblclick"===c,g=function r(c,u){const d=i(),h=new Set,f=[],p=u?u(d.internal.interaction):d.internal.interaction;p.forEach(g=>{const _=Xr(g)?.root();_&&(_.raycaster.camera=void 0)}),d.previousState||d.events.compute?.(c,d);let m=p.flatMap(g=>{const _=Xr(g)?.root();return _&&_.events.enabled&&null!==_.raycaster.camera?(void 0===_.raycaster.camera&&(_.events.compute?.(c,_,_.previousState),void 0===_.raycaster.camera&&(_.raycaster.camera=null)),_.raycaster.camera?_.raycaster.intersectObject(g,!0):[]):[]}).sort((g,_)=>{const y=Xr(g.object)?.root(),v=Xr(_.object)?.root();return y&&v?v.events.priority-y.events.priority||g.distance-_.distance:0}).filter(g=>{const _=Wf(g);return!h.has(_)&&(h.add(_),!0)});d.events.filter&&(m=d.events.filter(m,d));for(const g of m){let _=g.object;for(;_;)Xr(_)?.eventCount&&f.push({...g,eventObject:_}),_=_.parent}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(const g of d.internal.capturedMap.get(c.pointerId).values())f.push(g.intersection);return f}(u,f?n:void 0),_=p?function e(c){const u=i().internal,d=c.offsetX-u.initialClick[0],h=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}(u):0;"pointerdown"===c&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=g.map(y=>y.eventObject)),p&&!g.length&&_<=2&&(l(u,h.interaction),d&&d(u)),f&&o(g),function s(c,u,d,h){const{raycaster:f,pointer:p,camera:m,internal:g}=i();if(c.length){const _=t.set(p.x,p.y,0).unproject(m),y={stopped:!1};for(const v of c){const b=S=>g.capturedMap.get(S)?.has(v.eventObject)??!1,x=S=>{const F={intersection:v,target:u.target};g.capturedMap.has(S)?g.capturedMap.get(S).set(v.eventObject,F):g.capturedMap.set(S,new Map([[v.eventObject,F]])),u.target.setPointerCapture(S)},w=S=>{const F=g.capturedMap.get(S);F&&e5(g.capturedMap,v.eventObject,F,S)},A={};for(const S in u){const F=u[S];"function"!=typeof F&&(A[S]=F)}const M={...v,...A,pointer:p,intersections:c,stopped:y.stopped,delta:d,unprojectedPoint:_,ray:f.ray,camera:m,stopPropagation:()=>{const S="pointerId"in u&&g.capturedMap.get(u.pointerId);(!S||S.has(v.eventObject))&&(M.stopped=y.stopped=!0,g.hovered.size&&Array.from(g.hovered.values()).find(F=>F.eventObject===v.eventObject))&&o([...c.slice(0,c.indexOf(v)),v])},target:{hasPointerCapture:b,setPointerCapture:x,releasePointerCapture:w},currentTarget:{hasPointerCapture:b,setPointerCapture:x,releasePointerCapture:w},nativeEvent:u};if(h(M),!0===y.stopped)break}}}(g,u,_,y=>{const v=y.eventObject,b=Xr(v),x=b?.handlers;if(b?.eventCount)if(f){if(x.pointerover||x.pointerenter||x.pointerout||x.pointerleave){const w=Wf(y),A=h.hovered.get(w);A?A.stopped&&y.stopPropagation():(h.hovered.set(w,y),x.pointerover?.(y),x.pointerenter?.(y))}x.pointermove?.(y)}else{const w=x[c];w?(!p||h.initialHits.includes(v))&&(l(u,h.interaction.filter(A=>!h.initialHits.includes(A))),w(y)):p&&h.initialHits.includes(v)&&l(u,h.interaction.filter(A=>!h.initialHits.includes(A)))}})}}}}(()=>this.get());this.set(n=>({events:{...n.events,handlers:Object.keys(r5).reduce((r,s)=>(r[s]=e(s),r),{})}})),Zn(this,$f,"m",n5).call(this,t)},n5=function(t){this.set(n=>({events:{...n.events,connected:t}}));const e=this.get(n=>n.events.handlers);Object.entries(e??{}).forEach(([n,r])=>{t.addEventListener(n,r,{passive:r5[n]})})},i5=function(){const{handlers:t,connected:e}=this.get(n=>n.events);e&&Object.entries(t??{}).forEach(([n,r])=>{e instanceof HTMLElement&&e.removeEventListener(n,r)})},Js.\u0275fac=function(t){return new(t||Js)(z(mt),z(lue),z(cue),z(Js,12),z(Z3),z(ot))},Js.\u0275prov=_e({token:Js,factory:Js.\u0275fac});let Ms=(()=>{class i extends Gf{constructor(e=!1){super(),this.skipSelfStore=e,this.ready=new we,this.hasEmittedAlready=!1,this.update=new we,this.instance$=this.select(n=>n.instance).pipe(ni(n=>n.pipe(an(r=>null!=r)))),this.instanceArgs$=this.select(n=>n.instanceArgs),this.zone=Sn(ot),this.store=this.skipSelfStore?Sn(Js,{skipSelf:!0}):Sn(Js),this.document=Sn(ut),this.parentRef=rue({skipSelf:!0,optional:!0}),this.parentHostRef=sue({skipSelf:!0,optional:!0}),this.isPrimitive=!1,this.isWrapper=!1,this.isRaw=!1,this.instanceReady=this.effect(Kn(()=>{const n=this.setOptions(this.select(pue(this,this.optionFields,Ze.material(this.instanceValue)),this.setOptionsTrigger$,r=>r));return this.get(r=>r.noAttach)||this.attachToParent(),()=>{n.unsubscribe()}})),this.setOptions=this.effect(Wt(n=>{if(0!==Object.keys(n).length&&this.instanceValue){const r=this.get(),s={},{rotation:o,quaternion:a,...l}=n;o?s.rotation=r.rotation:a&&(s.quaternion=r.quaternion);for(const c of Object.keys(l))(Ze.material(this.instanceValue)?void 0!==r[c]:null!=r[c])&&(s[c]=r[c]);Ze.material(this.instanceValue)?(s.uniforms={},"uniforms"in this.instanceValue&&"uniforms"in l&&(s.uniforms={...this.instanceValue.uniforms,...l.uniforms}),this.instanceValue.setValues(s)):qo(this.instanceValue,s),this.postSetOptions(this.instanceValue),tS(this.instanceValue),this.update.observed&&this.update.emit(this.instanceValue)}})),this.attachToParent=this.effect(Uy(Y3(this.select(n=>n.attach)),Wt(([,n])=>{let r=this.__ngt__.parent;if(!r||!r.value){if(!this.parent?.value)return;this.__ngt__.parent=this.parent,r=this.parent}if("function"==typeof n){const s=n(r,this.instance);s&&(this.__ngt__.previousAttach=s)}else{const s=[...n];if(0===s.length||("material"===s[0]&&s[1]&&Ze.num(Number(s[1]))&&Ze.material(this.instanceValue)&&(Ze.arr(r.value.material)||(r.value.material=[])),("material"===s[0]||"geometry"===s[0])&&!Ze.mesh(r.value)))return;this.__ngt__.previousAttachValue=s.reduce((o,a)=>o[a],r.value),hS(r.value,s,this.instanceValue),this.__ngt__&&this.__ngt__.root().invalidate(),r.value.__ngt__&&r.value.__ngt__.root().invalidate(),this.__ngt__.previousAttach=s,this.set({attach:s})}tS(r.value),tS(this.instanceValue)}))),this.set({instance:new dd(null),instanceArgs:[],attach:[],noAttach:!1,skipParent:!1})}set ref(e){this.set({instance:e})}set skipParent(e){this.set({attachExplicit:!0,skipParent:et(e)})}get skipParent(){return this.get(e=>e.skipParent)}set noAttach(e){this.set({noAttachExplicit:!0,noAttach:et(e)})}get noAttach(){return this.get(e=>e.noAttach)}set attach(e){e&&this.set({skipParentExplicit:!0,attach:"function"==typeof e||Ze.arr(e)?e:[e]})}get attach(){return this.get(e=>e.attach)}get instance(){return this.get(e=>e.instance)}get instanceValue(){return this.isRaw?this.instance.value.valueOf():this.instance.value}get __ngt__(){return this.instance.value.__ngt__}get parent(){return this.skipParent&&this.parentHostRef?.()||this.parentRef?.()}set instanceArgs(e){this.set({instanceArgs:Ze.arr(e)?e:[e]})}get instanceArgs(){return this.get(e=>e.instanceArgs)}ngOnInit(){this.zone.runOutsideAngular(()=>{this.preInit(),this.store.onReady(()=>{this.instanceReady(this.instance$)})})}preInit(){}postInit(){}emitReady(){this.hasEmittedAlready||(this.ready.emit(this.instanceValue),this.hasEmittedAlready=!0)}prepareInstance(e,n){n&&"uuid"in e&&(e.uuid=n);const r=eS(e,()=>this.store.get(),this.parent,this.instance,this.isPrimitive);if(this.postPrepare(r),this.instance.set(r),this.emitReady(),!Ze.object3d(r)&&!this.noAttach&&!this.skipParent){const s=r.__ngt__.parent?.value?.__ngt__?.objects;s&&s.set([...s.value,this.instance])}return r}adjustCtorParams(e){return e}get ctorParams$(){return this.instanceArgs$.pipe(Je(()=>({})))}destroy(){if(this.instanceValue){if(Ze.object3d(this.instanceValue)){const n=this.parent;n&&Ze.object3d(n.value)&&function _ue(i,t){const e=i().internal;e.interaction=e.interaction.filter(n=>n!==t),e.initialHits=e.initialHits.filter(n=>n!==t),e.hovered.forEach((n,r)=>{(n.eventObject===t||n.object===t)&&e.hovered.delete(r)}),e.capturedMap.forEach((n,r)=>{e5(e.capturedMap,t,n,r)})}(this.__ngt__.root.bind(this.__ngt__),this.instanceValue),null!=this.instanceValue.clear&&this.instanceValue.clear()}else{const n=this.__ngt__.previousAttach;if(null!=n)if("function"==typeof n)n(),this.__ngt__.parent&&this.__ngt__.parent.value&&Zl(this.__ngt__.parent.value);else{const r=this.__ngt__.previousAttachValue;this.__ngt__.parent&&this.__ngt__.parent.value&&(hS(this.__ngt__.parent.value,n,r),Zl(this.__ngt__.parent.value))}}const e=this.instanceValue.dispose;e&&"function"==typeof e&&e.apply(this.instanceValue)}this.set({attach:[]}),this.instance.complete()}postPrepare(e){}get optionFields(){return{}}ngOnDestroy(){this.zone.runOutsideAngular(()=>{this.destroy()}),super.ngOnDestroy()}postSetOptions(e){}get setOptionsTrigger$(){return Ve({})}}return i.\u0275fac=function(e){return new(e||i)(D("NGT_SKIP_SELF_STORE",8))},i.\u0275dir=ue({type:i,inputs:{ref:"ref",skipParent:"skipParent",noAttach:"noAttach",attach:"attach"},outputs:{ready:"ready",update:"update"},features:[ye]}),i})();const eo=tr(Ms),[Dy,to,qwe]=Un("NgtObject ref",Qs),[Ey,Ywe,Xwe]=Un("NgtObject host ref",!0,oue),[Kwe,wue,Zwe]=Un("NgtCamera ref"),[Qwe,Cue,Jwe]=Un("NgtScene ref"),Sue=["click","contextmenu","dblclick","pointerup","pointerdown","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointermissed","pointercancel","wheel"];let Due=(()=>{class i extends Ms{constructor(){super(),this.click=new we,this.contextmenu=new we,this.dblclick=new we,this.pointerup=new we,this.pointerdown=new we,this.pointerover=new we,this.pointerout=new we,this.pointerenter=new we,this.pointerleave=new we,this.pointermove=new we,this.pointermissed=new we,this.pointercancel=new we,this.wheel=new we,this.shouldPassThroughRef=!0,this.parentRef=Dy({optional:!0,skipSelf:!0}),this.parentHostRef=Ey({optional:!0,skipSelf:!0}),this.set({name:"",position:new C,rotation:new Lw,quaternion:new zn,scale:new C(1,1,1),color:new xe,castShadow:!1,receiveShadow:!1,priority:0,visible:!0,matrixAutoUpdate:!0,appendMode:"immediate",userData:{}})}set name(e){this.set({nameExplicit:!0,name:e})}get name(){return this.get(e=>e.name)}set position(e){this.set({positionExplicit:!0,position:Ql(C,e)})}get position(){return this.get(e=>e.position)}get rotation(){return this.get(e=>e.rotation)}set rotation(e){this.set({rotationExplicit:!0,rotation:Ql(Lw,e)})}get quaternion(){return this.get(e=>e.quaternion)}set quaternion(e){this.set({quaternionExplicit:!0,quaternion:Ql(zn,e)})}get scale(){return this.get(e=>e.scale)}set scale(e){this.set({scaleExplicit:!0,scale:Ql(C,e)})}get color(){return this.get(e=>e.color)}set color(e){this.set({colorExplicit:!0,color:Ql(xe,e)})}get castShadow(){return this.get(e=>e.castShadow)}set castShadow(e){this.set({castShadowExplicit:!0,castShadow:et(e)})}get receiveShadow(){return this.get(e=>e.receiveShadow)}set receiveShadow(e){this.set({receiveShadowExplicit:!0,receiveShadow:et(e)})}get priority(){return this.get(e=>e.priority)}set priority(e){this.set({priorityExplicit:!0,priority:Ie(e)})}get visible(){return this.get(e=>e.visible)}set visible(e){this.set({visibleExplicit:!0,visible:et(e)})}get matrixAutoUpdate(){return this.get(e=>e.matrixAutoUpdate)}set matrixAutoUpdate(e){this.set({matrixAutoUpdateExplicit:!0,matrixAutoUpdate:et(e)})}get userData(){return this.get(e=>e.userData)}set userData(e){this.set({userDataExplicit:!0,userData:e})}get dispose(){return this.get(e=>e.dispose)}set dispose(e){this.set({disposeExplicit:!0,dispose:e})}get raycast(){return this.get(e=>e.raycast)}set raycast(e){this.set({raycastExplicit:!0,raycast:e})}get appendMode(){return this.get(e=>e.appendMode)}set appendMode(e){this.set({appendModeExplicit:!0,appendMode:e})}get appendTo(){return this.get(e=>e.appendTo)}set appendTo(e){this.set({appendToExplicit:!0,appendTo:e?Ze.ref(e)?e:new dd(e):void 0})}get optionFields(){return{name:!1,position:!1,rotation:!1,quaternion:!1,scale:!1,color:!1,castShadow:!1,receiveShadow:!1,visible:!1,matrixAutoUpdate:!1,userData:!1,dispose:!0,raycast:!0}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ue({type:i,inputs:{name:"name",position:"position",rotation:"rotation",quaternion:"quaternion",scale:"scale",color:"color",castShadow:"castShadow",receiveShadow:"receiveShadow",priority:"priority",visible:"visible",matrixAutoUpdate:"matrixAutoUpdate",userData:"userData",dispose:"dispose",raycast:"raycast",appendMode:"appendMode",appendTo:"appendTo"},outputs:{click:"click",contextmenu:"contextmenu",dblclick:"dblclick",pointerup:"pointerup",pointerdown:"pointerdown",pointerover:"pointerover",pointerout:"pointerout",pointerenter:"pointerenter",pointerleave:"pointerleave",pointermove:"pointermove",pointermissed:"pointermissed",pointercancel:"pointercancel",wheel:"wheel"},features:[ye]}),i})(),Yo=(()=>{class i extends Due{constructor(){super(...arguments),this.appended=new we,this.beforeRender=new we,this.animateReady=this.beforeRender,this.init=this.effect(Kn(()=>{if(this.instance.value&&this.__ngt__?this.switch():this.prepareInstance(this.objectInitFn(),this.instance?.value?.uuid),this.instance.value){this.postInit&&this.postInit();const e=Sue.reduce((n,r)=>{const s=this[r].observed?this[r]:null;return s&&(n.handlers[r]=this.eventNameToHandler(s),n.eventCount+=1),n},{handlers:{},eventCount:0});qo(this.__ngt__,{handlers:e.handlers,eventCount:e.eventCount}),e.eventCount>0&&this.store.addInteraction(this.instance.value),Ze.object3d(this.instance.value)&&this.appendToParent(),this.beforeRender.observed&&this.store.registerBeforeRender({obj:this.instance,callback:n=>{this.beforeRender.emit({state:n,object:this.instance.value})},priority:this.get(n=>n.priority)})}return()=>{this.destroy()}}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.preObjectInit?this.preObjectInit(()=>this.init(this.instanceArgs$)):this.init(this.instanceArgs$)})})}get preObjectInit(){}destroy(){this.instance.value&&(this.store.unregisterBeforeRender(this.instance.value.uuid),this.__ngt__.eventCount>0&&this.store.removeInteraction(this.instance.value.uuid),this.remove()),super.destroy()}appendToParent(){const e=()=>{const r=this.get(o=>o.appendTo);if(r&&r.value)return r.value.add(this.instance.value),void this.appended.emit(this.instance.value);const s=this.get(o=>o.appendMode);if("none"!==s){if("root"===s)return this.addToScene(),void this.appended.emit(this.instance.value);"immediate"===s&&(this.addToParent(),this.appended.emit(this.instance.value))}},n=this.store.get(r=>r.gl);n.xr.enabled?n.xr.getSession()?.requestAnimationFrame(e):requestAnimationFrame(e)}addToScene(){const e=this.store.get(n=>n.scene);e&&e.add(this.instance.value)}addToParent(){let e=this.parent;this.shouldUseParent(e)?e.value.add(this.instance.value):(e=this.parentHostRef?.(),this.shouldUseParent(e)?e.value.add(this.instance.value):this.addToScene())}shouldUseParent(e){return e&&e.value&&e.value.uuid!==this.instance.value.uuid}remove(){const{appendMode:e,appendTo:n}=this.get();if(n&&n.value)n.value.remove(this.instance.value);else if(this.shouldUseParent(this.parent)&&"immediate"===e)this.parent.value.remove(this.instance.value);else{const r=this.store.get(s=>s.scene);r&&r.remove(this.instance.value)}}switch(){const e=this.objectInitFn();this.instance.value.children&&(this.instance.value.traverse(n=>{n!==this.instance.value&&n.parent===this.instance.value&&(n.parent=e)}),this.instance.value.children=[]),this.__ngt__.eventCount>0&&this.store.removeInteraction(this.instance.value.uuid),this.remove(),this.prepareInstance(e)}eventNameToHandler(e){return n=>{this.zone.run(()=>{e.emit(n)})}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,outputs:{appended:"appended",beforeRender:"beforeRender",animateReady:"animateReady"},features:[ye]}),i})();const Xo=tr(Yo,eo);let s5=(()=>{class i extends Yo{set material(e){this.set({material:e})}set geometry(e){this.set({geometry:e})}set morphTargetInfluences(e){this.set({morphTargetInfluences:e})}set morphTargetDictionary(e){this.set({morphTargetDictionary:e})}objectInitFn(){const e=this.get(),n=this.argsKeys.reduce((s,o)=>(s.push(e[o]),s),[]),r=new this.objectType(Ze.ref(e.geometry)?e.geometry.value:e.geometry,Ze.arr(e.material)?e.material.map(s=>Ze.ref(s)?s.value:s):Ze.ref(e.material)?e.material.value:e.material,...n);return e.morphTargetDictionary&&"morphTargetDictionary"in r&&(r.morphTargetDictionary=e.morphTargetDictionary),e.morphTargetInfluences&&"morphTargetInfluences"in r&&(r.morphTargetInfluences=e.morphTargetInfluences),r}get argsKeys(){return[]}get optionFields(){return{...super.optionFields,material:!0,geometry:!0,morphTargetInfluences:!0,morphTargetDictionary:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{material:"material",geometry:"geometry",morphTargetInfluences:"morphTargetInfluences",morphTargetDictionary:"morphTargetDictionary"},features:[ye]}),i})(),Tue=(()=>{class i{constructor(){this.cached=new Map}use(e,n,r,s){const o=Ze.arr(n)?n:[n],a=new e;r&&r(a);const l=o.map(c=>(this.cached.has(c)||this.cached.set(c,jn(a.loadAsync(c,s)).pipe(Wt(u=>{u.scene&&Object.assign(u,function Eue(i){const t={nodes:{},materials:{}};return i&&i.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(u.scene))}),function Qce(i=1/0){let t;t=i&&"object"==typeof i?i:{count:i};const{count:e=1/0,delay:n,resetOnSuccess:r=!1}=t;return e<=0?xs:bn((s,o)=>{let l,a=0;const c=()=>{let u=!1;l=s.subscribe(sn(o,d=>{r&&(a=0),o.next(d)},void 0,d=>{if(a++<e){const h=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(null!=n){const f="number"==typeof n?Wh(n):Ti(n(d,a)),p=sn(o,()=>{p.unsubscribe(),h()},()=>{o.complete()});f.subscribe(p)}else h()}else o.error(d)})),u&&(l.unsubscribe(),l=null,c())};c()})}({count:2}),Ls(u=>(console.error(`Error loading ${c}: ${u.message}`),Ve(null))),ic({connector:()=>new ud,resetOnComplete:!0,resetOnRefCountZero:!0,resetOnError:!0}))),this.cached.get(c)));return nx(l).pipe(Je(c=>Ze.arr(n)?c:c[0]))}destroy(){this.cached.clear()}ngOnDestroy(){this.destroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ty=new Set,Py=new Set,fS=new Set;function Xf(i,t){i.forEach(({callback:e})=>e(t))}function mS(i,t,e){const n=t();let r=n.clock.getDelta();"never"===n.frameloop&&"number"==typeof i&&(r=i-n.clock.elapsedTime,n.clock.oldTime=n.clock.elapsedTime,n.clock.elapsedTime=i);for(const s of n.internal.subscribers){const o=Ze.ref(s.obj)?s.obj.value:s.obj;s.callback({...n,delta:r,frame:e},o)}return!n.internal.priority&&n.gl.render&&n.gl.render(n.scene,n.camera),n.internal.frames=Math.max(0,n.internal.frames-1),"always"===n.frameloop?1:n.internal.frames}const gS=new Map,{invalidate:Aue,advance:Iue}=function Pue(i){let e,n,r,t=!1;function s(l){if(n=requestAnimationFrame(s),t=!0,e=0,Ty.size&&Xf(Ty,l),i.forEach(c=>{r=c(),r.internal.active&&("always"===r.frameloop||r.internal.frames>0)&&!r.gl.xr?.isPresenting&&(e+=mS(l,c))}),Py.size&&Xf(Py,l),0===e)return fS.size&&Xf(fS,l),t=!1,cancelAnimationFrame(n)}return{loop:s,invalidate:function o(l,c=1){const u=l?.();if(!u)return i.forEach(d=>o(d,c));u.gl.xr?.isPresenting||!u.internal.active||"never"===u.frameloop||(u.internal.frames=Math.min(60,u.internal.frames+c),t||(t=!0,requestAnimationFrame(s)))},advance:function a(l,c=!0,u,d){c&&Xf(Ty,l),u?mS(l,u,d):i.forEach(h=>mS(l,h)),c&&Xf(Py,l)}}}(gS);let Oue=(()=>{class i extends Gf{constructor(){super(...arguments),this.hostClass=!0,this._initialLog=!1,this._projectContent=!1,this.created=new we,this.pointermissed=new we,this.zone=Sn(ot),this.store=Sn(Js),this.loader=Sn(Tue)}set linear(e){this.store.set({linear:et(e)})}set legacy(e){this.store.set({legacy:et(e)})}set flat(e){this.store.set({flat:et(e)})}set frameloop(e){this.store.setFrameloop(e)}set orthographic(e){this.store.set({orthographic:et(e)})}set dpr(e){this.store.setDpr(e)}set raycaster(e){this.store.set({raycasterOptions:e})}set shadows(e){this.store.set({shadows:"object"==typeof e?e:et(e)})}set camera(e){this.store.set({cameraOptions:e})}get cameraRef(){return this.store.get(e=>e.cameraRef)}set lookAt(e){this.store.set({lookAt:Ql(C,e)})}set scene(e){this.store.set({sceneOptions:e})}get sceneRef(){return this.store.get(e=>e.sceneRef)}set gl(e){this.store.set({glOptions:e})}get initialLog(){return this._initialLog}set initialLog(e){this._initialLog=et(e)}get projectContent(){return this._projectContent}set projectContent(e){this._projectContent=et(e)}ngOnInit(){this.zone.runOutsideAngular(()=>{this.pointermissed.observed&&this.store.set({pointerMissed:e=>{this.pointermissed.emit(e)}}),gS.set(this.rendererCanvas.nativeElement,()=>this.store.get()),this.store.init(this.rendererCanvas.nativeElement,gS,Aue,Iue),this.store.onReady(()=>{const e=this.store.get();this.created.emit(e),this.initialLog&&(console.group("[NgtCanvas] Initialized"),console.log(e),console.groupEnd()),this.store.startLoop(this.store.select())})})}ngOnDestroy(){super.ngOnDestroy(),this.loader.destroy()}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-canvas"]],viewQuery:function(e,n){if(1&e&&mn(Jce,7),2&e){let r;We(r=$e())&&(n.rendererCanvas=r.first)}},hostVars:2,hostBindings:function(e,n){2&e&&vn("ngt-canvas",n.hostClass)},inputs:{linear:"linear",legacy:"legacy",flat:"flat",frameloop:"frameloop",orthographic:"orthographic",dpr:"dpr",raycaster:"raycaster",shadows:"shadows",camera:"camera",lookAt:"lookAt",scene:"scene",gl:"gl",initialLog:"initialLog",projectContent:"projectContent"},outputs:{created:"created",pointermissed:"pointermissed"},standalone:!0,features:[nt([Js,Z3,to(i,t=>t.sceneRef),Cue(i,t=>t.sceneRef),wue(i,t=>t.cameraRef)]),ye,wi],ngContentSelectors:nue,decls:5,vars:1,consts:[["rendererCanvas",""],[3,"ngTemplateOutlet",4,"ngIf"],["contentTemplate",""],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(jt(),qe(0,"canvas",null,0),be(2,eue,1,1,"ng-container",1),be(3,tue,1,0,"ng-template",null,2,ia)),2&e&&(W(2),Y("ngIf",n.projectContent))},dependencies:[Bn,Cm],styles:["[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),i})(),Rue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Oue]}),i})();const[iCe,rCe,sCe]=Un("NgtCommonAttribute ref",Qs),[oCe,aCe,lCe]=Un("NgtCommonAudio ref",to),[cCe,o5,uCe]=Un("NgtCommonCamera ref",to),[dCe,hCe,fCe]=Un("NgtCommonCurve ref",Qs),[pCe,Nue,mCe]=Un("NgtCommonGeometry ref",Qs),[gCe,_Ce,yCe]=Un("NgtCommonHelper ref",to),[vCe,bCe,MCe]=Un("NgtCommonObjectHelper ref",Qs),[xCe,,wCe]=Uf("isWebGLAvailable",{defaultValueOrFactory:()=>{const i=Sn(ut),t=JC();try{const e=i.createElement("canvas");return!(!t.WebGL2RenderingContext||!e.getContext("webgl2"))}catch{return!1}}}),[CCe,_S,SCe]=Un("NgtCommonLight ref",to),[DCe,ECe,TCe]=Un("NgtCommonLine ref",to),[PCe,a5,ACe]=Un("NgtCommonMaterial ref",Qs),[ICe,kue,OCe]=Un("NgtCommonMesh ref",to),[RCe,NCe,kCe]=Un("NgtSkinnedMesh host ref",!0),[FCe,LCe,BCe]=Un("NgtSkeleton host ref",!0),[VCe,zCe,HCe]=Un("NgtBone host ref",!0),[UCe,GCe,jCe]=Un("NgtCommonSprite ref",to),[WCe,$Ce,qCe]=Un("NgtCommonTexture ref",Qs);tr((()=>{class i extends Ms{constructor(){super(...arguments),this.init=this.effect(Kn(e=>{this.prepareInstance(new this.attributeType(...e))}))}set args(e){this.instanceArgs=e}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{const e=this.init(this.instanceArgs$);return this.postInit(),()=>{e&&e.unsubscribe&&e.unsubscribe()}})})}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args"},features:[ye]}),i})(),eo),tr((()=>{class i extends Yo{set listener(e){this.set({listener:e})}set buffer(e){this.set({buffer:e})}set detune(e){this.set({detune:Ie(e)})}set loop(e){this.set({loop:et(e)})}set loopStart(e){this.set({loopStart:Ie(e)})}set loopEnd(e){this.set({loopEnd:Ie(e)})}set offset(e){this.set({offset:Ie(e)})}set playbackRate(e){this.set({playbackRate:Ie(e)})}set isPlaying(e){this.set({isPlaying:et(e)})}set hasPlaybackControl(e){this.set({hasPlaybackControl:et(e)})}set sourceType(e){this.set({sourceType:e})}set source(e){this.set({source:e})}set filters(e){this.set({filters:e})}set duration(e){this.set({duration:Ie(e)})}set autoplay(e){this.set({autoplay:et(e)})}objectInitFn(){const{listener:e}=this.get();if(!e)throw new Error(`[NgtCommonAudio] Cannot initialize ${this.audioType} without "THREE.AudioListener"`);return new this.audioType(e)}preInit(){this.set(e=>({buffer:e.buffer||null,detune:e.detune||0,loop:e.loop||!1,loopStart:e.loopStart||0,loopEnd:e.loopEnd||0,offset:e.offset||0,duration:e.duration||void 0,playbackRate:e.playbackRate||1,isPlaying:e.isPlaying||!1,hasPlaybackControl:e.hasPlaybackControl||!0,sourceType:e.sourceType||"empty",source:e.source||null,filters:e.filters||[]}))}get preObjectInit(){return e=>{this.effect(Kn(()=>{e()}))(this.select(n=>n.listener))}}get optionFields(){return{...super.optionFields,autoplay:!0,buffer:!1,detune:!1,loop:!1,loopStart:!1,loopEnd:!1,offset:!1,duration:!0,playbackRate:!1,isPlaying:!1,hasPlaybackControl:!1,sourceType:!1,source:!1,filters:!1}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{listener:"listener",buffer:"buffer",detune:"detune",loop:"loop",loopStart:"loopStart",loopEnd:"loopEnd",offset:"offset",playbackRate:"playbackRate",isPlaying:"isPlaying",hasPlaybackControl:"hasPlaybackControl",sourceType:"sourceType",source:"source",filters:"filters",duration:"duration",autoplay:"autoplay"},features:[ye]}),i})(),Xo);let yS=(()=>{class i extends Yo{set args(e){this.instanceArgs=e}objectInitFn(){const e=this.get(n=>n.instanceArgs);return new this.cameraType(...e)}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args"},features:[ye]}),i})();const l5=tr(yS,Xo);tr((()=>{class i extends Ms{constructor(){super(...arguments),this.init=this.effect(Kn(e=>{this.prepareInstance(new this.curveType(...e))}))}set args(e){this.instanceArgs=e}set arcLengthDivisions(e){this.set({arcLengthDivisions:Ie(e)})}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.instanceArgs$),this.postInit()})})}postPrepare(e){const n=this.get(r=>r.arcLengthDivisions);null!=n&&(e.arcLengthDivisions=n)}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args",arcLengthDivisions:"arcLengthDivisions"},features:[ye]}),i})(),eo);let c5=(()=>{class i extends Ms{constructor(){super(...arguments),this.parentRef=Dy({optional:!0,skipSelf:!0}),this.parentHostRef=Ey({optional:!0,skipSelf:!0}),this.init=this.effect(Kn(()=>{const e=this.get(s=>s.instanceArgs),n=this.adjustCtorParams(e),r=this.prepareInstance(new this.geometryType(...n));return()=>{r.dispose()}}))}set args(e){this.instanceArgs=e}preInit(){this.set(e=>({attach:e.attach.length?e.attach:["geometry"]}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.ctorParams$),this.postInit()})})}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args"},features:[ye]}),i})();const Fue=tr(c5,eo);tr((()=>{class i extends Yo{set args(e){this.instanceArgs=e}objectInitFn(){const e=this.get(n=>n.instanceArgs);return new this.helperType(...e)}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args"},features:[ye]}),i})(),Xo);let Ay=(()=>{class i extends Yo{set args(e){this.instanceArgs=e}set intensity(e){this.set({intensity:Ie(e)})}objectInitFn(){const{intensity:e,instanceArgs:n}=this.get(),r=new this.lightType(...n);return null!=e&&(r.intensity=e),r}get preObjectInit(){return e=>{this.set(n=>({intensity:n.intensity??1})),e()}}get optionFields(){return{...super.optionFields,intensity:!1}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args",intensity:"intensity"},features:[ye]}),i})();const vS=tr(Ay,Xo);tr((()=>{class i extends s5{get objectType(){return this.lineType}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,features:[ye]}),i})(),Xo);let bS=(()=>{class i extends Ms{constructor(){super(...arguments),this.parentRef=Dy({optional:!0,skipSelf:!0}),this.parentHostRef=Ey({optional:!0,skipSelf:!0}),this.init=this.effect(Kn(()=>{const e=this.prepareInstance(new this.materialType);return()=>{e.dispose()}}))}set alphaTest(e){this.set({alphaTest:Ie(e)})}set alphaToCoverage(e){this.set({alphaToCoverage:et(e)})}set blendDst(e){this.set({blendDst:e})}set blendDstAlpha(e){this.set({blendDstAlpha:Ie(e)})}set blendEquation(e){this.set({blendEquation:e})}set blendEquationAlpha(e){this.set({blendEquationAlpha:Ie(e)})}set blending(e){this.set({blending:e})}set blendSrc(e){this.set({blendSrc:e})}set blendSrcAlpha(e){this.set({blendSrcAlpha:Ie(e)})}set clipIntersection(e){this.set({clipIntersection:et(e)})}set clippingPlanes(e){this.set({clippingPlanes:e})}set clipShadows(e){this.set({clipShadows:et(e)})}set colorWrite(e){this.set({colorWrite:et(e)})}set defines(e){this.set({defines:e})}set depthFunc(e){this.set({depthFunc:e})}set depthTest(e){this.set({depthTest:et(e)})}set depthWrite(e){this.set({depthWrite:et(e)})}set name(e){this.set({name:e})}set opacity(e){this.set({opacity:Ie(e)})}set polygonOffset(e){this.set({polygonOffset:et(e)})}set polygonOffsetFactor(e){this.set({polygonOffsetFactor:Ie(e)})}set polygonOffsetUnits(e){this.set({polygonOffsetUnits:Ie(e)})}set precision(e){this.set({precision:e})}set premultipliedAlpha(e){this.set({premultipliedAlpha:et(e)})}set dithering(e){this.set({dithering:et(e)})}set side(e){this.set({side:e})}set shadowSide(e){this.set({shadowSide:e})}set toneMapped(e){this.set({toneMapped:et(e)})}set transparent(e){this.set({transparent:et(e)})}set vertexColors(e){this.set({vertexColors:et(e)})}set visible(e){this.set({visible:et(e)})}set format(e){this.set({format:e})}set stencilWrite(e){this.set({stencilWrite:et(e)})}set stencilFunc(e){this.set({stencilFunc:e})}set stencilRef(e){this.set({stencilRef:Ie(e)})}set stencilWriteMask(e){this.set({stencilWriteMask:Ie(e)})}set stencilFuncMask(e){this.set({stencilFuncMask:Ie(e)})}set stencilFail(e){this.set({stencilFail:e})}set stencilZFail(e){this.set({stencilZFail:e})}set stencilZPass(e){this.set({stencilZPass:e})}set userData(e){this.set({userData:e})}preInit(){this.set(e=>({attach:e.attach.length?e.attach:["material"]}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.ctorParams$),this.postInit()})})}get optionFields(){return{...super.optionFields,alphaTest:!0,alphaToCoverage:!0,blendDst:!0,blendDstAlpha:!0,blendEquation:!0,blendEquationAlpha:!0,blending:!0,blendSrc:!0,blendSrcAlpha:!0,clipIntersection:!0,clippingPlanes:!0,clipShadows:!0,colorWrite:!0,defines:!0,depthFunc:!0,depthTest:!0,depthWrite:!0,fog:!0,name:!0,opacity:!0,polygonOffset:!0,polygonOffsetFactor:!0,polygonOffsetUnits:!0,precision:!0,premultipliedAlpha:!0,dithering:!0,side:!0,shadowSide:!0,toneMapped:!0,transparent:!0,vertexColors:!0,visible:!0,format:!0,stencilWrite:!0,stencilFunc:!0,stencilRef:!0,stencilWriteMask:!0,stencilFuncMask:!0,stencilFail:!0,stencilZFail:!0,stencilZPass:!0,userData:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{alphaTest:"alphaTest",alphaToCoverage:"alphaToCoverage",blendDst:"blendDst",blendDstAlpha:"blendDstAlpha",blendEquation:"blendEquation",blendEquationAlpha:"blendEquationAlpha",blending:"blending",blendSrc:"blendSrc",blendSrcAlpha:"blendSrcAlpha",clipIntersection:"clipIntersection",clippingPlanes:"clippingPlanes",clipShadows:"clipShadows",colorWrite:"colorWrite",defines:"defines",depthFunc:"depthFunc",depthTest:"depthTest",depthWrite:"depthWrite",name:"name",opacity:"opacity",polygonOffset:"polygonOffset",polygonOffsetFactor:"polygonOffsetFactor",polygonOffsetUnits:"polygonOffsetUnits",precision:"precision",premultipliedAlpha:"premultipliedAlpha",dithering:"dithering",side:"side",shadowSide:"shadowSide",toneMapped:"toneMapped",transparent:"transparent",vertexColors:"vertexColors",visible:"visible",format:"format",stencilWrite:"stencilWrite",stencilFunc:"stencilFunc",stencilRef:"stencilRef",stencilWriteMask:"stencilWriteMask",stencilFuncMask:"stencilFuncMask",stencilFail:"stencilFail",stencilZFail:"stencilZFail",stencilZPass:"stencilZPass",userData:"userData"},features:[ye]}),i})();const u5=tr(bS,eo);let d5=(()=>{class i extends s5{get objectType(){return this.meshType}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,features:[ye]}),i})();const Lue=tr(d5,Xo);tr((()=>{class i extends Ms{constructor(){super(...arguments),this.parentRef=Dy({optional:!0}),this.parentHostRef=Ey({optional:!0}),this.init=this.effect(Kn(e=>{if(!this.parent||!this.parent.value)return void console.info("Parent is not an object3d");const n=this.prepareInstance(new this.objectHelperType(this.parent.value,...e)),r=this.store.get(s=>s.scene);if(n&&r){r.add(n);const s=this.store.registerBeforeRender({callback:()=>{n&&n.update()},obj:this.instance});return()=>{n&&r&&(r.remove(n),s())}}}))}set helperVisible(e){this.set({visible:et(e)})}preInit(){super.preInit(),this.set(e=>({visible:e.visible??!0}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.instanceArgs$),this.postInit()})})}get optionFields(){return{...super.optionFields,visible:!1}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{helperVisible:"helperVisible"},features:[ye]}),i})(),eo),tr((()=>{class i extends Yo{set args(e){this.instanceArgs=e}set material(e){this.set({material:e})}objectInitFn(){const{material:e}=this.get();return new this.spriteType(e)}get optionFields(){return{...super.optionFields,material:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args",material:"material"},features:[ye]}),i})(),Xo),tr((()=>{class i extends Ms{constructor(){super(...arguments),this.init=this.effect(Kn(()=>{const e=this.store.get(o=>o.gl),n=this.get(o=>o.instanceArgs),r=this.adjustCtorParams(n),s=this.prepareInstance(new this.textureType(...r));return s.encoding=e.outputEncoding,Zl(s),()=>{s.dispose()}}))}set args(e){this.instanceArgs=e}set image(e){this.set({image:e})}set mapping(e){this.set({mapping:e})}set wrapS(e){this.set({wrapS:e})}set wrapT(e){this.set({wrapT:e})}set magFilter(e){this.set({magFilter:e})}set minFilter(e){this.set({minFilter:e})}set format(e){this.set({format:e})}set type(e){this.set({type:e})}set anisotropy(e){this.set({anisotropy:Ie(e)})}set encoding(e){this.set({encoding:e})}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.ctorParams$),this.postInit()})})}get optionFields(){return{...super.optionFields,image:!0,mapping:!0,wrapS:!0,wrapT:!0,magFilter:!0,minFilter:!0,format:!0,type:!0,anisotropy:!0,encoding:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275dir=ue({type:i,inputs:{args:"args",image:"image",mapping:"mapping",wrapS:"wrapS",wrapT:"wrapT",magFilter:"magFilter",minFilter:"minFilter",format:"format",type:"type",anisotropy:"anisotropy",encoding:"encoding"},features:[ye]}),i})(),eo);const MS=["*"];let Bue=(()=>{class i extends Ay{get lightType(){return q2}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-ambient-light"]],standalone:!0,features:[nt([vS(i),_S(i)]),ye,wi],ngContentSelectors:MS,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Vue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Bue]}),i})(),zue=(()=>{class i extends Ay{set distance(e){this.set({distance:Ie(e)})}set decay(e){this.set({decay:Ie(e)})}set power(e){this.set({power:Ie(e)})}get lightType(){return Ff}get optionFields(){return{...super.optionFields,distance:!0,decay:!0,power:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-point-light"]],inputs:{distance:"distance",decay:"decay",power:"power"},standalone:!0,features:[nt([vS(i),_S(i)]),ye,wi],ngContentSelectors:MS,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Hue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[zue]}),i})(),Uue=(()=>{class i extends Ay{set distance(e){this.set({distance:Ie(e)})}set angle(e){this.set({angle:Ie(e)})}set penumbra(e){this.set({penumbra:Ie(e)})}set decay(e){this.set({decay:Ie(e)})}set target(e){this.set({target:e})}set power(e){this.set({power:Ie(e)})}get lightType(){return DC}get optionFields(){return{...super.optionFields,distance:!0,angle:!0,penumbra:!0,decay:!0,target:!0,power:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-spot-light"]],inputs:{distance:"distance",angle:"angle",penumbra:"penumbra",decay:"decay",target:"target",power:"power"},standalone:!0,features:[nt([vS(i),_S(i)]),ye,wi],ngContentSelectors:MS,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Gue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Uue]}),i})();const jue=["*"];let Wue=(()=>{class i extends d5{get meshType(){return li}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-mesh"]],standalone:!0,features:[nt([Lue(i),kue(i)]),ye,wi],ngContentSelectors:jue,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),$ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Wue]}),i})();const que=["*"];let Yue=(()=>{class i extends c5{get geometryType(){return Ho}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-box-geometry"]],standalone:!0,features:[nt([Fue(i),Nue(i)]),ye,wi],ngContentSelectors:que,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Xue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Yue]}),i})();const h5=["*"];let Kue=(()=>{class i extends bS{set color(e){this.set({color:e})}set roughness(e){this.set({roughness:Ie(e)})}set metalness(e){this.set({metalness:Ie(e)})}set map(e){this.set({map:e})}set lightMap(e){this.set({lightMap:e})}set lightMapIntensity(e){this.set({lightMapIntensity:Ie(e)})}set aoMap(e){this.set({aoMap:e})}set aoMapIntensity(e){this.set({aoMapIntensity:Ie(e)})}set emissive(e){this.set({emissive:e})}set emissiveIntensity(e){this.set({emissiveIntensity:Ie(e)})}set emissiveMap(e){this.set({emissiveMap:e})}set bumpMap(e){this.set({bumpMap:e})}set bumpScale(e){this.set({bumpScale:Ie(e)})}set normalMap(e){this.set({normalMap:e})}set normalMapType(e){this.set({normalMapType:e})}set normalScale(e){this.set({normalScale:e})}set displacementMap(e){this.set({displacementMap:e})}set displacementScale(e){this.set({displacementScale:Ie(e)})}set displacementBias(e){this.set({displacementBias:Ie(e)})}set roughnessMap(e){this.set({roughnessMap:e})}set metalnessMap(e){this.set({metalnessMap:e})}set alphaMap(e){this.set({alphaMap:e})}set envMap(e){this.set({envMap:e})}set envMapIntensity(e){this.set({envMapIntensity:Ie(e)})}set wireframe(e){this.set({wireframe:et(e)})}set wireframeLinewidth(e){this.set({wireframeLinewidth:Ie(e)})}set fog(e){this.set({fog:et(e)})}set flatShading(e){this.set({flatShading:et(e)})}get materialType(){return Ia}get optionFields(){return{...super.optionFields,color:!0,roughness:!0,metalness:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,emissive:!0,emissiveIntensity:!0,emissiveMap:!0,bumpMap:!0,bumpScale:!0,normalMap:!0,normalMapType:!0,normalScale:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,roughnessMap:!0,metalnessMap:!0,alphaMap:!0,envMap:!0,envMapIntensity:!0,wireframe:!0,wireframeLinewidth:!0,fog:!0,flatShading:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-mesh-standard-material"]],inputs:{color:"color",roughness:"roughness",metalness:"metalness",map:"map",lightMap:"lightMap",lightMapIntensity:"lightMapIntensity",aoMap:"aoMap",aoMapIntensity:"aoMapIntensity",emissive:"emissive",emissiveIntensity:"emissiveIntensity",emissiveMap:"emissiveMap",bumpMap:"bumpMap",bumpScale:"bumpScale",normalMap:"normalMap",normalMapType:"normalMapType",normalScale:"normalScale",displacementMap:"displacementMap",displacementScale:"displacementScale",displacementBias:"displacementBias",roughnessMap:"roughnessMap",metalnessMap:"metalnessMap",alphaMap:"alphaMap",envMap:"envMap",envMapIntensity:"envMapIntensity",wireframe:"wireframe",wireframeLinewidth:"wireframeLinewidth",fog:"fog",flatShading:"flatShading"},standalone:!0,features:[nt([u5(i),a5(i)]),ye,wi],ngContentSelectors:h5,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Zue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Kue]}),i})(),Que=(()=>{class i extends bS{set color(e){this.set({color:e})}set opacity(e){this.set({opacity:Ie(e)})}set map(e){this.set({map:e})}set lightMap(e){this.set({lightMap:e})}set lightMapIntensity(e){this.set({lightMapIntensity:Ie(e)})}set aoMap(e){this.set({aoMap:e})}set aoMapIntensity(e){this.set({aoMapIntensity:Ie(e)})}set specularMap(e){this.set({specularMap:e})}set alphaMap(e){this.set({alphaMap:e})}set fog(e){this.set({fog:et(e)})}set envMap(e){this.set({envMap:e})}set combine(e){this.set({combine:e})}set reflectivity(e){this.set({reflectivity:Ie(e)})}set refractionRatio(e){this.set({refractionRatio:Ie(e)})}set wireframe(e){this.set({wireframe:et(e)})}set wireframeLinewidth(e){this.set({wireframeLinewidth:Ie(e)})}set wireframeLinecap(e){this.set({wireframeLinecap:e})}set wireframeLinejoin(e){this.set({wireframeLinejoin:e})}get materialType(){return hr}get optionFields(){return{...super.optionFields,color:!0,opacity:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,specularMap:!0,alphaMap:!0,fog:!0,envMap:!0,combine:!0,reflectivity:!0,refractionRatio:!0,wireframe:!0,wireframeLinewidth:!0,wireframeLinecap:!0,wireframeLinejoin:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-mesh-basic-material"]],inputs:{color:"color",opacity:"opacity",map:"map",lightMap:"lightMap",lightMapIntensity:"lightMapIntensity",aoMap:"aoMap",aoMapIntensity:"aoMapIntensity",specularMap:"specularMap",alphaMap:"alphaMap",fog:"fog",envMap:"envMap",combine:"combine",reflectivity:"reflectivity",refractionRatio:"refractionRatio",wireframe:"wireframe",wireframeLinewidth:"wireframeLinewidth",wireframeLinecap:"wireframeLinecap",wireframeLinejoin:"wireframeLinejoin"},standalone:!0,features:[nt([u5(i),a5(i)]),ye,wi],ngContentSelectors:h5,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Jue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Que]}),i})();function ae(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}const f5=(i,t)=>(i%t+t)%t;class ede extends qs{constructor(t,e){super(),ae(this,"object",void 0),ae(this,"domElement",void 0),ae(this,"enabled",!0),ae(this,"target",new C),ae(this,"minDistance",0),ae(this,"maxDistance",1/0),ae(this,"minZoom",0),ae(this,"maxZoom",1/0),ae(this,"minPolarAngle",0),ae(this,"maxPolarAngle",Math.PI),ae(this,"minAzimuthAngle",-1/0),ae(this,"maxAzimuthAngle",1/0),ae(this,"enableDamping",!1),ae(this,"dampingFactor",.05),ae(this,"enableZoom",!0),ae(this,"zoomSpeed",1),ae(this,"enableRotate",!0),ae(this,"rotateSpeed",1),ae(this,"enablePan",!0),ae(this,"panSpeed",1),ae(this,"screenSpacePanning",!0),ae(this,"keyPanSpeed",7),ae(this,"autoRotate",!1),ae(this,"autoRotateSpeed",2),ae(this,"reverseOrbit",!1),ae(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ae(this,"mouseButtons",{LEFT:0,MIDDLE:1,RIGHT:2}),ae(this,"touches",{ONE:0,TWO:2}),ae(this,"target0",void 0),ae(this,"position0",void 0),ae(this,"zoom0",void 0),ae(this,"_domElementKeyEvents",null),ae(this,"getPolarAngle",void 0),ae(this,"getAzimuthalAngle",void 0),ae(this,"setPolarAngle",void 0),ae(this,"setAzimuthalAngle",void 0),ae(this,"getDistance",void 0),ae(this,"listenToKeyEvents",void 0),ae(this,"saveState",void 0),ae(this,"reset",void 0),ae(this,"update",void 0),ae(this,"connect",void 0),ae(this,"dispose",void 0),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof gn?this.object.zoom:1,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=R=>{let T=f5(R,2*Math.PI),ee=u.phi;ee<0&&(ee+=2*Math.PI),T<0&&(T+=2*Math.PI);let oe=Math.abs(T-ee);2*Math.PI-oe<oe&&(T<ee?T+=2*Math.PI:ee+=2*Math.PI),d.phi=T-ee,n.update()},this.setAzimuthalAngle=R=>{let T=f5(R,2*Math.PI),ee=u.theta;ee<0&&(ee+=2*Math.PI),T<0&&(T+=2*Math.PI);let oe=Math.abs(T-ee);2*Math.PI-oe<oe&&(T<ee?T+=2*Math.PI:ee+=2*Math.PI),d.theta=T-ee,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=R=>{R.addEventListener("keydown",Z),this._domElementKeyEvents=R},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object instanceof gn?n.object.zoom:1},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object instanceof gn&&(n.object.zoom=n.zoom0,n.object.updateProjectionMatrix()),n.dispatchEvent(r),n.update(),l=a.NONE},this.update=(()=>{const R=new C,T=(new zn).setFromUnitVectors(t.up,new C(0,1,0)),ee=T.clone().invert(),oe=new C,ze=new zn,Pe=2*Math.PI;return function(){const Te=n.object.position;R.copy(Te).sub(n.target),R.applyQuaternion(T),u.setFromVector3(R),n.autoRotate&&l===a.NONE&&J(function F(){return 2*Math.PI/60/60*n.autoRotateSpeed}()),n.enableDamping?(u.theta+=d.theta*n.dampingFactor,u.phi+=d.phi*n.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let st=n.minAzimuthAngle,Ot=n.maxAzimuthAngle;return isFinite(st)&&isFinite(Ot)&&(st<-Math.PI?st+=Pe:st>Math.PI&&(st-=Pe),Ot<-Math.PI?Ot+=Pe:Ot>Math.PI&&(Ot-=Pe),u.theta=st<=Ot?Math.max(st,Math.min(Ot,u.theta)):u.theta>(st+Ot)/2?Math.max(st,u.theta):Math.min(Ot,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),R.setFromSpherical(u),R.applyQuaternion(ee),Te.copy(n.target).add(R),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),f.set(0,0,0)),h=1,!!(p||oe.distanceToSquared(n.object.position)>c||8*(1-ze.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),oe.copy(n.object.position),ze.copy(n.object.quaternion),p=!1,!0)}})(),this.connect=R=>{R===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=R,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Re),n.domElement.addEventListener("pointerdown",_t),n.domElement.addEventListener("pointercancel",rn),n.domElement.addEventListener("wheel",E)},this.dispose=()=>{var R,T,ee,oe,ze,Pe;null===(R=n.domElement)||void 0===R||R.removeEventListener("contextmenu",Re),null===(T=n.domElement)||void 0===T||T.removeEventListener("pointerdown",_t),null===(ee=n.domElement)||void 0===ee||ee.removeEventListener("pointercancel",rn),null===(oe=n.domElement)||void 0===oe||oe.removeEventListener("wheel",E),null===(ze=n.domElement)||void 0===ze||ze.ownerDocument.removeEventListener("pointermove",at),null===(Pe=n.domElement)||void 0===Pe||Pe.ownerDocument.removeEventListener("pointerup",tt),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Z)};const n=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new od,d=new od;let h=1;const f=new C;let p=!1;const m=new q,g=new q,_=new q,y=new q,v=new q,b=new q,x=new q,w=new q,A=new q,M=[],S={};function B(){return Math.pow(.95,n.zoomSpeed)}function J(R){n.reverseOrbit?d.theta+=R:d.theta-=R}function ie(R){n.reverseOrbit?d.phi+=R:d.phi-=R}const V=(()=>{const R=new C;return function(ee,oe){R.setFromMatrixColumn(oe,0),R.multiplyScalar(-ee),f.add(R)}})(),X=(()=>{const R=new C;return function(ee,oe){!0===n.screenSpacePanning?R.setFromMatrixColumn(oe,1):(R.setFromMatrixColumn(oe,0),R.crossVectors(n.object.up,R)),R.multiplyScalar(ee),f.add(R)}})(),L=(()=>{const R=new C;return function(ee,oe){const ze=n.domElement;if(ze&&n.object instanceof gn&&n.object.isPerspectiveCamera){R.copy(n.object.position).sub(n.target);let Qe=R.length();Qe*=Math.tan(n.object.fov/2*Math.PI/180),V(2*ee*Qe/ze.clientHeight,n.object.matrix),X(2*oe*Qe/ze.clientHeight,n.object.matrix)}else ze&&n.object instanceof bs&&n.object.isOrthographicCamera?(V(ee*(n.object.right-n.object.left)/n.object.zoom/ze.clientWidth,n.object.matrix),X(oe*(n.object.top-n.object.bottom)/n.object.zoom/ze.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function H(R){n.object instanceof gn&&n.object.isPerspectiveCamera?h/=R:n.object instanceof bs&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*R)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function G(R){n.object instanceof gn&&n.object.isPerspectiveCamera?h*=R:n.object instanceof bs&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/R)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function U(R){m.set(R.clientX,R.clientY)}function me(R){y.set(R.clientX,R.clientY)}function dt(){1==M.length?m.set(M[0].pageX,M[0].pageY):m.set(.5*(M[0].pageX+M[1].pageX),.5*(M[0].pageY+M[1].pageY))}function rt(){1==M.length?y.set(M[0].pageX,M[0].pageY):y.set(.5*(M[0].pageX+M[1].pageX),.5*(M[0].pageY+M[1].pageY))}function Ye(){const R=M[0].pageX-M[1].pageX,T=M[0].pageY-M[1].pageY,ee=Math.sqrt(R*R+T*T);x.set(0,ee)}function ce(R){if(1==M.length)g.set(R.pageX,R.pageY);else{const ee=De(R);g.set(.5*(R.pageX+ee.x),.5*(R.pageY+ee.y))}_.subVectors(g,m).multiplyScalar(n.rotateSpeed);const T=n.domElement;T&&(J(2*Math.PI*_.x/T.clientHeight),ie(2*Math.PI*_.y/T.clientHeight)),m.copy(g)}function se(R){if(1==M.length)v.set(R.pageX,R.pageY);else{const T=De(R);v.set(.5*(R.pageX+T.x),.5*(R.pageY+T.y))}b.subVectors(v,y).multiplyScalar(n.panSpeed),L(b.x,b.y),y.copy(v)}function Ce(R){const T=De(R),ee=R.pageX-T.x,oe=R.pageY-T.y,ze=Math.sqrt(ee*ee+oe*oe);w.set(0,ze),A.set(0,Math.pow(w.y/x.y,n.zoomSpeed)),H(A.y),x.copy(w)}function _t(R){var T,ee;!1!==n.enabled&&(0===M.length&&(null===(T=n.domElement)||void 0===T||T.ownerDocument.addEventListener("pointermove",at),null===(ee=n.domElement)||void 0===ee||ee.ownerDocument.addEventListener("pointerup",tt)),function ht(R){M.push(R)}(R),"touch"===R.pointerType?function ge(R){switch(fe(R),M.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;dt(),l=a.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;rt(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function Ee(){n.enableZoom&&Ye(),n.enablePan&&rt()})(),l=a.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function gt(){n.enableZoom&&Ye(),n.enableRotate&&dt()})(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}(R):function Kt(R){let T;switch(R.button){case 0:T=n.mouseButtons.LEFT;break;case 1:T=n.mouseButtons.MIDDLE;break;case 2:T=n.mouseButtons.RIGHT;break;default:T=-1}switch(T){case 1:if(!1===n.enableZoom)return;(function $(R){x.set(R.clientX,R.clientY)})(R),l=a.DOLLY;break;case 0:if(R.ctrlKey||R.metaKey||R.shiftKey){if(!1===n.enablePan)return;me(R),l=a.PAN}else{if(!1===n.enableRotate)return;U(R),l=a.ROTATE}break;case 2:if(R.ctrlKey||R.metaKey||R.shiftKey){if(!1===n.enableRotate)return;U(R),l=a.ROTATE}else{if(!1===n.enablePan)return;me(R),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}(R))}function at(R){!1!==n.enabled&&("touch"===R.pointerType?function Se(R){switch(fe(R),l){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;ce(R),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;se(R),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function He(R){n.enableZoom&&Ce(R),n.enablePan&&se(R)})(R),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function Oe(R){n.enableZoom&&Ce(R),n.enableRotate&&ce(R)})(R),n.update();break;default:l=a.NONE}}(R):function O(R){if(!1!==n.enabled)switch(l){case a.ROTATE:if(!1===n.enableRotate)return;!function re(R){g.set(R.clientX,R.clientY),_.subVectors(g,m).multiplyScalar(n.rotateSpeed);const T=n.domElement;T&&(J(2*Math.PI*_.x/T.clientHeight),ie(2*Math.PI*_.y/T.clientHeight)),m.copy(g),n.update()}(R);break;case a.DOLLY:if(!1===n.enableZoom)return;!function ve(R){w.set(R.clientX,R.clientY),A.subVectors(w,x),A.y>0?H(B()):A.y<0&&G(B()),x.copy(w),n.update()}(R);break;case a.PAN:if(!1===n.enablePan)return;!function Me(R){v.set(R.clientX,R.clientY),b.subVectors(v,y).multiplyScalar(n.panSpeed),L(b.x,b.y),y.copy(v),n.update()}(R)}}(R))}function tt(R){var T,ee,oe;P(R),0===M.length&&(null===(T=n.domElement)||void 0===T||T.releasePointerCapture(R.pointerId),null===(ee=n.domElement)||void 0===ee||ee.ownerDocument.removeEventListener("pointermove",at),null===(oe=n.domElement)||void 0===oe||oe.ownerDocument.removeEventListener("pointerup",tt)),n.dispatchEvent(o),l=a.NONE}function rn(R){P(R)}function E(R){!1===n.enabled||!1===n.enableZoom||l!==a.NONE&&l!==a.ROTATE||(R.preventDefault(),n.dispatchEvent(s),function je(R){R.deltaY<0?G(B()):R.deltaY>0&&H(B()),n.update()}(R),n.dispatchEvent(o))}function Z(R){!1===n.enabled||!1===n.enablePan||function ne(R){let T=!1;switch(R.code){case n.keys.UP:L(0,n.keyPanSpeed),T=!0;break;case n.keys.BOTTOM:L(0,-n.keyPanSpeed),T=!0;break;case n.keys.LEFT:L(n.keyPanSpeed,0),T=!0;break;case n.keys.RIGHT:L(-n.keyPanSpeed,0),T=!0}T&&(R.preventDefault(),n.update())}(R)}function Re(R){!1!==n.enabled&&R.preventDefault()}function P(R){delete S[R.pointerId];for(let T=0;T<M.length;T++)if(M[T].pointerId==R.pointerId)return void M.splice(T,1)}function fe(R){let T=S[R.pointerId];void 0===T&&(T=new q,S[R.pointerId]=T),T.set(R.pageX,R.pageY)}function De(R){return S[(R.pointerId===M[0].pointerId?M[1]:M[0]).pointerId]}void 0!==e&&this.connect(e),this.update()}}const p5=new C;class tde extends qs{constructor(t,e){super(),ae(this,"object",void 0),ae(this,"domElement",void 0),ae(this,"enabled",!0),ae(this,"movementSpeed",1),ae(this,"lookSpeed",.005),ae(this,"lookVertical",!0),ae(this,"autoForward",!1),ae(this,"activeLook",!0),ae(this,"heightSpeed",!1),ae(this,"heightCoef",1),ae(this,"heightMin",0),ae(this,"heightMax",1),ae(this,"constrainVertical",!1),ae(this,"verticalMin",0),ae(this,"verticalMax",Math.PI),ae(this,"mouseDragOn",!1),ae(this,"autoSpeedFactor",0),ae(this,"mouseX",0),ae(this,"mouseY",0),ae(this,"moveForward",!1),ae(this,"moveBackward",!1),ae(this,"moveLeft",!1),ae(this,"moveRight",!1),ae(this,"moveUp",!1),ae(this,"moveDown",!1),ae(this,"viewHalfX",0),ae(this,"viewHalfY",0),ae(this,"lat",0),ae(this,"lon",0),ae(this,"lookDirection",new C),ae(this,"spherical",new od),ae(this,"target",new C),ae(this,"connect",n=>{n.setAttribute("tabindex","-1"),n.style.touchAction="none",n.addEventListener("contextmenu",this.contextmenu),n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),this.domElement=n,window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.handleResize()}),ae(this,"dispose",()=>{var n,r,s,o;null===(n=this.domElement)||void 0===n||n.removeEventListener("contextmenu",this.contextmenu),null===(r=this.domElement)||void 0===r||r.removeEventListener("mousedown",this.onMouseDown),null===(s=this.domElement)||void 0===s||s.removeEventListener("mousemove",this.onMouseMove),null===(o=this.domElement)||void 0===o||o.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}),ae(this,"handleResize",()=>{this.domElement&&(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)}),ae(this,"onMouseDown",n=>{var r;if(null===(r=this.domElement)||void 0===r||r.focus(),this.activeLook)switch(n.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}this.mouseDragOn=!0}),ae(this,"onMouseUp",n=>{if(this.activeLook)switch(n.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1}),ae(this,"onMouseMove",n=>{this.domElement&&(this.mouseX=n.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=n.pageY-this.domElement.offsetTop-this.viewHalfY)}),ae(this,"onKeyDown",n=>{switch(n.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"KeyR":this.moveUp=!0;break;case"KeyF":this.moveDown=!0}}),ae(this,"onKeyUp",n=>{switch(n.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1;break;case"KeyR":this.moveUp=!1;break;case"KeyF":this.moveDown=!1}}),ae(this,"lookAt",(n,r,s)=>(n instanceof C?this.target.copy(n):r&&s&&this.target.set(n,r,s),this.object.lookAt(this.target),this.setOrientation(),this)),ae(this,"update",n=>{if(!this.enabled)return;if(this.heightSpeed){const d=dr.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=n*(d*this.heightCoef)}else this.autoSpeedFactor=0;const r=n*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(r+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(r),this.moveLeft&&this.object.translateX(-r),this.moveRight&&this.object.translateX(r),this.moveUp&&this.object.translateY(r),this.moveDown&&this.object.translateY(-r);let s=n*this.lookSpeed;this.activeLook||(s=0);let o=1;this.constrainVertical&&(o=Math.PI/(this.verticalMax-this.verticalMin)),this.lon-=this.mouseX*s,this.lookVertical&&(this.lat-=this.mouseY*s*o),this.lat=Math.max(-85,Math.min(85,this.lat));let a=dr.degToRad(90-this.lat);const l=dr.degToRad(this.lon);this.constrainVertical&&(a=dr.mapLinear(a,0,Math.PI,this.verticalMin,this.verticalMax));const c=this.object.position;p5.setFromSphericalCoords(1,a,l).add(c),this.object.lookAt(p5)}),ae(this,"contextmenu",n=>n.preventDefault()),ae(this,"setOrientation",()=>{this.lookDirection.set(0,0,-1).applyQuaternion(this.object.quaternion),this.spherical.setFromVector3(this.lookDirection),this.lat=90-dr.radToDeg(this.spherical.phi),this.lon=dr.radToDeg(this.spherical.theta)}),this.object=t,this.domElement=e,this.setOrientation(),e&&this.connect(e)}}function m5(i){i.preventDefault()}class nde extends qs{constructor(t,e){super(),ae(this,"object",void 0),ae(this,"domElement",void 0),ae(this,"movementSpeed",1),ae(this,"rollSpeed",.005),ae(this,"dragToLook",!1),ae(this,"autoForward",!1),ae(this,"changeEvent",{type:"change"}),ae(this,"EPS",1e-6),ae(this,"tmpQuaternion",new zn),ae(this,"mouseStatus",0),ae(this,"movementSpeedMultiplier",1),ae(this,"moveState",{up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0}),ae(this,"moveVector",new C(0,0,0)),ae(this,"rotationVector",new C(0,0,0)),ae(this,"keydown",n=>{if(!n.altKey){switch(n.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}}),ae(this,"keyup",n=>{switch(n.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()}),ae(this,"mousedown",n=>{if(this.dragToLook)this.mouseStatus++;else{switch(n.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}}),ae(this,"mousemove",n=>{if(!this.dragToLook||this.mouseStatus>0){const r=this.getContainerDimensions(),s=r.size[0]/2,o=r.size[1]/2;this.moveState.yawLeft=-(n.pageX-r.offset[0]-s)/s,this.moveState.pitchDown=(n.pageY-r.offset[1]-o)/o,this.updateRotationVector()}}),ae(this,"mouseup",n=>{if(this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(n.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()}),ae(this,"lastQuaternion",new zn),ae(this,"lastPosition",new C),ae(this,"update",n=>{const r=n*this.movementSpeed,s=n*this.rollSpeed;this.object.translateX(this.moveVector.x*r),this.object.translateY(this.moveVector.y*r),this.object.translateZ(this.moveVector.z*r),this.tmpQuaternion.set(this.rotationVector.x*s,this.rotationVector.y*s,this.rotationVector.z*s,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),(this.lastPosition.distanceToSquared(this.object.position)>this.EPS||8*(1-this.lastQuaternion.dot(this.object.quaternion))>this.EPS)&&(this.dispatchEvent(this.changeEvent),this.lastQuaternion.copy(this.object.quaternion),this.lastPosition.copy(this.object.position))}),ae(this,"updateMovementVector",()=>{const n=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-n+this.moveState.back}),ae(this,"updateRotationVector",()=>{this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft}),ae(this,"getContainerDimensions",()=>this.domElement==document||this.domElement instanceof Document?{size:[window.innerWidth,window.innerHeight],offset:[0,0]}:{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}),ae(this,"dispose",()=>{this.domElement.removeEventListener("contextmenu",m5),this.domElement.removeEventListener("mousemove",this.mousemove),this.domElement.removeEventListener("mousedown",this.mousedown),this.domElement.removeEventListener("mouseup",this.mouseup),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup)}),void 0===e&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),e=document),this.object=t,this.domElement=e,e&&!(e instanceof Document)&&e.setAttribute("tabindex",-1),this.domElement.addEventListener("contextmenu",m5),this.domElement.addEventListener("mousemove",this.mousemove),this.domElement.addEventListener("mousedown",this.mousedown),this.domElement.addEventListener("mouseup",this.mouseup),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),this.updateMovementVector(),this.updateRotationVector()}}const xS=["*"];let rde=(()=>{class i extends Ms{constructor(){super(...arguments),this.change=new we,this.start=new we,this.end=new we,this.init=this.effect(Wt(()=>{const e=this.get(n=>n.camera);e&&this.prepareInstance(new ede(e))})),this.setBeforeRender=this.effect(Kn(()=>this.store.registerBeforeRender({priority:-1,callback:()=>{this.instance.value.enabled&&this.instance.value.update()}}))),this.connectDomElement=this.effect(Kn(()=>{const e=this.get(n=>n.domElement)||this.store.get(n=>n.events.connected)||this.store.get(n=>n.gl.domElement);return this.instance.value.connect(e),()=>{this.instance.value.dispose()}})),this.setEvents=this.effect(Kn(()=>{const{invalidate:e,performance:n}=this.store.get(),r=this.get(l=>l.regress),s=l=>{e(),r&&n.regress(),this.change.observed&&this.change.emit(l)};let o,a;return this.instance.value.addEventListener("change",s),this.start.observed&&(o=l=>{this.start.emit(l)},this.instance.value.addEventListener("start",o)),this.end.observed&&(a=l=>{this.end.emit(l)},this.instance.value.addEventListener("end",a)),()=>{this.instance.value.removeEventListener("change",s),a&&this.instance.value.removeEventListener("end",a),o&&this.instance.value.removeEventListener("start",o)}})),this.setDefaultControls=this.effect(Kn(()=>{if(this.get(n=>n.makeDefault)){const n=this.store.get(r=>r.controls);return this.store.set({controls:this.instance.value}),()=>{this.store.set({controls:n})}}}))}set enabled(e){this.set({enabled:et(e)})}set camera(e){this.set({camera:e})}set domElement(e){this.set({domElement:e})}set makeDefault(e){this.set({makeDefault:et(e)})}set regress(e){this.set({regress:et(e)})}set target(e){this.set({target:e})}set enableDamping(e){this.set({enableDamping:et(e)})}set minDistance(e){this.set({minDistance:Ie(e)})}set maxDistance(e){this.set({maxDistance:Ie(e)})}set minZoom(e){this.set({minZoom:Ie(e)})}set maxZoom(e){this.set({maxZoom:Ie(e)})}set minPolarAngle(e){this.set({minPolarAngle:Ie(e)})}set maxPolarAngle(e){this.set({maxPolarAngle:Ie(e)})}set minAzimuthAngle(e){this.set({minAzimuthAngle:Ie(e)})}set maxAzimuthAngle(e){this.set({maxAzimuthAngle:Ie(e)})}set dampingFactor(e){this.set({dampingFactor:Ie(e)})}set enableZoom(e){this.set({enableZoom:et(e)})}set zoomSpeed(e){this.set({zoomSpeed:Ie(e)})}set enableRotate(e){this.set({enableRotate:et(e)})}set rotateSpeed(e){this.set({rotateSpeed:Ie(e)})}set enablePan(e){this.set({enablePan:et(e)})}set panSpeed(e){this.set({panSpeed:Ie(e)})}set screenSpacePanning(e){this.set({screenSpacePanning:et(e)})}set keyPanSpeed(e){this.set({keyPanSpeed:Ie(e)})}set autoRotate(e){this.set({autoRotate:et(e)})}set autoRotateSpeed(e){this.set({autoRotateSpeed:Ie(e)})}set reverseOrbit(e){this.set({reverseOrbit:et(e)})}set keys(e){this.set({keys:e})}set mouseButtons(e){this.set({mouseButtons:e})}set touches(e){this.set({touches:e})}preInit(){this.set(e=>({enabled:e.enabled??!0,enableDamping:e.enableDamping??!0,domElement:e.domElement??this.store.get(n=>n.events.connected)??this.store.get(n=>n.gl.domElement)}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.get(e=>e.camera)||this.set(this.store.select(e=>e.camera).pipe(Je(e=>({camera:e})))),this.init(this.select(e=>e.camera)),this.setBeforeRender(),this.connectDomElement(this.select(this.instance$,this.select(e=>e.domElement))),this.setEvents(this.instance$),this.setDefaultControls(this.select(this.instance$,this.select(e=>e.makeDefault)))})})}get optionFields(){return{...super.optionFields,enabled:!1,target:!0,enableDamping:!1,minDistance:!0,maxDistance:!0,minZoom:!0,maxZoom:!0,minPolarAngle:!0,maxPolarAngle:!0,minAzimuthAngle:!0,maxAzimuthAngle:!0,dampingFactor:!0,enableZoom:!0,zoomSpeed:!0,enableRotate:!0,rotateSpeed:!0,enablePan:!0,panSpeed:!0,screenSpacePanning:!0,keyPanSpeed:!0,autoRotate:!0,autoRotateSpeed:!0,reverseOrbit:!0,keys:!0,mouseButtons:!0,touches:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-soba-orbit-controls"]],inputs:{enabled:"enabled",camera:"camera",domElement:"domElement",makeDefault:"makeDefault",regress:"regress",target:"target",enableDamping:"enableDamping",minDistance:"minDistance",maxDistance:"maxDistance",minZoom:"minZoom",maxZoom:"maxZoom",minPolarAngle:"minPolarAngle",maxPolarAngle:"maxPolarAngle",minAzimuthAngle:"minAzimuthAngle",maxAzimuthAngle:"maxAzimuthAngle",dampingFactor:"dampingFactor",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",enableRotate:"enableRotate",rotateSpeed:"rotateSpeed",enablePan:"enablePan",panSpeed:"panSpeed",screenSpacePanning:"screenSpacePanning",keyPanSpeed:"keyPanSpeed",autoRotate:"autoRotate",autoRotateSpeed:"autoRotateSpeed",reverseOrbit:"reverseOrbit",keys:"keys",mouseButtons:"mouseButtons",touches:"touches"},outputs:{change:"change",start:"start",end:"end"},standalone:!0,features:[nt([eo(i),Qs(i)]),ye,wi],ngContentSelectors:xS,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),sde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[rde]}),i})(),ode=(()=>{class i extends Ms{constructor(){super(...arguments),this.init=this.effect(Wt(()=>{const e=this.store.get(r=>r.camera),n=this.get(r=>r.domElement);this.prepareInstance(new tde(e,n))})),this.setBeforeRender=this.effect(Kn(()=>this.store.registerBeforeRender({priority:-1,callback:({delta:e})=>{this.instance.value.enabled&&this.instance.value.update(e)}})))}set domElement(e){this.set({domElement:e})}set enabled(e){this.set({enabled:et(e)})}set movementSpeed(e){this.set({movementSpeed:Ie(e)})}set lookSpeed(e){this.set({lookSpeed:Ie(e)})}set lookVertical(e){this.set({lookVertical:et(e)})}set autoForward(e){this.set({autoForward:et(e)})}set activeLook(e){this.set({activeLook:et(e)})}set heightSpeed(e){this.set({heightSpeed:et(e)})}set heightCoef(e){this.set({heightCoef:Ie(e)})}set heightMin(e){this.set({heightMin:Ie(e)})}set heightMax(e){this.set({heightMax:Ie(e)})}set constrainVertical(e){this.set({constrainVertical:et(e)})}set verticalMin(e){this.set({verticalMin:Ie(e)})}set verticalMax(e){this.set({verticalMax:Ie(e)})}set mouseDragOn(e){this.set({mouseDragOn:et(e)})}preInit(){super.preInit(),this.set(e=>({enabled:e.enabled??!0,domElement:e.domElement??this.store.get(n=>n.events.connected)??this.store.get(n=>n.gl.domElement)}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.store.select(e=>e.camera)),this.setBeforeRender(this.instance$)})})}get optionFields(){return{...super.optionFields,enabled:!1,movementSpeed:!0,lookSpeed:!0,lookVertical:!0,autoForward:!0,activeLook:!0,heightSpeed:!0,heightCoef:!0,heightMin:!0,heightMax:!0,constrainVertical:!0,verticalMin:!0,verticalMax:!0,mouseDragOn:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-soba-first-person-controls"]],inputs:{domElement:"domElement",enabled:"enabled",movementSpeed:"movementSpeed",lookSpeed:"lookSpeed",lookVertical:"lookVertical",autoForward:"autoForward",activeLook:"activeLook",heightSpeed:"heightSpeed",heightCoef:"heightCoef",heightMin:"heightMin",heightMax:"heightMax",constrainVertical:"constrainVertical",verticalMin:"verticalMin",verticalMax:"verticalMax",mouseDragOn:"mouseDragOn"},standalone:!0,features:[nt([eo(i),Qs(i)]),ye,wi],ngContentSelectors:xS,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),ade=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[ode]}),i})(),lde=(()=>{class i extends Ms{constructor(){super(...arguments),this.change=new we,this.init=this.effect(Wt(()=>{const e=this.store.get(r=>r.camera),n=this.get(r=>r.domElement);this.prepareInstance(new nde(e,n))})),this.setup=this.effect(Kn(()=>{const e=this.store.registerBeforeRender({callback:({delta:r})=>{this.instance.value?.update(r)}}),n=r=>{this.store.get(o=>o.invalidate)(),this.change.observed&&this.change.emit(r)};return this.instance.value?.addEventListener("change",n),()=>{e(),this.instance.value?.removeEventListener("change",n)}}))}set domElement(e){this.set({domElement:e})}set movementSpeed(e){this.set({movementSpeed:Ie(e)})}set rollSpeed(e){this.set({rollSpeed:Ie(e)})}set dragToLook(e){this.set({dragToLook:et(e)})}set autoForward(e){this.set({autoForward:et(e)})}preInit(){super.preInit(),this.set(e=>({domElement:e.domElement??this.store.get(n=>n.events.connected)??this.store.get(n=>n.gl.domElement)}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular(()=>{this.store.onReady(()=>{this.init(this.store.select(e=>e.camera)),this.setup(this.instance$)})})}get optionFields(){return{...super.optionFields,movementSpeed:!0,rollSpeed:!0,dragToLook:!0,autoForward:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-soba-fly-controls"]],inputs:{domElement:"domElement",movementSpeed:"movementSpeed",rollSpeed:"rollSpeed",dragToLook:"dragToLook",autoForward:"autoForward"},outputs:{change:"change"},standalone:!0,features:[nt([eo(i),Qs(i)]),ye,wi],ngContentSelectors:xS,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),cde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[lde]}),i})();function wS(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function hd(i,t){const e=t?"":"none";wS(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function g5(i,t,e){wS(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Iy(i,t){return t&&"none"!=t?i+" "+t:i}function _5(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function CS(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}function SS(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function DS(i,t,e){const{top:n,bottom:r,left:s,right:o}=i;return e>=n&&e<=r&&t>=s&&t<=o}function Kf(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function y5(i,t,e,n){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=i,u=l*t,d=c*t;return n>r-d&&n<o+d&&e>a-u&&e<s+u}class v5{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:SS(e)})})}handleScroll(t){const e=Vr(t),n=this.positions.get(e);if(!n)return null;const r=n.scrollPosition;let s,o;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Kf(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function b5(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===n?w5(i,t):("input"===n||"select"===n||"textarea"===n)&&x5(i,t),M5("canvas",i,t,w5),M5("input, textarea, select",i,t,x5),t}function M5(i,t,e,n){const r=t.querySelectorAll(i);if(r.length){const s=e.querySelectorAll(i);for(let o=0;o<r.length;o++)n(r[o],s[o])}}let hde=0;function x5(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${hde++}`)}function w5(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}const C5=cl({passive:!0}),Oy=cl({passive:!1}),ES=new Set(["position"]);class pde{constructor(t,e,n,r,s,o){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Be,this._pointerMoveSubscription=Ut.EMPTY,this._pointerUpSubscription=Ut.EMPTY,this._scrollSubscription=Ut.EMPTY,this._resizeSubscription=Ut.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Be,this.started=new Be,this.released=new Be,this.ended=new Be,this.entered=new Be,this.exited=new Be,this.dropped=new Be,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new v5(n),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=wt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>hd(n,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>_i(n)),this._handles.forEach(n=>hd(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=_i(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Oy),e.addEventListener("touchstart",this._pointerDown,C5),e.addEventListener("dragstart",this._nativeDragStart,Oy)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?_i(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),hd(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),hd(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Zf(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,r=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),g5(n,!1,ES),this._document.body.appendChild(r.replaceChild(s,n)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=Zf(e),s=!r&&0!==e.button,o=this._rootElement,a=Vr(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?dg(e):ug(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),n||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=SS(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){g5(this._rootElement,!0,ES),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,o,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const s=t.matchSize?this._initialClientRect:null,o=t.viewContainer.createEmbeddedView(n,t.context);o.detectChanges(),r=D5(o,this._document),this._previewRef=o,t.matchSize?E5(r,s):r.style.transform=Ry(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=b5(this._rootElement),E5(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return wS(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ES),hd(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function dde(i){const t=getComputedStyle(i),e=CS(t,"transition-property"),n=e.find(a=>"transform"===a||"all"===a);if(!n)return 0;const r=e.indexOf(n),s=CS(t,"transition-duration"),o=CS(t,"transition-delay");return _5(s[r])+_5(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=o=>{(!o||Vr(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=D5(this._placeholderRef,this._document)):n=b5(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,o=Zf(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-a.left),y:s.top-t.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Zf(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,s=n.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);n=S5(n,a.left+s,a.right-(l-s)),r=S5(r,u,d)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(n-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>s.y?1:-1,s.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,hd(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Oy),t.removeEventListener("touchstart",this._pointerDown,C5),t.removeEventListener("dragstart",this._nativeDragStart,Oy)}_applyRootElementTransform(t,e){const n=Ry(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Iy(n,this._initialTransform)}_applyPreviewTransform(t,e){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=Ry(t,e);this._preview.style.transform=Iy(r,n)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const s=r.left-n.left,o=n.right-r.right,a=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,r.height>n.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Zf(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=Vr(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Kf(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=zM(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return _i(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Ry(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function S5(i,t,e){return Math.max(t,Math.min(e,i))}function Zf(i){return"t"===i.type[0]}function D5(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function E5(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Ry(t.left,t.top)}function Qf(i,t){return Math.max(0,Math.min(t,i))}class gde{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,n,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(g=>g.drag===t),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return function mde(i,t,e){const n=Qf(t,i.length-1),r=Qf(e,i.length-1);if(n===r)return;const s=i[n],o=r<n?-1:1;for(let a=n;a!==r;a+=o)i[a]=i[a+o];i[r]=s}(s,l,o),s.forEach((g,_)=>{if(m[_]===g)return;const y=g.drag===t,v=y?f:p,b=y?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=v,a?(b.style.transform=Iy(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Kf(g.clientRect,0,v)):(b.style.transform=Iy(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Kf(g.clientRect,v,0))}),this._previousSwap.overlaps=DS(d,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(t,e,n,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,t)}else _i(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{Kf(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:SS(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===n&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*n];let a=s[r?"width":"height"]*n;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===n?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return r?t>=o.right:e>=o.bottom}{const o=n[0].clientRect;return r?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,n,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(r){const c=s?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return s?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return-1!==o&&this._sortPredicate(o,t)?o:-1}}class _de{constructor(t,e,n,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Be,this.entered=new Be,this.exited=new Be,this.dropped=new Be,this.sorted=new Be,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ut.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Be,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ude(i=0,t=Ah){return i<0&&(i=0),Wh(i,i,t)}(0,zk).pipe(Vt(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=_i(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new v5(n),this._sortStrategy=new gde(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,s,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=_i(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!y5(this._clientRect,.05,e,n))return;const s=this._sortStrategy.sort(t,e,n,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,s=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||n||y5(o.clientRect,.05,t,e)&&([r,s]=function yde(i,t,e,n){const r=A5(t,n),s=I5(t,e);let o=0,a=0;if(r){const l=i.scrollTop;1===r?l>0&&(o=1):i.scrollHeight-l>i.clientHeight&&(o=2)}if(s){const l=i.scrollLeft;1===s?l>0&&(a=1):i.scrollWidth-l>i.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(r||s)&&(n=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=A5(l,e),s=I5(l,t),n=window}n&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=n,(r||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=_i(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=_i(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=_i(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&DS(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!DS(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const s=_i(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=zM(_i(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function A5(i,t){const{top:e,bottom:n,height:r}=i,s=.05*r;return t>=e-s&&t<=e+s?1:t>=n-s&&t<=n+s?2:0}function I5(i,t){const{left:e,right:n,width:r}=i,s=.05*r;return t>=e-s&&t<=e+s?1:t>=n-s&&t<=n+s?2:0}const Ny=cl({passive:!1,capture:!0});let vde=(()=>{class i{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Be,this.pointerUp=new Be,this.scroll=new Be,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ny)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ny)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ny}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Ny}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new cn(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),di(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(z(ot),z(ut))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bde={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Mde=(()=>{class i{constructor(e,n,r,s){this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,n=bde){return new pde(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new _de(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(z(ut),z(ot),z(Yh),z(vde))},i.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({providers:[Mde],imports:[Mu]}),i})(),wde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[tn,tn]}),i})(),Lde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[yR,mu,tn,QM,So,yR,tn,QM,wde]}),i})();const Bde=["*"];let Vde=(()=>{class i extends Yo{objectInitFn(){return new Uo}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-group"]],standalone:!0,features:[nt([Xo(i),to(i)]),ye,wi],ngContentSelectors:Bde,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),zde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Vde]}),i})();const Hde=["object",""],Ude=["*"];let Gde=(()=>{class i extends Yo{constructor(){super(...arguments),this.object$=this.select(e=>e.object).pipe(an(e=>null!=e)),this.isPrimitive=!0}set object(e){Ze.ref(e)?(this.ref=e,this.set({object:e.value})):this.set({object:e})}get object(){return this.get(e=>e.object)}objectInitFn(){return this.object}get preObjectInit(){return e=>{this.effect(Kn(()=>{e()}))(this.object$)}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-primitive","object",""]],inputs:{object:"object"},standalone:!0,features:[nt([Xo(i),to(i)]),ye,wi],attrs:Hde,ngContentSelectors:Ude,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),jde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Gde]}),i})();const R5=["*"];let Wde=(()=>{class i extends yS{set fov(e){this.set({fov:Ie(e)})}set aspect(e){this.set({aspect:Ie(e)})}set near(e){this.set({near:Ie(e)})}set far(e){this.set({far:Ie(e)})}get cameraType(){return gn}get optionFields(){return{...super.optionFields,fov:!0,aspect:!0,near:!0,far:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-perspective-camera"]],inputs:{fov:"fov",aspect:"aspect",near:"near",far:"far"},standalone:!0,features:[nt([l5(i),o5(i)]),ye,wi],ngContentSelectors:R5,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),$de=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Wde]}),i})(),qde=(()=>{class i extends yS{set left(e){this.set({left:Ie(e)})}set right(e){this.set({right:Ie(e)})}set top(e){this.set({top:Ie(e)})}set bottom(e){this.set({bottom:Ie(e)})}set near(e){this.set({near:Ie(e)})}set far(e){this.set({far:Ie(e)})}get cameraType(){return bs}get optionFields(){return{...super.optionFields,left:!0,right:!0,top:!0,bottom:!0,near:!0,far:!0}}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=it(i)))(n||i)}}(),i.\u0275cmp=Ge({type:i,selectors:[["ngt-orthographic-camera"]],inputs:{left:"left",right:"right",top:"top",bottom:"bottom",near:"near",far:"far"},standalone:!0,features:[nt([l5(i),o5(i)]),ye,wi],ngContentSelectors:R5,decls:1,vars:0,template:function(e,n){1&e&&(jt(),xt(0))},encapsulation:2,changeDetection:0}),i})(),Yde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[qde]}),i})();const Xde=["progressSpan"];function Kde(i,t){if(1&i&&(N(0,"div",2)(1,"div")(2,"div",3),qe(3,"div",4)(4,"span",5,6),k()()()),2&i){const e=Ae().ngIf;Kd(e.containerClass),Ja("opacity",e.active?1:0),W(2),Kd(e.innerContainerClass),W(1),Kd(e.barClass),Ja("transform","scaleX("+e.progress/100+")"),W(1),Kd(e.dataClass)}}function Zde(i,t){if(1&i&&(bi(0),be(1,Kde,6,12,"div",1),Mi()),2&i){const e=t.ngIf;W(1),Y("ngIf",e.shown)}}let N5=(()=>{class i extends Gf{constructor(){super();let e=0;this.set({active:!1,errors:[]}),Rf.onStart=(n,r,s)=>{this.set({active:!0,item:n,loaded:r,total:s,progress:(r-e)/(s-e)*100})},Rf.onLoad=()=>{this.set({active:!1})},Rf.onError=n=>{this.set(r=>({errors:[...r.errors,n]}))},Rf.onProgress=(n,r,s)=>{r===s&&(e=s),this.set({active:!0,item:n,loaded:r,total:s,progress:(r-e)/(s-e)*100||100})}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})(),Qde=(()=>{class i extends Gf{constructor(e,n){super(),this.sobaProgress=e,this.zone=n,this.vm$=this.select(this.select(r=>r.shown),this.select(r=>r.loaderConfig),this.sobaProgress.select(r=>r.active),this.sobaProgress.select(r=>r.progress),(r,{dataClass:s,barClass:o,containerClass:a,innerContainerClass:l},c,u)=>({shown:r,containerClass:a,innerContainerClass:l,dataClass:s,barClass:o,active:c,progress:u})),this.initShown$=this.select(this.select(r=>r.shown),this.sobaProgress.select(r=>r.active),(r,s)=>({shown:r,active:s})),this.progress$=this.select(this.select(r=>r.loaderConfig.dataInterpolation),this.sobaProgress.select(r=>r.progress),(r,s)=>({dataInterpolation:r,progress:s})),this._progress=0,this.setShown=this.effect(Kn(({shown:r,active:s})=>{if(r!==s){const o=Wh(300).subscribe(()=>{this.set({shown:s})});return o.unsubscribe.bind(o)}})),this.setProgress=this.effect(Kn(({progress:r,dataInterpolation:s})=>{let o;const a=()=>{this.progressSpan&&(this._progress+=(r-this._progress)/2,(this._progress>.95*r||100===r)&&(this._progress=r),this.progressSpan.nativeElement.innerText=s?.(this._progress)||"",this._progress<r&&(o=requestAnimationFrame(a)))};return a(),()=>{o&&cancelAnimationFrame(o)}})),this.set({shown:e.get(r=>r.active),loaderConfig:{dataInterpolation:r=>`Loading ${r.toFixed(2)}%`}})}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.setShown(this.initShown$),this.setProgress(this.progress$)})}}return i.\u0275fac=function(e){return new(e||i)(D(N5),D(ot))},i.\u0275cmp=Ge({type:i,selectors:[["ngt-soba-loader"]],viewQuery:function(e,n){if(1&e&&mn(Xde,5),2&e){let r;We(r=$e())&&(n.progressSpan=r.first)}},standalone:!0,features:[nt([N5]),ye,wi],decls:2,vars:3,consts:[[4,"ngIf"],["class","loader-container",3,"opacity","class",4,"ngIf"],[1,"loader-container"],[1,"inner-loader"],[1,"inner-loader-bar"],[1,"inner-loader-data"],["progressSpan",""]],template:function(e,n){1&e&&(be(0,Zde,2,1,"ng-container",0),a0(1,"async")),2&e&&Y("ngIf",l0(1,1,n.vm$))},dependencies:[Bn,$0],styles:['.loader-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#171717;display:flex;align-items:center;justify-content:center;transition:opacity .3s ease;z-index:1000}.inner-loader[_ngcontent-%COMP%]{width:100px;height:3px;background:#272727;text-align:center}.inner-loader-bar[_ngcontent-%COMP%]{height:3px;width:100%;background:white;transition:transform .2s;transform-origin:left center}.inner-loader-data[_ngcontent-%COMP%]{display:inline-block;position:relative;font-feature-settings:"tnum";font-variant-numeric:tabular-nums;margin-top:.8em;color:#f0f0f0;font-size:.6em;font-family:-apple-system,BlinkMacSystemFont,Inter,Segoe UI,Helvetica Neue,Helvetica,Arial,Roboto,Ubuntu,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;white-space:nowrap}'],changeDetection:0}),i})(),Jde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i}),i.\u0275inj=Xe({imports:[Qde]}),i})(),ehe=(()=>{class i{constructor(){}intercept(e,n){const r=localStorage.getItem("id_token");if(r){const s=e.clone({headers:e.headers.set("Authorization","Bearer ".concat(r))});return n.handle(s)}return n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=_e({token:i,factory:i.\u0275fac}),i})();const the=[];let nhe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ke({type:i,bootstrap:[lY]}),i.\u0275inj=Xe({providers:[{provide:RM,useClass:ehe,multi:!0}],imports:[xI,lK,qce,TM.forRoot(the),Rue,Vue,Gue,Hue,$ue,Xue,Jue,sde,OR,gK,see,hZ,Ak,xde,fZ,vee,nQ,I$,Lde,pce,zde,jde,Zue,$le,ade,Yde,$de,cde,Jde,tJ,pJ]}),i})();(function xG(){DA=!1})(),O9().bootstrapModule(nhe).catch(i=>console.error(i))}},zt=>{zt(zt.s=914)}]);